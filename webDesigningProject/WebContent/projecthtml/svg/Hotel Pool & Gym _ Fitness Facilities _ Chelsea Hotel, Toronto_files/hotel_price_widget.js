Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},"function"!=typeof Object.create&&(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function a(){}return a.prototype=t,new a}),Object.keys||(Object.keys=function(){"use strict";var n=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=o.length;return function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,a,i=[];for(e in t)n.call(t,e)&&i.push(e);if(r)for(a=0;a<s;a++)n.call(t,o[a])&&i.push(o[a]);return i}}()),"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.from||(Array.from=function(){var e=Object.prototype.toString,d=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},i=Math.pow(2,53)-1,l=function(t){var e,a=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(a,0),i)};return function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!d(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(a=arguments[2])}for(var n,r=l(e.length),o=d(this)?Object(new this(r)):new Array(r),s=0;s<r;)n=e[s],o[s]=i?void 0===a?i(n,s):i.call(a,n,s):n,s+=1;return o.length=r,o}}()),Array.prototype.map||(Array.prototype.map=function(t,e){var a,i,n;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(a=e),i=new Array(o),n=0;n<o;){var s,d;n in r&&(s=r[n],d=t.call(a,s,n,r),i[n]=d),n++}return i}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),a=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],n=2<=arguments.length?arguments[1]:void 0,r=0;r<a;r++)if(r in e){var o=e[r];t.call(n,o,r,e)&&i.push(o)}return i}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var a,i;if(null===this)throw new TypeError(" this is null or not defined");var n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(a=e),i=0;i<r;){var o;i in n&&(o=n[i],t.call(a,o,i,n)),i++}}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),a=e.length>>>0,i=2<=arguments.length?arguments[1]:void 0,n=0;n<a;n++)if(n in e&&t.call(i,e[n],n,e))return!0;return!1}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),a=this,i=function(){},n=function(){return a.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(i.prototype=this.prototype),n.prototype=new i,n}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.remove=t.remove||function(){this.parentNode.removeChild(this)}}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),a=e.length;0<=--a&&e.item(a)!==this;);return-1<a}),function(){var e=function(t){return new RegExp("(^| )"+t+"( |$)")},t=function(t,e,a){for(var i=0;i<t.length;i++)e.call(a,t[i])};function a(t){this.element=t}a.prototype={add:function(){t(arguments,function(t){this.contains(t)||(this.element.className+=0<this.element.className.length?" "+t:t)},this)},remove:function(){t(arguments,function(t){this.element.className=this.element.className.replace(e(t),"")},this)},toggle:function(t){return this.contains(t)?(this.remove(t),!1):(this.add(t),!0)},contains:function(t){return e(t).test(this.element.className)},replace:function(t,e){this.remove(t),this.add(e)}},"classList"in Element.prototype||Object.defineProperty(Element.prototype,"classList",{get:function(){return new a(this)}}),window.DOMTokenList&&null==DOMTokenList.prototype.replace&&(DOMTokenList.prototype.replace=a.prototype.replace)}(),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){var e,a=(this.document||this.ownerDocument).querySelectorAll(t),i=this;do{for(e=a.length;0<=--e&&a.item(e)!==i;);}while(e<0&&(i=i.parentElement));return i}),function(){if("function"==typeof window.CustomEvent)return;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),a}t.prototype=window.Event.prototype,window.CustomEvent=t}(),window.JSON||(window.JSON={}),window.JSON.parse||(window.JSON.parse=function(sJSON){return eval("("+sJSON+")")}),window.JSON.stringify||(window.JSON.stringify=function(){var o=Object.prototype.toString,s=Object.prototype.hasOwnProperty,d=Array.isArray||function(t){return"[object Array]"===o.call(t)},e={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},l=function(t){return e[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},c=/[\\"\u0000-\u001F\u2028\u2029]/g;return function t(e){if(null==e)return"null";if("number"==typeof e)return isFinite(e)?e.toString():"null";if("boolean"==typeof e)return e.toString();if("object"==typeof e){if("function"==typeof e.toJSON)return t(e.toJSON());if(d(e)){for(var a="[",i=0;i<e.length;i++)a+=(i?", ":"")+t(e[i]);return a+"]"}if("[object Object]"===o.call(e)){var n=[];for(var r in e)s.call(e,r)&&n.push(t(r)+": "+t(e[r]));return"{"+n.join(", ")+"}"}}return'"'+e.toString().replace(c,l)+'"'}}()),window.Promise||function(t){var e=setTimeout;function i(){}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function n(a,i){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,r._immediateFn(function(){var t=1===a._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(a._value)}catch(t){return void s(i.promise,t)}o(i.promise,e)}else(1===a._state?o:s)(i.promise,a._value)})):a._deferreds.push(i)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof r)return e._state=3,e._value=t,void d(e);if("function"==typeof a)return void l((i=a,n=t,function(){i.apply(n,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){s(e,t)}var i,n}function s(t,e){t._state=2,t._value=e,d(t)}function d(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,a=t._deferreds.length;e<a;e++)n(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var a=!1;try{t(function(t){a||(a=!0,o(e,t))},function(t){a||(a=!0,s(e,t))})}catch(t){if(a)return;a=!0,s(e,t)}}r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var a=new this.constructor(i);return n(this,new function(t,e,a){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=a}(t,e,a)),a},r.all=function(t){var s=Array.prototype.slice.call(t);return new r(function(i,n){if(0===s.length)return i([]);var r=s.length;function o(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if("function"==typeof a)return void a.call(t,function(t){o(e,t)},n)}s[e]=t,0==--r&&i(s)}catch(t){n(t)}}for(var t=0;t<s.length;t++)o(t,s[t])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(a){return new r(function(t,e){e(a)})},r.race=function(n){return new r(function(t,e){for(var a=0,i=n.length;a<i;a++)n[a].then(t,e)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},t.Promise=r}(window),function(n){var r={initialized:!1,start_time:void 0,office:"0",mtime:(new Date).getTime(),mixpanel:!0,version:"3.2",prefix:"thn--",hostname:"thehotelsnetwork.com",mode:"hotel",pages:[],log:[],page_id:void 0,page_name:void 0,page_type:void 0,page_check_count:0,mobile:!1,tablet:!1,min_resolution:700,thn_ref:void 0,booking_iframe_listening:!1,user:{origin:null,last_search:void 0,user_id:null},page_unload_callbacks:[],window_message_events:[],window_message_processors:[],child:void 0,timezone:void 0,property_id:0,hotel_id:0,hotel_currency:"USD",BLANK_URL:"data:text/html,"},o=["initialized","start_time","window_message_events","window_message_processors","page_unload_callbacks","booking_iframe_listening","page_id","page_name","page_type","page_check_count","log","mobile","tablet"];r.host=window.location.protocol+"//www."+r.hostname,r.apihost="https://api."+r.hostname,function t(i){var e=Object.assign({},r,i&&i.init_thn_data||{});if(e.office=parseInt(e.office,10)||0,e.online=e.office?1:parseInt(e.online,10)||0,n.thn){if(["notes","price","package","last_search","exit","welcome","booking","reviews","upgrade","chat","oracle_incentives","campaigns"].forEach(function(t){var e=t+"_widget";!n.thn.widgets[t]&&n.thn.protos[e]&&(n.thn.widgets[t]=Object.create(n.thn.protos[e]),n.thn.widgets[t].setup())}),!i)return;if(n.thn.data.mode===e.mode&&n.thn.data.property_id===e.property_id)return o.forEach(function(t){delete e[t]}),Object.assign(n.thn.data,e),void Object.keys(i.widgets).forEach(function(t){var e=i.widgets[t]&&i.widgets[t].init_data,a=t+"_widget";n.thn.protos[a]&&(n.thn.widgets[t]||(n.thn.widgets[t]=Object.create(n.thn.protos[a])),n.thn.widgets[t].setup(e,!0))});n.thn.page_unload(),n.thn.__init_data=Object.assign({},e),Object.keys(i.widgets).forEach(function(t){var e=i.widgets[t]&&i.widgets[t].init_data,a=t+"_widget";n.thn.protos[a]&&n.thn.widgets[t].setup(e,!1)}),n.thn.reset()}else{var a={widgets:{oracle:{data:{probability:void 0,category:void 0,session:{probability:void 0,category:void 0}}}},protos:{},data:e,__init_data:Object.assign({},e),reset:function(){a.page_unload(),Object.keys(a.widgets).forEach(function(t){a.widgets[t].reset&&a.widgets[t].reset()}),Object.assign(this.data,this.__init_data)},setup:t};n.thn=a}}()}(window),function(i){if(!i.protos.base_widget){var t={__default_init_data:{},__protected_data:[],__exclude_binding:[],setup:function(t,e){var a=this;void 0===t&&(t={}),void 0===e&&(e=!!this.data);var i=Object.assign({},this.__default_init_data,t);e?this.__protected_data.forEach(function(t){delete i[t]}):this.__init_data=Object.assign({},i),this.data=this.data||{},Object.assign(this.data,i);for(var n=Object.getPrototypeOf(this);n!==Object.getPrototypeOf({});)Object.keys(n).forEach(function(t){var e=n[t];"function"==typeof e&&!Object.prototype.hasOwnProperty.call(a,t)&&Object.prototype.hasOwnProperty.call(e,"prototype")&&a.__exclude_binding.indexOf(t)<0&&(a[t]=e.bind(a))}),n=Object.getPrototypeOf(n)},is_online:function(t){var e=t||this.data.delegated||this.data;return i.data.office||i.data.online&&e.online&&(!i.data.mobile||e.mobile_online)},message:function(t,e){return this.data.iframe&&this.data.iframe.src!==i.data.BLANK_URL&&this.data.iframe.contentWindow&&this.data.iframe.contentWindow.postMessage(t,e||i.data.host),this},is_visible:function(){return this.data.el&&"visible"===this.data.el.style.visibility&&0<=this.data.el.style["z-index"]&&0<parseInt(this.data.el.style.width,10)&&0<parseInt(this.data.el.style.height,10)},reset:function(){Object.assign(this.data,this.__init_data)},get_payload:function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||{},a=i.get_payload(t,e),t.type){case"send_event":a.event_date=Math.floor((new Date).getTime()/1e3-(new Date).getTimezoneOffset()),a.event_type=e.event||"";break;case"add_visit":case"mixpanel":break;default:i.assign_not_empty(a,t.data,e)}return a},send_event:function(t,e){if(!e||!e.event)return this;(t=t||{}).data=t.data||{},i.add_log("Send "+this.data.Name+" event: "+e.event),i.add_log(t.data),t.type="send_event";var a=this.get_payload(t,e);return i.ajax.post(i.data.host+"/add_visit",a,function(t){i.add_log(t)},!0),i.data.calculate_time&&i.add_log("Execution time: "+(Math.floor((new Date).getTime()/1e3-(new Date).getTimezoneOffset())-i.data.time)+" seconds"),this},add_visit:function(t,e){(t=t||{}).data=t.data||{},i.add_log("************** "+this.data.Name.toUpperCase()+" VISIT SENT ****************"),i.add_log(t.data),t.type="add_visit";var a=this.get_payload(t,e);return i.ajax.post(i.data.host+"/add_visit",a,function(t){i.add_log(t)},!0),(!i.data.office||1e6===i.data.property_id)&&i.data.mixpanel&&window.mixpanel&&this.data.mixpanel_name&&this.mixpanel_track(t,e),this},mixpanel_track:function(t,e){if(!i.data.mixpanel||!window.mixpanel||!this.data.mixpanel_name)return this;(t=t||{}).data=t.data||{},t.type="mixpanel";var a=this.get_payload(t);return window.mixpanel.track(this.data.mixpanel_name,a),this}};i.protos.base_widget=t}}(window.thn),function(v){if(!v.protos.notes_widget){var n=Object.create(v.protos.base_widget);n.__default_init_data={name:"notes",Name:"Notes",mixpanel_name:"note",initialized:!1,online:0,mobile_online:0,notes:[],delay:1500,shown:0,ab_test:0,per_session:0,effect:"jelly",color:"#000000",color_txt:"#FFFFFF",color_link:"#FFFFFF",bubbles:!1,default_note_state:{checked:!1,processed:!1,to_be_shown:!1,shown:!1,opened:!1,closed:!1},no_promocode_texts:{en:"Use this code when booking your room: [[code]]."}},n.__protected_data=["initialized","notes","shown","price_notes","ab_test","bubbles"],n.__exclude_binding=[],n.show=function(a){var i=this;if(!this.is_online()&&!this.is_online(a))return!1;if(!v.is_iframed()&&a.state&&a.state.processed)return!1;var n=v.data.mobile&&!v.data.tablet;a=a||{};var r={delay:parseInt(a.delay||this.data.delay,10),effect:a.effect||this.data.effect,color:a.color||this.data.color,color_txt:a.color_txt||this.data.color_txt,color_link:a.color_link||this.data.color_link,ab_test:a.ab_test||this.data.ab_test,per_session:a.per_session||this.data.per_session,hotel_id:a.hotel_id||this.data.hotel_id||v.data.hotel_id,property_id:a.property_id||this.data.property_id||v.data.property_id,language:a.language||this.data.language||v.data.language,text:a.text,link_text:a.link_text,link_url:a.link_url,link_onclick:a.link_onclick,link_blank:a.link_blank,note_position:a.note_position,note_mob_position:a.note_mob_position,padding_h:a.padding_h,padding_v:a.padding_v,ttl:parseInt(a.ttl,10),page_id:a.page_id||v.data.page_id,page_name:a.page_name||v.data.page_name,hotel_note_id:a.id||a.note_id||a.hotel_note_id,type:a.type,oracle_incentive_id:a.oracle_incentive_id||void 0,custom_icon:a.custom_icon,extra_delay:a.extra_delay||0,z_index:a.z_index,disc:a.disc,disc_type:a.disc_type,disc_currency:a.disc_currency||v.data.hotel_currency,code:a.code,campaigns:a.campaigns||[]};r.effective_delay=r.delay*this.data.shown+1e3*parseInt(r.extra_delay,10);var t="oracle"===r.type.substr(0,6),o=function(){a.state.opened=!0},s=function(t){a.state.closed=!0,t&&t.originalEvent&&i.send_event({data:r},{event:"close"})};if(this.data.initialized||(v.page_unload(this.reset),this.data.initialized=!0),0<a.campaigns.length){var e=v.widgets.campaigns.data.campaigns.filter(function(t){if(v.in_array(t.campaign_id,a.campaigns))return t});void 0!==e[0]?r.ab_test=e[0].ab_test:r.ab_test=!v.data.office&&r.ab_test&&v.is_fingerprint_par(v.data.fingerprint)}else r.ab_test=!v.data.office&&r.ab_test&&v.is_fingerprint_par(v.data.fingerprint);if(r.disc_type&&r.disc&&r.disc_currency){var d=parseFloat(r.disc);1==r.disc_type?r.disc_text=d+"%":r.disc_text=Math.round(v.convert_currency(d,r.disc_currency,v.widgets.price.data.currency))+v.widgets.price.data.currency,r.text=r.text.replace(/\[\[discount\]\]/g,r.disc_text),r.link_text&&(r.link_text=r.link_text.replace(/\[\[discount\]\]/g,r.disc_text)),r.link_url&&"own_url"!==r.link_url&&(r.link_url=r.link_url.replace(/\[\[discount\]\]/g,r.disc_text))}if(r.code)if(r.text=r.text.replace(/\[\[code\]\]/g,r.code),r.link_text&&(r.link_text=r.link_text.replace(/\[\[code\]\]/g,r.code)),r.link_url&&"own_url"!==r.link_url)r.link_url=r.link_url.replace(/\[\[code\]\]/g,r.code);else if(r.link_url&&"own_url"===r.link_url){var l=v.engine.config.search_url||v.in_array(v.data.page_name,["Rooms and Rates","Packages"])?v.generate_search_url(v.widgets.price.data):"",c=v.generate_promocode_handler(l,v.data.promocode_vars,r.code,v.engine.config);if(c.url)r.link_url=c.url;else if(c.callback){if(!r.link_onclick){var h="__thn__"+(new Date).getTime()+Math.floor(100*Math.random())+"_note_cb";window[h]=function(t){i.send_event({data:r},{event:"click",link_url:r.code}),v.standarize_event(t).target.removeAttribute("onclick"),delete window[h],c.callback()},r.link_url="#",r.link_onclick=h+"(event); return false;"}}else{delete r.link_url,delete r.link_text;var u=(this.data.no_promocode_texts[v.data.language]||this.data.no_promocode_texts.en).replace(/\[\[code\]\]/g,r.code);r.text+=r.text.match(/\.\s*/)?u:". "+u}}if(v.is_iframed()&&this.data.bubbles&&!n){var p=this.data.referrer||v.data.referrer||document.referrer||"*",_={action:"show_notes_widget",hotel_id:v.data.hotel_id,property_id:v.data.property_id,language:this.data.language||v.data.language,ab_test:this.data.ab_test,online:this.data.online,mobile_online:this.data.mobile_online,state:JSON.stringify(a.state)};return window.parent.postMessage(Object.assign({},r,_),p),a.state.shown=!0,a.state.processed=!0,a.state.to_be_shown}if(!n&&v.get_window_width()<=v.data.min_resolution)this.data.showed=r.showed=!1,this.data.status=r.status="no-resolution",a.state.shown=!1,a.state.processed=!0;else if(r.ab_test&&!t)this.data.showed=r.showed=!1,this.data.status=r.status="ab-testing",a.state.shown=!1,a.state.processed=!0;else{if(n){if(r.effective_delay-=r.delay*this.data.shown*1e3,i.data.notes.filter(function(t){return!0===t.state.shown&&!1===t.state.closed}).length)return!1;s=function(t){a.state.closed=!0,t&&t.originalEvent&&i.send_event({data:r},{event:"close"});var e=i.data.notes.filter(function(t){return!0===t.state.to_be_shown&&!1===t.state.processed});e.length&&setTimeout(function(){i.show(e[0])},1e3)}}r.link_text&&r.link_url&&(r.link_url.match(/^((https?:)?\/\/|#)/)||(r.link_url="http://"+r.link_url),r.text=r.text+' <a style="color:'+r.color_link+';" href="'+r.link_url+'"',r.link_onclick?r.text=r.text+' onclick="'+r.link_onclick+'"':r.text=r.text+' target="'+(null!=r.link_blank&&"1"==r.link_blank?"_blank":"_parent")+'"',r.text=r.text+">"+r.link_text+"</a>"),v.add_log("*************** Showing Note ***************"),v.add_log(a),this.data.showed=r.showed=!0,this.data.status=r.status="ok",a.state.shown=!0,a.state.processed=!0,this.data.shown+=1;var g=1031992===v.data.account_user_id?"silent":"notice",f=setTimeout(function(){var t=new v.NotificationFx({message:r.text,layout:"growl",type:g,effect:r.effect,position:n?r.note_mob_position:r.note_position,padding_v:r.padding_v,padding_h:r.padding_h,color:r.color,text_color:r.color_txt,ttl:1e3*r.ttl,note_type:r.type,icon:r.custom_icon,wrapper:document.body,onOpen:o,onClose:s,"z-index":r.z_index,is_mobile:n,text_align:v.in_array(v.data.language,v.data.right_align_languages)?"right":"",prefix:v.data.prefix});if(r.link_url&&!r.link_onclick){var e=v.delegate(t.ntf,"click","a",function(){i.send_event({data:r},{event:"click",link_url:r.link_url}),e()});v.page_unload(e)}t.show(),v.page_unload(t.dismiss.bind(t))},r.effective_delay);v.page_unload(function(){clearTimeout(f)}),v.data.widget_analytics&&v.call_client_analytics(this.data.Name)}return this.add_visit({data:r}),a.state.to_be_shown},n.check_notes_array=function(t){var a=this;return t&&Array.isArray(t)&&(!!(v.data.timezone&&v.data.date_format&&v.data.tz_description&&t.some(function(t){return!!(t.rng_hour_from||t.rng_hour_to||t.rng_weekday_from||t.rng_weekday_to)}))?v.require(["moment","moment-timezone"],function(e){e.tz.add(v.data.tz_description),t.forEach(function(t){a.check_and_show(t,e)})}):t.forEach(a.check_and_show)),this},n.check_and_show=function(e,t){var a=this;if(!this.is_online()&&!this.is_online(e))return!1;var n=v.data.mobile&&!v.data.tablet;if(!0===e.state.checked)return v.add_log("[notes] Notice: note "+e.note_id+" has already been checked"),e.state.to_be_shown;var r=v.check_origins(e.origins,[v.parse_url_parameter("force_ntw_origin"),document.referrer,v.parse_url_parameter("utm_source"),v.data.visits.last_visit_origin]),o="today_special_offer"===e.type||"discount_today"===e.type||"oracle_discount"===e.type||"oracle_pop_incentive"===e.type,s=e.prc_sold_out&&0!=e.prc_sold_out||e.prc_price_from&&e.prc_price_to||e.search_dateranges&&0<e.search_dateranges.length||e.rng_stay_from||e.rng_stay_to||e.rng_days_from||e.rng_days_to||e.code&&!v.engine.config.search_url&&v.in_array(v.data.page_name,["Rooms and Rates","Packages"]);if(o&&!v.widgets.price.is_set_and_loaded()||s&&!v.widgets.price.is_set({no_rooms:!0}))return!1;var d=v.widgets.campaigns.data.campaigns.filter(function(t){for(i=0;i<t.tools.length;i++)if(t.tools[i].aux_id==e.note_id&&"notes"==t.tools[i].type)return t}),l=e.dateranges.filter(function(t){return 1==t.appear}),c=e.dateranges.filter(function(t){return 0==t.appear}),h=e.geolocations.filter(function(t){return 1==t.appear}),u=e.geolocations.filter(function(t){return 0==t.appear});if(v.data.page_id&&v.data.page_name===e.page_name&&r&&(!l||0==l.length||0<l.length&&v.in_array_dateranges(new Date,l.map(function(t){return{date_begin:t.date_begin,date_end:t.date_end}})))&&(!c||0==c.length||0<c.length&&!v.in_array_dateranges(new Date,c.map(function(t){return{date_begin:t.date_begin,date_end:t.date_end}})))&&(null==e.rng_retrgt_from||""==e.rng_retrgt_from||1!=e.rng_retrgt_from&&e.rng_retrgt_from<=((new Date).getTime()-1e3*v.data.visits.last_visit_date)/864e5||1==e.rng_retrgt_from&&4<((new Date).getTime()-1e3*v.data.visits.last_visit_date)/36e5)&&(null==e.rng_retrgt_to||""==e.rng_retrgt_to||e.rng_retrgt_to>=((new Date).getTime()-1e3*v.data.visits.last_visit_date)/864e5)&&(null==e.rng_lstpge_from||"0"==e.rng_lstpge_from||e.rng_lstpge_from<=v.data.visits.last_bkng_page)&&(null==e.rng_lstpge_to||"0"==e.rng_lstpge_to||e.rng_lstpge_to>=v.data.visits.last_bkng_page)&&v.is_in_data_range(t&&t.tz?parseInt(t().tz(v.data.timezone).format("H")):null,e.rng_hour_from,e.rng_hour_to)&&v.is_in_data_range(t&&t.tz?parseInt(t().tz(v.data.timezone).format("e")):null,e.rng_weekday_from,e.rng_weekday_to)&&(0==e.show_to_logged||1==e.show_to_logged&&v.is_user_logged()||2==e.show_to_logged&&!v.is_user_logged())&&""!==e.text&&(n&&"1"==e.visible_mobile||!n&&"1"==e.visible_desktop)&&(!h||0==h.length||0<h.length&&v.in_array(v.data.location.geoname_ids,h.map(function(t){return t.geoname_id})))&&(!u||0==u.length||0<u.length&&!v.in_array(v.data.location.geoname_ids,u.map(function(t){return t.geoname_id})))&&(!e.variables||v.in_array_parameters(v.parse_url_parameters(),e.variables))&&(!e.code||e.code!==v.widgets.price.get_promocode())&&("custom"===e.type||"now_viewing"===e.type&&3<=e.aux_data||"book_now"===e.type||"lowest_price"===e.type||"today_viewed"===e.type&&10<=e.aux_data||"booked_today"===e.type&&3<=e.aux_data||"last_week_stayed"===e.type&&25<=e.aux_data||"last_reservation"===e.type&&0<e.aux_data&&e.aux_data<=360||"discount_today"===e.type||"great_dates"===e.type||"availability_low"===e.type||"lock_great_price"===e.type||"book_now_pay_hotel"===e.type||"lowest_available"===e.type||"sign_loyalty"===e.type||"other_travelers_say"===e.type||"excelent_transport"===e.type||"excelent_attractions"===e.type||"today_special_offer"===e.type||"special_offer"===e.type||"oracle_discount"===e.type&&void 0!==e.oracle_incentive_id||"oracle_pop_incentive"===e.type&&void 0!==e.oracle_incentive_id)&&(!this.data.per_session||this.data.per_session&&3600<(new Date).getTime()/1e3-e.last_date)&&(0==d.length||0<d.length&&v.in_array(v.widgets.campaigns.data.applied_campaigns,d.map(function(t){return t.campaign_id}))))if(e.state.to_be_shown=!0,e.state.checked=!0,e.campaigns=d.map(function(t){return t.campaign_id}).filter(function(t){if(v.in_array(t,v.widgets.campaigns.data.applied_campaigns))return t}),"last_reservation"===e.type&&e.aux_data<120&&(e.aux_data=120),"special_offer"===e.type&&(e.text=e.text.replace("XXXXXX","[[discount]]").replace("YYYYYY","[[code]]"),e.link_text&&(e.link_text=e.link_text.replace("XXXXXX","[[discount]]").replace("YYYYYY","[[code]]"))),1013157===v.data.property_id?e.z_index=1041:1033122===v.data.account_user_id&&(e.z_index=1e9),s||o){if(o&&v.widgets.price.is_set_and_loaded()||s&&v.widgets.price.is_set({no_rooms:!0})){if((1==e.prc_sold_out&&"no-rooms"!==v.widgets.price.data.status||2==e.prc_sold_out&&"no-rooms"===v.widgets.price.data.status)&&(e.state.to_be_shown=!1),e.prc_price_from&&e.prc_price_to){var p=v.convert_currency(v.widgets.price.data.price,v.widgets.price.data.currency,"USD")*v.days_between(v.widgets.price.data.date_begin,v.widgets.price.data.date_end),_=v.convert_currency(e.prc_price_from,e.prc_price_currency,"USD"),g=v.convert_currency(e.prc_price_to,e.prc_price_currency,"USD");(!p||!_||!g||p<_||g<p)&&(e.state.to_be_shown=!1)}var f=e.search_dateranges.filter(function(t){return 1==t.appear}),m=e.search_dateranges.filter(function(t){return 0==t.appear});if((e.rng_days_from&&v.days_between(new Date,new Date(v.widgets.price.data.date_begin))<e.rng_days_from||e.rng_days_to&&v.days_between(new Date,new Date(v.widgets.price.data.date_begin))>e.rng_days_to||e.rng_stay_from&&v.days_between(new Date(v.widgets.price.data.date_begin),new Date(v.widgets.price.data.date_end))<e.rng_stay_from||e.rng_stay_to&&v.days_between(new Date(v.widgets.price.data.date_begin),new Date(v.widgets.price.data.date_end))>e.rng_stay_to||f&&0<f.length&&0==f.filter(function(t){if(0<=v.days_between(new Date(t.date_begin),new Date(v.widgets.price.data.date_begin)))return t}).length&&0==f.filter(function(t){if(v.days_between(new Date(t.date_end),new Date(v.widgets.price.data.date_end))<=0)return t}).length||m&&0<m.length&&0<m.filter(function(t){if(0<=v.days_between(new Date(t.date_begin),new Date(v.widgets.price.data.date_begin)))return t}).length&&0<m.filter(function(t){if(v.days_between(new Date(t.date_end),new Date(v.widgets.price.data.date_end))<=0)return t}).length)&&(e.state.to_be_shown=!1),v.in_array(e.type,["special_offer","today_special_offer","discount_today","custom","oracle_discount","oracle_pop_incentive","lock_great_price","availability_low"])||(e.state.to_be_shown=!1),e.state.to_be_shown)if("discount_today"===e.type)v.ajax.get(v.data.host+"/get_hotel_note_aux_data",{date_begin:v.widgets.price.data.date_begin,date_end:v.widgets.price.data.date_end,price:v.widgets.price.data.price,currency:v.widgets.price.data.currency,guests:v.widgets.price.data.guests,property_id:this.data.property_id||v.data.property_id,type:e.type,token:v.data.token},function(t){v.is_json(t)&&((t=JSON.parse(t)).data=parseFloat(t.data),t&&1==t.result&&10<=t.data&&t.data<100&&(e.text=e.text.replace("XXXXXX",t.data),a.show(e)))},!0);else{if("today_special_offer"===e.type){var w=v.widgets.price.data.disparity&&v.widgets.price.data.disparity.price||v.widgets.price.data.price;e.text=e.text.replace("XXXXXX",w+" "+v.widgets.price.data.currency)}"special_offer"===e.type&&(e.text=e.text.replace("YYYYYY","[[code]]").replace("XXXXXX","[[discount]]")),this.show(e)}}}else"last_reservation"===e.type?e.text=e.text.replace("XXXXXX",Math.ceil(parseInt(e.aux_data)/60)):e.text=e.text.replace("XXXXXX",parseInt(e.aux_data)),this.show(e);return e.state.to_be_shown},n.is_online=function(t){var e=t||this.data.delegated||this.data;if(v.data.office)return!0;if(!v.data.online)return!1;if(!(e.online||e.type&&"oracle"===e.type.substr(0,6)&&v.widgets.oracle_incentives.is_online()))return!1;var a=e.mobile_online||e.type&&"oracle"===e.type.substr(0,6)&&v.widgets.oracle_incentives.is_online();return!(v.data.mobile&&!v.data.tablet&&!a)},n.reset=function(){var e=this;if(Object.assign(this.data,{initialized:!1,shown:0}),this.data.notes.forEach(function(t){t.state=Object.assign({},e.data.default_note_state),t.oracle_incentive_id=void 0}),v.is_iframed()&&this.data.bubbles){var t=this.data.referrer||v.data.referrer||document.referrer||"*";window.parent.postMessage({action:"reset_notes_widget"},t)}return this},n.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||{},a=Object.getPrototypeOf(n).get_payload.call(this,t,e),t.type){case"mixpanel":a.hotel_note_id=t.data.hotel_note_id||t.data.note_id;break;case"add_visit":a.notes=[{note_id:t.data.hotel_note_id||t.data.note_id,showed:t.data.showed?1:0,status:t.data.status?t.data.status:""}],t.data.oracle_incentive_id&&(a.notes[0].oracle_incentive_id=t.data.oracle_incentive_id),t.data.campaigns&&(a.notes[0].campaigns=t.data.campaigns);break;case"send_event":a.notes=[{note_id:t.data.hotel_note_id||t.data.note_id,event:a.event_type,event_date:a.event_date,link_url:a.link_url}];break;default:a.note_id=t.data.hotel_note_id||t.data.note_id}return a},v.protos.notes_widget=n}}(window.thn),function(m){if(!m.protos.price_widget){var i=Object.create(m.protos.base_widget);i.__default_init_data={mode:"auto",name:"price",Name:"Price",mixpanel_name:"price-monitor",prefix:"prc_",id:"eighty_hotel_price_check_widget",selectors:{close_tip_button:"."+m.data.prefix+"thn_tip_container ."+m.data.prefix+"close",toggle_generic_button:"."+m.data.prefix+"toggle_open",open_terms_button:"a."+m.data.prefix+"terms_and_conditions",close_terms_button:"button."+m.data.prefix+"dismiss_modal",thn_link:"."+m.data.prefix+"powered_by > a",learn_more_summary_button:"."+m.data.prefix+"learn_more_summary button",learn_more_form_button:"."+m.data.prefix+"learn_more_form button",learn_more_section:"."+m.data.prefix+"learn_more_popover",save_search_section:"."+m.data.prefix+"save_search_popover",save_search_form_button:"."+m.data.prefix+"save_search_form button",generic_states:["step_summary","step_form","step_loading","step_success","step_error"].map(function(t){return m.data.prefix+t}),tip_container:"."+m.data.prefix+"thn_tip_container",generic_container:"."+m.data.prefix+"can_open",apply_promocode_button:"."+m.data.prefix+"apply_promocode"},initialized:!1,online:0,mobile_online:0,version:1,ab_test:0,showed:void 0,status:void 0,position:"UR",mobile_position:"BT",format:1,terms:!1,ota_anonym:!1,ota_anonym_texts:{},ss_url_option:0,ss_custom_url:"",ss_js_url:"",initialized_searches:{},initialize_search_always:!0,requests:{},language:void 0,url:void 0,guests:2,adults:void 0,children:void 0,babies:void 0,rooms:1,rooms_dispo:void 0,currency:"EUR",price:void 0,date_begin:void 0,date_end:void 0,flight_origin:void 0,flight_destination:void 0,set:!1,no_rooms:void 0,referrer:void 0,bubbles:!1,price_night:1},i.__protected_data=["initialized","initialized_searches","requests","ab_test","showed","status","language","url","guests","adults","children","babies","rooms","rooms_dispo","currency","price","date_begin","date_end","flight_origin","flight_destination","set","no_rooms","referrer","bubbles"],i.__exclude_binding=[],i.init=function(t,e){return m.add_log("Initializing "+this.data.Name+" Widget"+(this.data.initialized?" (again)":"")),m.add_log(t),e=e||{},this.set_config(t),this.data.initialized&&!e.init||(this.data.showed=!1,this.data.status="",this.reset(),this.data.ab_test=!m.data.office&&this.data.ab_test&&m.is_fingerprint_par(m.data.fingerprint),m.propagate_vars()),"auto"===this.data.mode?(t&&"message"===t.origin||this.observe_dom(t),this.set_data(t),this.is_set()&&(m.add_log("******************** SHOWING WIDGET IN THE INITIALIZATION *********************"),this.show())):t&&this.set_data(t),this.data.initialized=!0,this},i.is_set=function(t){return void 0===(t=t||{}).no_rooms&&(t.no_rooms=!1),!0===t.no_rooms&&!0===this.data.no_rooms||!!(this.data.set&&this.data.guests&&this.data.price&&m.is_numeric(this.data.price)&&0<parseInt(this.data.price,10)&&this.data.date_begin&&this.data.date_end)},i.is_set_and_loaded=function(t){return void 0===(t=t||{}).no_rooms&&(t.no_rooms=!0),this.is_set(t)&&this.data.status},i.is_online=function(){return m.data.office||m.data.online&&"corporative"===m.data.mode||m.data.online&&this.data.online&&(!m.data.mobile||this.data.mobile_online)},i.reset=function(t){return void 0===(t=t||{}).only_data&&(t.only_data=!1),void 0===t.only_ui&&(t.only_ui=!1),this.data.el&&!t.only_data&&(this.data.el.style.width="",this.data.el.style.height="",this.data.el.style.visibility="hidden",0<this.data.el.style["z-index"]&&(this.data.el.style["z-index"]*=-1)),t.only_ui||(Object.assign(this.data,{language:void 0,url:void 0,guests:2,adults:void 0,children:void 0,babies:void 0,rooms:1,currency:"EUR",price:void 0,date_begin:void 0,date_end:void 0,set:!1,no_rooms:void 0,rooms_dispo:void 0,status:void 0,flight_origin:void 0,flight_destination:void 0}),this.data.status_checker&&clearInterval(this.data.status_checker),delete this.data.status_checker,delete this.data.status_checks,delete this.data.status_checker_ongoing,delete this.data.status_checker_exec_show),this},i.update=function(t,e){return e=e||{},!this.data.initialized||e.init?(this.init(t,e),"manual"===this.data.mode&&this.show()):this.remove().set_data(t).show(),this},i.refresh=function(t){if(this.is_set()){var e=JSON.stringify(this.validate(this.data,!0));this.reset({only_data:!0}).set_data(t);var a=this.is_set()&&JSON.stringify(this.validate(this.data,!0));a&&(a!==e?this.reset({only_ui:!0}).show():m.add_log("Same data detected: aborted "+this.data.Name+" Widget request."))}else this.is_visible()||this.update(t);return this},i.remove=function(t){if(void 0===t&&(t=!0),this.data.iframe&&(this.data.iframe.src=m.data.BLANK_URL),this.hide(),t&&this.reset(),m.is_iframed()&&this.data.bubbles){var e=this.data.referrer||m.data.referrer||document.referrer||"*";window.parent.postMessage({action:"remove_"+this.data.name+"_widget"},e)}return this},i.create=function(){var e=this;if(this.data.el)return this;var t=99999999;switch(this.data.style={visibility:"hidden",display:"block",float:"none",margin:0,padding:0,border:0,"background-color":"transparent",position:"fixed","z-index":t},this.data.format){default:case 1:this.data.format_readable="normal";break;case 2:this.data.format_readable="compact";break;case 3:case 4:this.data.format_readable="landscape"}this.data.el=m.create_element("div",{id:this.data.id}),document.body.appendChild(this.data.el);var a=!m.data.tablet&&!m.data.mobile&&"landscape"===this.data.format_readable;return 1!=this.data.version||a?(2==this.data.version||a)&&(m.supports("Shadow DOM")&&(this.data.shadow_root=this.data.el.attachShadow({mode:"closed"}),this.data.shadow_el=m.create_element("div",{class:this.data.id}),this.data.shadow_root.appendChild(this.data.shadow_el)),["thn",this.data.name+"_widget","is_open","can_open","phone_"+this.data.mobile_position,"desktop_"+this.data.position,"format_"+this.data.format,"format_"+this.data.format_readable,this.data.language||m.data.language].forEach(function(t){(e.data.shadow_el||e.data.el).classList.add(m.data.prefix+t)}),m.data.mobile&&!m.data.tablet?(this.data.shadow_el||this.data.el).classList.add(m.data.prefix+"is_phone"):(this.data.shadow_el||this.data.el).classList.add(m.data.prefix+"is_desktop"),this.data.modal=m.create_element("div",{id:this.data.id+"_modal",class:m.data.prefix+"thn "+m.data.prefix+"widget_modal",style:{"z-index":this.data.style["z-index"]+1}}),(this.data.shadow_root||document.body).appendChild(this.data.modal)):(this.data.style.overflow="hidden",136===m.data.booking_system?this.data.style["z-index"]=1003:139===m.data.booking_system&&(this.data.style["z-index"]=4),m.data.mobile&&!m.data.tablet?(this.data.style["box-shadow"]="0px 0px 30px rgba(0,0,0,0.4)","BT"===this.data.mobile_position?(this.data.style.bottom=0,8===m.data.booking_system&&(this.data.style["z-index"]=100),document.body.style.height=document.body.clientHeight+55+"px"):8===m.data.booking_system&&(this.data.style["z-index"]=300),26===m.data.booking_system&&(this.data.style["z-index"]=3)):(8===m.data.booking_system&&1032354!==m.data.account_user_id&&(t=100),this.data.style["R"===this.data.position.charAt(1)?"right":"left"]="30px","L"===this.data.position.charAt(0)?this.data.style.bottom="30px":"U"===this.data.position.charAt(0)?this.data.style.top="30px":"C"===this.data.position.charAt(0)&&(this.data.style.top="50%",this.data.style.transform="translate(0%, -50%)",this.data.style["-ms-transform"]="translate(0%, -50%)",this.data.style["-webkit-transform"]="translate(0%, -50%)",this.data.style["-moz-transform"]="translate(0%, -50%)")),this.listen(),this.data.iframe||(this.data.iframe=m.create_element("iframe",{id:this.data.id+"_iframe"}),this.data.el.appendChild(this.data.iframe))),m.page_unload(this.destroy),this.data.style["z-index"]*=-1,this.data.el.setAttribute("style",Object.keys(this.data.style).map(function(t){return t+":"+e.data.style[t]}).join(";")),this},i.destroy=function(){if(this.data.el&&(this.data.el.remove(),this.data.el=null,this.data.iframe=null),this.data.modal&&(this.data.modal.remove(),this.data.modal=null),this.unlisten(),m.is_iframed()&&this.data.bubbles){var t=this.data.referrer||m.data.referrer||document.referrer||"*";window.parent.postMessage({action:"destroy_"+this.data.name+"_widget"},t)}return this},i.hide=function(){return this.data.el&&(this.data.el.style.visibility="hidden",0<this.data.el.style["z-index"]&&(this.data.el.style["z-index"]*=-1)),this.data.modal&&this.data.modal.classList.remove(m.data.prefix+"modal-open"),this},i.init_search=function(){var r=this;if(!this.is_enough_to_init(this.data)||"no-rooms"===this.data.status)return this;var a=JSON.stringify(this.validate(Object.assign({},this.data,{price:""}),!0));if(this.data.initialized_searches[a]||a in this.data.initialized_searches&&this.data.status_checker)return this;this.data.requests[a]=this.data.requests[a]||{},this.data.requests[a].init_time=(new Date).getTime(),this.data.status_checker&&(clearInterval(this.data.status_checker),delete this.data.status_checker,delete this.data.status_checks,delete this.data.status_checker_ongoing,delete this.data.status_checker_exec_show),this.data.initialized_searches[a]=0;var o=Object.assign({},this.get_data(),{price:"",token:m.data.token}),t=m.build_query(o),s=m.data.host+"/init-hotel-"+this.data.name+"-check-widget?"+t;return m.ajax.get(s,{},function(t){var e,a,i=m.is_json(t)&&window.JSON&&JSON.parse(t),n=i.result&&1==i.result?"OK":"FAILED";m.add_log("*************** Initialized "+r.data.Name+" Widget Search ***************"),m.add_log("Status: "+n+" - URL: "+s),r.data.room_details&&(e=m.data.host+"/set-hotel-"+r.data.name+"-check-widget-room-details?",a=Object.assign({},o,{room_details:r.data.room_details,token:m.data.token}),m.ajax.post(e,a,function(){m.add_log("*************** Sent "+r.data.Name+" Widget Room Details ***************"),m.add_log("URL: "+e+" - Data: "),m.add_log(a)}))}),s=m.data.host+"/status-hotel-"+this.data.name+"-check-widget?"+t,this.data.status_checks=0,this.data.status_checker_ongoing=!1,this.data.status_checker_exec_show=!1,this.data.status_checker=setInterval(function(){r.data.status_checker_ongoing?m.add_log("[PW] Warning: detected ongoing remote status"):(m.ajax.get(s,{},function(t){r.data.status_checker_ongoing=!1;var e=m.is_json(t)&&window.JSON&&JSON.parse(t);e.result&&1==e.result?(r.data.initialized_searches[a]=1,m.add_log("[PW] Check remote status: READY"),clearInterval(r.data.status_checker),r.data.status_checker=null,r.data.status_checker_exec_show&&r.show()):(m.add_log("[PW] Check remote status: NOT READY"),15<r.data.status_checks&&(clearInterval(r.data.status_checker),r.data.status_checker=null,m.add_log("[PW] Canceled check remote status")),r.data.status_checks+=1)}),r.data.status_checker_ongoing=!0)},2e3),m.page_unload(function(){r.data.status_checker&&clearInterval(r.data.status_checker),delete r.data.status_checker,delete r.data.status_checks,delete r.data.status_checker_ongoing,delete r.data.status_checker_exec_show}),this},i.show=function(t){var p=this;if(!this.is_set()&&!this.data.prc_pages_cache)return this;t=t||{};var e=Object.assign({},this.get_data(),{token:m.data.token});if(m.is_iframed()&&this.data.bubbles){var a=this.data.referrer||m.data.referrer||document.referrer||"*",i={action:"show_"+this.data.name+"_widget",ab_test:this.data.ab_test,language:this.data.language||m.data.language,time:m.data.time,page_id:m.data.page_id,page_name:m.data.page_name,position:this.data.position,mobile_position:this.data.mobile_position,format:this.data.format,location:window.location.href};return m.booking_iframe_listen(),window.parent.postMessage(Object.assign({},e,i),a),m.page_unload(this.destroy),this}this.data.el||this.create();var n=!m.data.tablet&&!m.data.mobile&&"landscape"===this.data.format_readable;if(this.data.debug_url=m.data.host+"/hotel-"+this.data.name+"-check-widget?"+m.build_query(Object.assign({debug:1,country:m.data.country},e)),1!=this.data.version||n)(2==this.data.version||n)&&(this.data.url=m.data.host+"/get_hotel_"+this.data.name+"_monitor_widget?"+m.build_query(e));else if(this.data.url=m.data.host+"/hotel-"+this.data.name+"-check-widget?"+m.build_query(e),!0!==t.reload&&this.data.url===this.data.iframe.src&&this.is_online())return this.data.el.style.visibility="visible",this.data.el.style["z-index"]<0&&(this.data.el.style["z-index"]*=-1),this;var r=JSON.stringify(this.validate(Object.assign({},this.data,{price:""}),!0));if(this.data.requests[r]=this.data.requests[r]||{},this.data.requests[r].search_time=(new Date).getTime(),!m.data.mobile&&m.get_window_width()<m.data.min_resolution)this.remove(!1),this.process_status({status:"no-resolution"}),setTimeout(this.after_show,0);else{if(this.data.initialize_search_always&&!this.data.prc_pages_cache&&(!m.is_iframed()||!this.data.bubbles)){var o=JSON.stringify(this.validate(Object.assign({},this.data,{price:""}),!0));if(!this.data.initialized_searches[o])return this.data.status_checker_exec_show=!0,this}if(m.add_log("*************** Request "+this.data.Name+" Widget ***************"),m.add_log("URL: "+this.data.debug_url),m.data.calculate_time&&m.add_log("Execution time: "+(Math.floor((new Date).getTime()/1e3-(new Date).getTimezoneOffset())-m.data.time)+" seconds"),1!=this.data.version||n){if(2==this.data.version||n){var s=m.data.host+"/widget/core/"+m.data.version+"/mst/"+this.data.name+"_"+this.data.format_readable+".mst?"+m.data.mtime,d=m.data.host+"/widget/core/"+m.data.version+"/mst/price_modal.mst?"+m.data.mtime,_=m.data.host+"/widget/core/"+m.data.version+"/css/main.css?"+m.data.mtime,l=m.data.host+"/locale/"+(this.data.language||m.data.language||"en")+"/messages.json?"+m.data.mtime,c=["Mustache","underi18n","json!"+this.data.url,"json!"+l,"text!"+s,"text!"+d,"text!"+_];m.require(c,function(t,e,a,i,n,r,o){var s=Object.assign({},a);if(p.process_status(a),p.data.showed){m.attach_styles(o,{id:_},p.data.shadow_root),m.attach_styles(o,{id:_});var d=e.MessageFactory(i);a.t=function(){return function(t,e){return e(d(t))}},a.it=function(){return function(t,e){return d(e(t))}},a.nt=function(){return function(t,e){var a=t.match(/\s*\(\s*"(.*?)"\s*,\s*"(.*?)"\s*,\s*([^)]+)\)\s*/);if(!a||4!==a.length)return e(t);var i=parseInt(e(a[3]),10)||1;return e(d(a[1],a[2],i))}},a.prefix=m.data.prefix,Object.keys(a.widget_overrides).forEach(function(t){0==a.widget_overrides[t]?a.widget_overrides[t]=!1:"Official Website"===a.widget_overrides[t]&&(a.widget_overrides[t]=d("Official Website"))});var l=parseFloat(a.price_data.total_night),c=parseInt(a.price_data.nights),h=parseInt(a.data.rooms);if(a.price_data.ss_price=Math.round((1==a.price_data[p.data.prefix+"price_night"]?l:l*c)*(1==a.price_data[p.data.prefix+"price_room"]?1:h)),a.prc_msg&&a.prc_msg.message){var u=m.strip_tags(a.prc_msg.message).length;80<u&&u<90?a.prc_msg.extra_classes=m.data.prefix+"medium-text":90<=u&&(a.prc_msg.extra_classes=m.data.prefix+"long-text")}3===p.data.ss_url_option&&p.data.ss_js_url&&window[p.data.ss_js_url]&&(a.price_data.ss_custom_js_url=String(window[p.data.ss_js_url])),a.source_url=m.generate_search_url(p.data,p.data.location),a.hotel.prices_json=window.JSON&&JSON.stringify(a.hotel.prices||[]),p.data.ota_anonym&&(a.hotel.prices=a.hotel.prices.filter(function(t){return t.showed}).slice(0,1),a.hotel.prices.length&&(a.hotel.prices[0].advertiser=p.data.ota_anonym_texts[p.data.language||m.data.language||"en"]||p.data.ota_anonym_texts.en||d("Other websites"))),a.num_perks=a.hotel.perks.length,a.widget_data.close_time=parseInt(a.widget_data.close_time,10)||0,a.widget_data.terms=p.data.terms&&p.data.terms[p.data.language||m.data.language],a.widget_data.terms&&(a.widget_data.terms.is_url=m.is_url(a.widget_data.terms.prc_ss_terms_text)),1==a.widget_data.prc_contact&&(p.data.shadow_el||p.data.el).classList.add(m.data.prefix+"show_contact"),1==a.widget_data.prc_send_search&&(p.data.shadow_el||p.data.el).classList.add(m.data.prefix+"show_save_search"),(1==a.widget_data.init_toggle||m.data.mobile&&!m.data.tablet)&&(p.data.shadow_el||p.data.el).classList.remove(m.data.prefix+"is_open"),a.widget_data.close_time&&setTimeout(function(){(p.data.shadow_el||p.data.el).classList.contains(m.data.prefix+"touched")||(p.data.shadow_el||p.data.el).classList.remove(m.data.prefix+"is_open")},1e3*a.widget_data.close_time),p.is_online()&&((p.data.shadow_el||p.data.el).innerHTML=t.render(n,a),p.data.el.style.visibility="visible",p.data.el.style["z-index"]<0&&(p.data.el.style["z-index"]*=-1),p.data.modal.innerHTML=a.widget_data.terms&&a.widget_data.terms.is_url?"":t.render(r,a),p.unlisten().listen()),p.after_show(s)}else p.remove(!1)})}}else this.data.iframe.src=this.data.url}return this},i.after_show=function(t){return m.data.child?(m.add_log("Delegating PW after_show to the child script"),m.data.child.postMessage({action:"after_show_"+this.data.name+"_widget",data:t},"*")):(t&&(t.data&&void 0!==t.data.oracle?(m.widgets.oracle.data.category=t.data.oracle.probability_category,m.widgets.oracle.data.probability=t.data.oracle.probability_percent,void 0!==t.data.oracle.session&&(m.widgets.oracle.data.session.probability=t.data.oracle.session.probability_percent,m.widgets.oracle.data.session.category=t.data.oracle.session.probability_category)):void 0!==t.oracle&&(m.widgets.oracle.data.probability=t.oracle.probability_percent,m.widgets.oracle.data.category=t.oracle.probability_category,m.widgets.oracle.data.session.probability=t.oracle.session.probability_percent,m.widgets.oracle.data.session.category=t.oracle.session.probability_category),t.data&&t.data.disparity?(this.data.disparity={},t.data.disparity.code&&t.data.disparity.code.code&&(this.data.disparity.code=t.data.disparity.code.code),t.data.disparity.new_price&&(this.data.disparity.price=t.data.disparity.new_price)):t.disparity&&(this.data.disparity={},t.disparity.code&&t.disparity.code.code&&(this.data.disparity.code=t.disparity.code.code),t.disparity.new_price&&(this.data.disparity.price=t.disparity.new_price))),this.data.showed&&this.fix_ui(),this.is_set()&&!m.widgets.welcome.is_set()&&(m.add_log("Resuming Welcome Widget checking ..."),m.widgets.welcome.check_welcomes_array(m.widgets.welcome.data.popups)),this.is_set({no_rooms:!0})&&m.widgets.notes.check_notes_array(m.widgets.notes.data.notes),this.is_set()&&!m.widgets.exit.is_set()&&(m.add_log("Resuming Exit Widget checking ..."),m.widgets.exit.check_exits_array(m.widgets.exit.data.popups)),!this.get_promocode()&&"widget-ok"===this.data.status&&this.data.showed&&m.widgets.oracle_incentives.check_and_show()),this},i.fix_ui=function(){var o=this;if(m.is_iframed()&&this.data.bubbles){var t=this.data.referrer||m.data.referrer||document.referrer||"*";window.parent.postMessage({action:"fix_ui_"+this.data.name+"_widget"},t)}else{if(m.data.mobile&&!m.data.tablet&&"BT"===this.data.mobile_position){var e=document.getElementsByClassName(m.data.prefix+"ns-box-mobile");e&&Array.from(e).forEach(function(t){if(t.classList.contains(m.data.prefix+"ns-growl-LL")){var e=window.getComputedStyle&&window.getComputedStyle(t),a=e&&e.bottom&&parseInt(e.bottom.match(/\d+/)[0],10)||0;t.style.bottom=55+a+"px"}})}"landscape"===this.data.format_readable&&document.fonts&&document.fonts.check&&document.fonts.ready&&document.fonts.ready.then(function(){(o.data.shadow_el||o.data.el).classList.remove(m.data.prefix+"fix_webkit_transform");var t=document.querySelector&&(o.data.shadow_el||o.data.el).querySelector("."+m.data.prefix+"section."+m.data.prefix+"ota_prices");if(t&&window.getComputedStyle){var e=window.getComputedStyle(t),a=e["padding-left"]&&e["padding-left"].match(/\d+/);if(a){var i=parseInt(a[0],10)%2,n=window.getComputedStyle(o.data.shadow_el||o.data.el),r=n.width&&n.width.match(/\d+/);if(r)i===parseInt(r[0],10)%2&&(o.data.shadow_el||o.data.el).classList.add(m.data.prefix+"fix_webkit_transform")}}})}return this},i.process_status=function(t){m.add_log("*************** Process "+this.data.Name+" Widget Status ***************");var e=JSON.stringify(this.validate(Object.assign({},this.data,{price:""}),!0));if(this.data.requests[e]){if(this.data.requests[e].response_time=(new Date).getTime(),this.data.requests[e].init_time)var a=this.data.requests[e].response_time-this.data.requests[e].init_time;if(this.data.requests[e].search_time)var i=this.data.requests[e].response_time-this.data.requests[e].search_time}return i&&m.add_log("[PW] Request time: "+i/1e3+"s"),a&&m.add_log("[PW] Total request time: "+a/1e3+"s (since initialization)"),this.is_online()?""===t.status?this.data.status="widget-ok":this.data.status=t.status:this.data.status="price-offline",this.data.showed=!this.data.ab_test&&"widget-ok"===this.data.status,m.propagate_vars(),this.add_visit(),this},i.minimize=function(){if(m.is_iframed()&&this.data.bubbles){var t=this.data.referrer||m.data.referrer||document.referrer||"*";window.parent.postMessage({action:"minimize_"+this.data.name+"_widget"},t)}else{var e=!m.data.tablet&&!m.data.mobile&&"landscape"===this.data.format_readable;1!=this.data.version||e?(2==this.data.version||e)&&(this.data.shadow_el||this.data.el).classList.remove(m.data.prefix+"is_open"):this.message({action:"close"})}return this},i.listen=function(){var r=this,t=!m.data.tablet&&!m.data.mobile&&"landscape"===this.data.format_readable;if(1!=this.data.version||t){if(2==this.data.version||t){var e,a=[],n=this.data.selectors,o=this.data.shadow_el||this.data.el,i=function(t){if(o.classList.add(m.data.prefix+"touched"),!m.event_is_handled_or_auxclick(t)){m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault();var e=[n.learn_more_section,n.save_search_section].join(","),a=this.closest(n.tip_container),i=this.closest(e);a&&(a.classList.remove(m.data.prefix+"is_open"),i&&(n.generic_states.forEach(function(t){i.classList.remove(t)}),i.classList.add(m.data.prefix+"step_summary")))}};Array.from(o.querySelectorAll(n.close_tip_button)).forEach(function(t){t.addEventListener("click",i,!1),a.push(function(){t.removeEventListener("click",i,!1)})});var s=function(t){if(o.classList.add(m.data.prefix+"touched"),!m.event_is_handled_or_auxclick(t)){m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault();var e=this.closest(n.learn_more_section);e&&(n.generic_states.forEach(function(t){e.classList.remove(t)}),e.classList.add(m.data.prefix+"step_form"))}};Array.from(o.querySelectorAll(n.learn_more_summary_button)).forEach(function(t){t.addEventListener("click",s,!1),a.push(function(){t.removeEventListener("click",s,!1)})});var d=function(t){o.classList.add(m.data.prefix+"touched"),m.event_is_handled_or_auxclick(t)||(m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.stopPropagation())};Array.from(o.querySelectorAll("input[type=checkbox]")).forEach(function(t){t.addEventListener("click",d,!1),a.push(function(){t.removeEventListener("input",d,!1)})});var l=m.debounce(function(t){if(o.classList.add(m.data.prefix+"touched"),!m.event_is_handled_or_auxclick(t)){m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault();var e=this.closest("form"),a=e&&e.querySelector("button[type=submit]");a&&(a.disabled=!e.checkValidity())}},200);Array.from(o.querySelectorAll("input, textarea")).forEach(function(t){t.addEventListener("input",l,!1),a.push(function(){t.removeEventListener("input",l,!1)})}),e=[n.learn_more_form_button,n.save_search_form_button].join(",");var c=function(t){var a=this.closest("form");if(o.classList.add(m.data.prefix+"touched"),!m.event_is_handled_or_auxclick(t)&&a.checkValidity()){m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault();var e=[n.learn_more_section,n.save_search_section].join(","),i=this.closest(e);i&&(n.generic_states.forEach(function(t){i.classList.remove(t)}),i.classList.add(m.data.prefix+"step_loading"),m.ajax.post(m.data.host+"/ajax",{controller:a.getAttribute("data-controller"),method:a.getAttribute("data-method"),data:m.form_serialize(a,{hash:!0,empty:!0}),token:m.data.token},function(t){var e=m.is_json(t)&&window.JSON&&JSON.parse(t);n.generic_states.forEach(function(t){i.classList.remove(t)}),e&&1==e.result?i.classList.add(m.data.prefix+"step_success"):i.classList.add(m.data.prefix+"step_error"),setTimeout(function(){var t=a.closest(n.tip_container);t&&t.classList.contains(m.data.prefix+"is_open")&&t.classList.remove(m.data.prefix+"is_open"),(i.classList.contains(m.data.prefix+"step_success")||i.classList.contains(m.data.prefix+"step_error"))&&(n.generic_states.forEach(function(t){i.classList.remove(t)}),i.classList.add(m.data.prefix+"step_summary"),Array.from(a.querySelectorAll("input, textarea")).forEach(function(t){t.type&&"hidden"===t.type||(t.value="")}),Array.from(a.querySelectorAll("button")).forEach(function(t){t.disabled=!0}))},1e4)}))}};Array.from(o.querySelectorAll(e)).forEach(function(t){t.addEventListener("click",c,!1),a.push(function(){t.removeEventListener("click",c,!1)})});var h=function(t){if(o.classList.add(m.data.prefix+"touched"),!m.event_is_handled_or_auxclick(t)){m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault();var e=m.standarize_event(t);e.target.classList.contains(m.data.prefix+"is_url")?window.open(e.target.getAttribute("href"),"_blank"):r.data.modal.classList.contains(m.data.prefix+"modal-open")||(r.data.modal.classList.add(m.data.prefix+"modal-open"),setTimeout(function(){Array.from(r.data.modal.querySelectorAll("."+m.data.prefix+"fade")).forEach(function(t){t.classList.add(m.data.prefix+"in"),t.classList.add("in")})},200))}};Array.from(o.querySelectorAll(n.open_terms_button)).forEach(function(t){t.addEventListener("click",h,!1),a.push(function(){t.removeEventListener("click",h,!1)})});var u=function(t){o.classList.add(m.data.prefix+"touched"),m.event_is_handled_or_auxclick(t)||(m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault(),r.data.modal.classList.contains(m.data.prefix+"modal-open")&&(Array.from(r.data.modal.querySelectorAll("."+m.data.prefix+"fade")).forEach(function(t){t.classList.remove(m.data.prefix+"in"),t.classList.remove("in")}),setTimeout(function(){r.data.modal.classList.remove(m.data.prefix+"modal-open")},300)))};Array.from(this.data.modal.querySelectorAll(n.close_terms_button)).forEach(function(t){t.addEventListener("click",u,!1),a.push(function(){t.removeEventListener("click",u,!1)})});var p=function(t){o.classList.add(m.data.prefix+"touched"),m.event_is_handled_or_auxclick(t)||(m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault(),t.currentTarget.parentNode.classList.contains(m.data.prefix+"powered_by")&&window.open(t.currentTarget.getAttribute("href"),t.currentTarget.getAttribute("target")||"_blank"))};Array.from(o.querySelectorAll(n.thn_link)).forEach(function(t){t.addEventListener("click",p,!1),a.push(function(){t.removeEventListener("click",p,!1)})});var _=function(t){if(o.classList.add(m.data.prefix+"touched"),!m.event_is_handled_or_auxclick(t)){m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault();var e=this.closest(n.tip_container);e&&!e.classList.contains(m.data.prefix+"is_open")&&e.classList.add(m.data.prefix+"is_open")}};Array.from(o.querySelectorAll(n.tip_container)).forEach(function(t){t.addEventListener("click",_,!1),a.push(function(){t.removeEventListener("click",_,!1)})});var g=function(t){if(o.classList.add(m.data.prefix+"touched"),!m.event_is_handled_or_auxclick(t)){m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault();var e=this.closest(n.generic_container);e&&e.classList.toggle(m.data.prefix+"is_open")}};Array.from(o.querySelectorAll(n.toggle_generic_button)).forEach(function(t){t.addEventListener("click",g,!1),a.push(function(){t.removeEventListener("click",g,!1)})});var f=function(t){if(o.classList.add(m.data.prefix+"touched"),!m.event_is_handled_or_auxclick(t)){m.add_log("[PW] DOM event handled by function "+arguments.callee.name),t.preventDefault();var e=m.engine.config.search_url||m.in_array(m.data.page_name,["Rooms and Rates","Packages"])?m.generate_search_url(m.widgets.price.data):"",a=m.generate_promocode_handler(e,m.data.promocode_vars,this.getAttribute("data-code"),m.engine.config);a.url?window.open(a.url,"_self"):a.callback&&a.callback()}};Array.from(o.querySelectorAll(n.apply_promocode_button)).forEach(function(t){t.addEventListener("click",f,!1),a.push(function(){t.removeEventListener("click",f,!1)})}),this.unlisten_dom_events=function(){a.forEach(function(t){t()})},m.add_log("********* Listening to "+this.data.Name+" Widget DOM events ********")}}else this.on_widget_message||(this.on_widget_message=function(a){if(a.data&&a.data.action&&a.data.current_url==="hotel-"+r.data.name+"-check-widget"&&a.origin===m.data.host)if(m.add_log("*************** Message Widgets Received ***************"),m.add_log(a.data),m.add_log(r.data.id),r.data.el)switch(a.data.action){case"apply_promocode":var t=m.engine.config.search_url||m.in_array(m.data.page_name,["Rooms and Rates","Packages"])?m.generate_search_url(m.widgets.price.data):"",e=m.generate_promocode_handler(t,m.data.promocode_vars,a.data.code,m.engine.config);e.url?window.open(e.url,"_self"):e.callback&&e.callback();break;case"resize":var i=m.data.tablet?20:m.data.mobile?0:10,n={};["height","width","bottom","top","right","left"].forEach(function(t){var e;t in a.data&&("number"!=typeof(e=parseInt(a.data[t],10))||isNaN(e)||(n[t]=e))}),!0===a.data.first_time&&(r.process_status(a.data),r.data.showed?(r.data.el.style.visibility="visible",r.data.el.style["z-index"]<0&&(r.data.el.style["z-index"]*=-1)):r.remove(!1),r.after_show(a.data)),r.data.ab_test||Object.keys(n).forEach(function(t){var e=n[t];"height"!==t&&"width"!==t||(e+=i),r.data.el.style[t]=e+"px"})}else m.add_log("[error] Unable to find DOM element for this widget: "+r.data.id)},m.add_window_message_listener(this.on_widget_message),m.add_log("********* Listening to "+this.data.Name+" Widget's messages ********")),this.on_window_resize||!m.data.mobile||m.data.tablet||(this.on_window_resize=m.debounce(function(t){m.add_log("*********** Fired a Window's 'resize' event! **********");var e={width:(t=t||{}).width||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:t.height||window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight};r.message({action:"reconfigure",params:e})},250),window.addEventListener("resize",this.on_window_resize,!1),m.add_log("********* Listening to Window's 'resize' event ********")),this.on_document_click||!m.data.mobile||m.data.tablet||(this.on_document_click=this.minimize,document.addEventListener("click",this.on_document_click,!1),m.add_log("********* Listening to Window's 'click' events ********"));return this},i.unlisten=function(){return this.on_widget_message&&(m.remove_window_message_listener(this.on_widget_message),delete this.on_widget_message,m.add_log("*** No longer listening to "+this.data.Name+" Widget's messages ****")),this.on_window_resize&&(window.removeEventListener("resize",this.on_window_resize,!1),delete this.on_window_resize,m.add_log("*** No longer listening to Window's 'resize' event ***")),this.on_document_click&&(document.removeEventListener("click",this.on_document_click,!1),delete this.on_document_resize,m.add_log("*** No longer listening to Window's 'click' events ***")),this.unlisten_dom_events&&(this.unlisten_dom_events(),delete this.unlisten_dom_events,m.add_log("********* No longer listening to "+this.data.Name+" Widget DOM events ********")),this},i.observe_dom=function(t){var e={params:t=t||{},widget:this};return m.add_log("************** OBSERVING PRICE WIDGET DOM *****************"),m.engine&&m.engine[this.data.name+"_observe_dom"]?(m.add_log("Handled: true"),m.engine[this.data.name+"_observe_dom"].call(this,e)):m.add_log("Handled: false"),this};var e=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&// =]*)?/i,n={language:function(t){return"string"==typeof t&&t.match(/\w{2}/)},guests:a,adults:a,children:t,babies:t,rooms:a,rooms_dispo:function(t){return Array.isArray(t)?t.filter(function(t){return t.adults&&a(t.adults)&&(!t.children||a(t.children)&&Array.isArray(t.children_ages)&&t.children_ages.length==t.children)}).length===t.length:t?!!t.match(/^([1-9]\d*(:\d+)*)(,[1-9]\d*(:\d+)*)*$/):void 0},currency:function(t){return"string"==typeof t&&t.match(/\w{3}/)},price:a,date_begin:function(t){return"string"==typeof t&&t.match(/\d{4}\/\d{1,2}\/\d{1,2}/)},date_end:function(t){return"string"==typeof t&&t.match(/\d{4}\/\d{1,2}\/\d{1,2}/)},no_rooms:function(t){return"boolean"==typeof t},referrer:s,location:s,property_id:o,hotel_id:o,page_id:o,page_name:d,position:function(t){return m.in_array(t,["UR","UL","LR","LC","LL","CR","CL"])},mobile_position:function(t){return m.in_array(t,["BT","LT","LM","LB","RT","RM","RB"])},mode:function(t){return m.in_array(t,["auto","manual"])},color:d,promocode:d,flight_origin:d,flight_destination:d};i.validate=function(t,e){var a;return a=t?Object.assign({},t):this.data,void 0===e&&(e=!1),Object.keys(a).forEach(function(t){(!0===e&&!(t in n)||t in n&&!n[t](a[t]))&&delete a[t]}),t?a:this},i.is_enough=function(t){var e=t||this.data;return!!(e.currency&&e.price&&m.is_numeric(e.price)&&0<parseInt(e.price,10)&&e.date_begin&&e.date_end)},i.is_enough_to_init=function(t){var e=t||this.data;return!!(e.currency&&e.date_begin&&e.date_end&&e.guests)};var r=["language","guests","adults","children","rooms","no_rooms","rooms_dispo","price","currency","date_begin","date_end","promocode","showed","status","url","set","referrer"];i.set_config=function(e){var a=this;e=e||{};var i={};return Object.keys(e).forEach(function(t){m.in_array(t,r)||(i[t]=e[t])}),i=this.validate(i),Object.keys(i).forEach(function(t){a.data[t]=i[t]}),this},i.get_data=function(){var t,e;return!0!==this.data.can_apply_promocode&&(t=m.engine.config.search_url||m.in_array(m.data.page_name,["Rooms and Rates","Packages"])?m.generate_search_url(m.widgets.price.data):"",e=m.generate_promocode_handler(t,m.data.promocode_vars,"FAKECODE",m.engine.config),this.data.can_apply_promocode=!(!e.url&&!e.callback)),{search_date:m.data.time,currency:this.data.currency,hotel_id:this.data.hotel_id||m.data.hotel_id,property_id:this.data.property_id||m.data.property_id,date_begin:this.data.date_begin,date_end:this.data.date_end,guests:this.data.guests,adults:this.data.adults,children:this.data.children,rooms:this.data.rooms,rooms_dispo:Array.isArray(this.data.rooms_dispo)?this.data.rooms_dispo.map(function(t){return[t.adults].concat(t.children_ages).join(":")}).join(","):this.data.rooms_dispo,lang:this.data.language||m.data.language,page_id:this.data.page_id||m.data.page_id,page_name:this.data.page_name||m.data.page_name,price:this.data.price,fingerprint:m.data.fingerprint,logged:m.is_user_logged()?1:0,promocode:this.get_promocode(),url:this.data.location||window.location.href,source_url:m.generate_search_url(this.data,this.data.location),mobile:m.data.mobile?1:0,tablet:m.data.tablet?1:0,wdgt_color:this.data.color,wdgt_min:this.data.min,wdgt_format:this.data.format,wdgt_pstn:this.data.position,mob_pstn:this.data.mobile_position,show_closed:this.data.show_closed,close_time:this.data.close_time,price_night:this.data.price_night,no_cheapest:this.data.no_cheapest,send_search:this.data.send_search,contact:this.data.contact,prc_pages_cache:this.data.prc_pages_cache,width_parent:m.data.mobile?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:null,height_parent:m.data.mobile?window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight:null,ss_custom_js_url:3===this.data.ss_url_option&&this.data.ss_js_url&&window[this.data.ss_js_url]?String(window[this.data.ss_js_url]):null,flight_origin:this.data.flight_origin,flight_destination:this.data.flight_destination,can_apply_promocode:this.data.can_apply_promocode?1:0}},i.set_data=function(t){if(this.is_set())return this;t=t||{};var e=Object.assign({set:!1,no_rooms:!1},this.validate(t));if(this.is_enough(e)&&(e.set=!0),!e.set&&"auto"===this.data.mode){var a={params:t,widget:this,widget_data:e};m.add_log("************** PARSING PRICE WIDGET DOM *****************"),m.engine&&m.engine[this.data.name+"_parse_data"]&&(e=m.engine[this.data.name+"_parse_data"].call(this,a))}return(e=this.validate(e)).set&&!this.is_enough(e)&&(e.set=!1),Object.assign(this.data,e),e.no_rooms&&(this.process_status({status:"no-rooms"}),setTimeout(this.after_show,0)),m.add_log("*************** "+this.data.Name+" Widget Data ***************"),m.add_log("Data: "+this.data.price+" "+this.data.currency+" - "+this.data.date_begin+" - "+this.data.date_end+" - "+this.data.guests+" Guests - "+this.data.adults+" Adults - "+this.data.children+" Children - "+this.data.rooms+" Rooms - "+(this.data.language||m.data.language)+" - Set: "+this.data.set+" - No rooms: "+this.data.no_rooms+" - Logged: "+m.is_user_logged()),this.data.rooms_dispo&&m.add_log("Rooms detailed information: "+JSON.stringify(this.data.rooms_dispo)),this.is_set()&&m.data.rtrg_code&&m.retargeting_criteo(),!this.data.initialize_search_always||this.data.prc_pages_cache||m.is_iframed()&&this.data.bubbles||this.init_search(),this},i.get_promocode=function(){if(this.data.promocode)return this.data.promocode;var i="";m.data.promocode_vars.length&&m.data.promocode_vars.some(function(t){var e=m.parse_url_parameter(t);if(!e){var a=document.querySelector&&document.querySelector('input[name="'+t+'"][type=text], input[id="'+t+'"][type=text]');a&&(e=a.value)}if(e)return i=e,!0});var t={promocode:i};return m.engine&&m.engine.get_promocode&&(t.promocode=m.engine.get_promocode.call(this,t)),t.promocode},i.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||this.data,a=Object.getPrototypeOf(i).get_payload.call(this,t,e),t.type){case"add_visit":a[this.data.name]={showed:e.showed||t.data.showed?1:0,ab_test:e.ab_test||t.data.ab_test?1:0,status:e.status||t.data.status||"",price:t.data.price||0,currency:t.data.currency||"EUR",date_begin:t.data.date_begin||"0",date_end:t.data.date_end||"0",rooms:t.data.rooms||"",adults:t.data.adults||t.data.guests||"",promocode:m.widgets[this.data.name].get_promocode()||"",widget_url:t.data.url,oracle:m.widgets.oracle.data.probability},m.widgets.oracle_incentives.data.showed&&(a[this.data.name].oracle_session=m.widgets.oracle.data.session.category?m.widgets.oracle.data.session.probability:m.widgets.oracle.data.probability),a[this.data.name].children=t.data.children||(a[this.data.name].adults?0:"")}return a},i.add_visit=function(t,e){e=e||{},(t=t||{}).data=t.data||this.data,e.page=e.page||this.data.mixpanel_name,Object.getPrototypeOf(i).add_visit.call(this,t,e),t.type="add_visit";var a=this.get_payload(t,e);return m.add_log("*************** MixPanel && Visit ***************"),m.add_log(e.page),m.add_log(a),m.add_log("Showed: "+a.showed+" - Status: "+a.status+" - ABTest:"+a.ab_test),"widget-ok"===a.status&&m.data.widget_analytics&&m.call_client_analytics(this.data.Name),m.retargeting_google(),this},m.protos.price_widget=i}function a(t){return m.is_numeric(t)&&0<parseInt(t,10)}function t(t){return m.is_numeric(t)&&0<=parseInt(t,10)}function o(t){return m.is_numeric(t)&&7===t.toString().length}function s(t){return!("string"!=typeof t||!t.match(e))}function d(t){return"string"==typeof t&&t.trim().length}}(window.thn),function(s){if(!s.protos.last_search_widget){var i=Object.create(s.protos.base_widget);i.__default_init_data={name:"last_search",Name:"Last Search",online:0,mobile_online:0,color:"#000000",ttl:0,retrgt_from:null,retrgt_to:null,message:void 0},i.protected_data=["message"],i.__exclude_binding=[],i.show=function(){if(!(this.is_online()&&s.data.user.last_search&&s.data.user.last_search.date_begin&&s.data.user.last_search.date_end))return this;var t,e,a=new Date(parseInt(1e3*s.data.user.last_search.date_begin,10)+6e4*(new Date).getTimezoneOffset()-6e4*new Date(parseInt(1e3*s.data.user.last_search.date_begin,10)).getTimezoneOffset()),i=new Date(parseInt(1e3*s.data.user.last_search.date_end,10)+6e4*(new Date).getTimezoneOffset()-6e4*new Date(parseInt(1e3*s.data.user.last_search.date_end,10)).getTimezoneOffset());if(a.getTime()<=(new Date).getTime())return this;"M"===s.data.date_format?(t=a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear(),e=i.getMonth()+1+"/"+i.getDate()+"/"+i.getFullYear()):"B"===s.data.date_format?(t=a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate(),e=i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()):(t=a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear(),e=i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear());var n=s.generate_search_url({date_begin:a,date_end:i},s.data.user.last_search.url),r=this.data.message.replace("WWW",t).replace("XXX",e).replace("YYY",s.days_between(a,i)).replace("ZZZ",1);r='<a href="'+n+'">'+r+"</a>";var o=new s.NotificationFx({message:r,layout:"bar",color:this.data.color,effect:"slidetop",ttl:1e3*this.data.ttl,wrapper:document.body,onClose:function(){},prefix:s.data.prefix});return o.show(),s.add_log("Showing Last Search from DB"),this.add_visit(),s.page_unload(o.dismiss.bind(o)),s.data.widget_analytics&&s.call_client_analytics(this.data.Name),this},i.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||{},a=Object.getPrototypeOf(i).get_payload.call(this,t,e),t.type){case"add_visit":default:a.last_search=1}return a},s.protos.last_search_widget=i}}(window.thn),function(f){if(!f.protos.exit_widget){var n=Object.create(f.protos.base_widget);n.__default_init_data={name:"exit",Name:"Exit",mixpanel_name:"exit_popup",id:"eighty_close_exit_widget_iframe",popup:void 0,popups:void 0,ready:!1,online:0,mobile_online:0,ab_test:0,bubbles:!1,delegated:null},n.protected_data=["popup","popups","ready","ab_test","bubbles","delegated"],n.__exclude_binding=[],n.create=function(){var e=this;return this.is_online()&&(this.data.el||(this.data.style={width:0,height:0,top:0,left:0},this.data.el=document.createElement("div"),this.data.el.setAttribute("style",Object.keys(this.data.style).map(function(t){return t+":"+e.data.style[t]}).join(";")),this.data.el.setAttribute("id",this.data.id),document.body.appendChild(this.data.el)),this.data.iframe||(this.data.iframe=f.create_element("iframe",{id:this.data.id+"_iframe",style:{"background-color":"rgba(0, 0, 0, 0.7)"}}),this.data.el.appendChild(this.data.iframe),this.listen(),f.page_unload(this.destroy))),this},n.hide=function(){return this.is_online()&&this.data.el&&(this.data.el.style.visibility="hidden",0<this.data.el.style["z-index"]&&(this.data.el.style["z-index"]*=-1)),this},n.remove=function(t){return this.is_online()&&(void 0===t&&(t=!1),this.data.iframe&&(this.data.iframe.src=f.data.BLANK_URL),this.hide(),t&&this.reset(),this.unlisten()),this},n.destroy=function(t){if(!this.is_online())return this;if(void 0===t&&(t=!0),this.data.el&&(this.data.el.remove(),this.data.el=null,this.data.iframe=null),t&&this.reset(),this.unlisten(),f.is_iframed()&&this.data.bubbles){var e=this.data.referrer||f.data.referrer||document.referrer||"*";window.parent.postMessage({action:"destroy_exit_widget"},e)}return this},n.is_online=function(t){var e=t||this.data.delegated||this.data;if(f.data.office)return!0;if(!f.data.online)return!1;if(!(e.online||e.popup&&e.popup.type&&"oracle"===e.popup.type.substr(0,6)&&f.widgets.oracle_incentives.is_online()))return!1;var a=e.mobile_online||e.popup&&e.popup.type&&"oracle"===e.popup.type.substr(0,6)&&f.widgets.oracle_incentives.is_online();return!(f.data.mobile&&!a)},n.reset=function(){return Object.assign(this.data,{popup:void 0,ready:!1,delegated:null}),this},n.is_set=function(){return!!(this.data.delegated||this.data).popup},n.is_ready=function(){return(this.data.delegated||this.data).ready},n.check_exits_array=function(t){var e,a=this;if(!t||!Array.isArray(t))return this;var i=t.filter(function(t){return f.data.page_name===t.page_name||f.page_check_conditions(t)});if(i.some(function(t){return!!("save_search"===t.type&&f.in_array(f.data.page_name,["Rooms and Rates","Packages"])||"oracle_discount"===t.type||"oracle_pop_incentive"===t.type||t.prc_sold_out&&0!=t.prc_sold_out||t.prc_price_from&&t.prc_price_to||t.search_dateranges&&0<t.search_dateranges.length||t.rng_stay_from||t.rng_stay_to||t.rng_days_from||t.rng_days_to||t.code&&!f.engine.config.search_url&&f.in_array(f.data.page_name,["Rooms and Rates","Packages"]))})&&!f.widgets.price.is_set_and_loaded())return f.add_log("Delaying Exit Widget checking until PW is ready ..."),this;if(f.data.timezone&&f.data.date_format&&f.data.tz_description&&i.some(function(t){return!!(t.rng_hour_from||t.rng_hour_to||t.rng_weekday_from||t.rng_weekday_to)}))f.require(["moment","moment-timezone"],function(t){for(t.tz.add(f.data.tz_description),e=0;e<i.length&&!a.check_and_load(i[e],t);e+=1);});else for(e=0;e<i.length&&!a.check_and_load(i[e]);e+=1);return this},n.check_and_load=function(e,t){var a=f.widgets.price.data,n=f.check_origins(e.origins,[f.parse_url_parameter("force_ntw_origin"),document.referrer,f.parse_url_parameter("utm_source"),f.data.visits.last_visit_origin]),r=!(!e.prc_price_from||!e.prc_price_to);if(r&&a.price&&a.currency&&a.date_begin&&a.date_end)var o=f.convert_currency(a.price,a.currency,"USD")*f.days_between(a.date_begin,a.date_end);else if(r&&!f.in_array(f.data.page_name,["Rooms and Rates","Packages"])&&f.data.user.last_search.price&&f.data.user.last_search.currency&&f.data.user.last_search.date_begin&&f.data.user.last_search.date_end)o=f.convert_currency(f.data.user.last_search.price,f.data.user.last_search.currency,"USD")*((f.data.user.last_search.date_end-f.data.user.last_search.date_begin)/60/60/24);if(e.prc_price_from&&e.prc_price_to&&e.prc_price_currency)var s=f.convert_currency(e.prc_price_from,e.prc_price_currency,"USD"),d=f.convert_currency(e.prc_price_to,e.prc_price_currency,"USD");var l=f.widgets.campaigns.data.campaigns.filter(function(t){for(i=0;i<t.tools.length;i++)if(t.tools[i].aux_id==e.exit_popup_id&&"exit"==t.tools[i].type)return t}),c=e.dateranges.filter(function(t){return 1==t.appear}),h=e.dateranges.filter(function(t){return 0==t.appear}),u=e.search_dateranges.filter(function(t){return 1==t.appear}),p=e.search_dateranges.filter(function(t){return 0==t.appear}),_=e.geolocations.filter(function(t){return 1==t.appear}),g=e.geolocations.filter(function(t){return 0==t.appear});return!(!((!this.is_set()||"oracle_discount"===e.type||"oracle_pop_incentive"===e.type)&&(f.data.page_name===e.page_name||f.page_check_conditions(e))&&n&&(!_||0==_.length||0<_.length&&f.in_array(f.data.location.geoname_ids,_.map(function(t){return t.geoname_id})))&&(!g||0==g.length||0<g.length&&!f.in_array(f.data.location.geoname_ids,g.map(function(t){return t.geoname_id})))&&(0==e.show_to_logged||1==e.show_to_logged&&f.is_user_logged()||2==e.show_to_logged&&!f.is_user_logged())&&(null==e.rng_days_from||""==e.rng_days_from||f.days_between(new Date,new Date(a.date_begin))>=e.rng_days_from)&&(null==e.rng_days_to||""==e.rng_days_to||f.days_between(new Date,new Date(a.date_begin))<=e.rng_days_to)&&(null==e.rng_stay_from||""==e.rng_stay_from||f.days_between(new Date(a.date_begin),new Date(a.date_end))>=e.rng_stay_from)&&(null==e.rng_stay_to||""==e.rng_stay_to||f.days_between(new Date(a.date_begin),new Date(a.date_end))<=e.rng_stay_to)&&(!u||0==u.length||0<u.length&&u.some(function(t){return 0<=f.days_between(new Date(t.date_begin),new Date(a.date_begin))})&&u.some(function(t){return f.days_between(new Date(t.date_end),new Date(a.date_end))<=0}))&&(!p||0==p.length||0<p.length&&(p.some(function(t){return f.days_between(new Date(t.date_begin),new Date(a.date_begin))<0})||p.some(function(t){return 0<f.days_between(new Date(t.date_end),new Date(a.date_end))})))&&(null==e.rng_retrgt_from||""==e.rng_retrgt_from||1!=e.rng_retrgt_from&&e.rng_retrgt_from<=((new Date).getTime()-1e3*f.data.visits.last_visit_date)/864e5||1==e.rng_retrgt_from&&4<((new Date).getTime()-1e3*f.data.visits.last_visit_date)/36e5)&&(null==e.rng_retrgt_to||""==e.rng_retrgt_to||e.rng_retrgt_to>=((new Date).getTime()-1e3*f.data.visits.last_visit_date)/864e5)&&(null==e.rng_lstpge_from||""==e.rng_lstpge_from||e.rng_lstpge_from<=f.data.visits.last_bkng_page)&&(null==e.rng_lstpge_to||""==e.rng_lstpge_to||e.rng_lstpge_to>=f.data.visits.last_bkng_page)&&f.is_in_data_range(t&&t.tz?parseInt(t().tz(f.data.timezone).format("H")):null,e.rng_hour_from,e.rng_hour_to)&&f.is_in_data_range(t&&t.tz?parseInt(t().tz(f.data.timezone).format("e")):null,e.rng_weekday_from,e.rng_weekday_to)&&(!c||0==c.length||0<c.length&&f.in_array_dateranges(new Date,c.map(function(t){return{date_begin:t.date_begin,date_end:t.date_end}})))&&(!h||0==h.length||0<h.length&&!f.in_array_dateranges(new Date,h.map(function(t){return{date_begin:t.date_begin,date_end:t.date_end}})))&&(!e.prc_sold_out||0==e.prc_sold_out||1==e.prc_sold_out&&"no-rooms"===a.status||2==e.prc_sold_out&&a.status&&"no-rooms"!==a.status)&&(!r||o&&s&&d&&s<=o&&o<=d))||e.variables&&!f.in_array_parameters(f.parse_url_parameters(),e.variables)||e.code&&e.code===f.widgets.price.get_promocode()||!("custom"===e.type||"special_offer"===e.type||"advantages"===e.type||"oracle_discount"===e.type&&void 0!==e.oracle_incentive_id||"oracle_pop_incentive"===e.type&&void 0!==e.oracle_incentive_id||"save_search"===e.type&&(f.widgets.price.is_set()||!f.in_array(f.data.page_name,["Rooms and Rates","Packages"])&&void 0!==f.data.user.last_search.price)||"full_img"===e.type&&void 0!==e.has_full_img&&"1"==e.has_full_img)||!(1013275===f.data.hotel_id||1001150===f.data.hotel_id||1076346===f.data.hotel_id||"29283C4A4CB5F5502758B24F99D1848A"===f.data.account_key||0==e.last_visit_date||1<=(f.data.time-e.last_visit_date)/3600)||!(0==l.length||0<l.length&&f.in_array(f.widgets.campaigns.data.applied_campaigns,l.map(function(t){return t.campaign_id}))))&&(e.campaigns=l.map(function(t){return t.campaign_id}).filter(function(t){if(f.in_array(t,f.widgets.campaigns.data.applied_campaigns))return t}),this.data.popup=e,this.load(),!0)},n.load=function(t){var e=this.data.delegated||this.data;if(!this.is_online()||!this.is_set())return this;t=t||{};var a,i=f.engine.config.search_url||f.in_array(f.data.page_name,["Rooms and Rates","Packages"])?f.generate_search_url(f.widgets.price.data):"";if(e.popup.code&&"own_url"===e.popup.link){var n=f.generate_promocode_handler(i,f.data.promocode_vars,e.popup.code,f.engine.config);n.url?(e.popup.source_url=n.url,i=n.url):n.callback&&(e.popup.link_onclick||(e.popup.link_onclick=(a=e.popup,function(){delete a.link_onclick,n.callback()})))}var r=t.type||e.popup.type,o=t.page_id||e.popup.page_id,s=t.exit_popup_id||e.popup.exit_popup_id,d=(t.page_name||e.popup.page_name,t.source_url||e.popup.source_url||i),l={hotel_id:e.hotel_id||f.data.hotel_id,property_id:e.property_id||f.data.property_id,page_id:o||f.data.page_id,lang:e.language||f.data.language,fingerprint:f.data.fingerprint,visit_date:f.data.time,token:f.data.token,type:r,exit_popup_id:s,source_url:d||"",link_callback:e.popup.link_onclick?1:0,browser:f.data.jscd&&f.data.jscd.browser||""};if(f.widgets.price.is_set()?(l.price=1==f.widgets.price.data.price_night?f.widgets.price.data.price:f.widgets.price.data.price*f.days_between(f.widgets.price.data.date_begin,f.widgets.price.data.date_end),l.currency=f.widgets.price.data.currency,l.date_begin=f.widgets.price.data.date_begin,l.date_end=f.widgets.price.data.date_end,l.rooms=f.widgets.price.data.rooms,l.guests=f.widgets.price.data.guests):!f.in_array(f.data.page_name,["Rooms and Rates","Packages"])&&f.data.user.last_search&&f.data.user.last_search.price&&f.data.user.last_search.currency&&(l.price=1==f.widgets.price.data.price_night?f.data.user.last_search.price:f.data.user.last_search.price*f.days_between(f.data.user.last_search.date_begin,f.data.user.last_search.date_end),l.currency=f.data.user.last_search.currency,l.date_begin=f.data.user.last_search.date_begin,l.date_end=f.data.user.last_search.date_end,l.rooms=f.data.user.last_search.rooms,l.guests=f.data.user.last_search.adults),l.price&&3===f.widgets.price.data.ss_url_option&&f.widgets.price.data.ss_js_url&&window[f.widgets.price.data.ss_js_url]&&(l.ss_custom_js_url=String(window[f.widgets.price.data.ss_js_url])),e.popup.oracle_incentive_id&&(l.oracle_incentive_id=e.popup.oracle_incentive_id),e.popup.campaigns&&(l.campaigns=e.popup.campaigns),f.is_iframed()&&this.data.bubbles){var c=this.data.referrer||f.data.referrer||document.referrer||"*",h={action:"delegate_exit_widget",popup:Object.assign({},this.data.popup,{hotel_id:l.hotel_id,property_id:l.property_id}),ready:!1,online:this.data.online,mobile_online:this.data.mobile_online,ab_test:this.data.ab_test,language:this.data.language||f.data.language};return window.parent.postMessage(Object.assign({},l,h),c),window.parent.postMessage({action:"load_exit_widget"},c),f.page_unload(this.destroy),this}return this.data.url=f.data.host+"/hotel-exit-widget?"+f.build_query(l),this.data.el||this.create(),this.data.iframe.src=this.data.url,f.add_log("URL Hotel Exit Widget: "+this.data.url),this},n.show=function(){var e=this,a=this.data.delegated||this.data;if(!this.is_online()||!this.is_set()||!this.is_ready()||this.is_visible()||f.widgets.upgrade.is_visible()||f.widgets.welcome.is_blocking())return this;var t="oracle"===a.popup.type.substr(0,6);if(0<a.popup.campaigns.length){var i=f.widgets.campaigns.data.campaigns.filter(function(t){if(f.in_array(t.campaign_id,a.popup.campaigns))return t});void 0!==i[0]?a.ab_test=i[0].ab_test:a.ab_test=!f.data.office&&a.ab_test&&f.is_fingerprint_par(f.data.fingerprint)}else a.ab_test=!f.data.office&&a.ab_test&&f.is_fingerprint_par(f.data.fingerprint);a.ab_test&&!t?(a.showed=!1,a.status="ab-testing"):(a.showed=!0,a.status="ok",f.add_log("*************** Exit Widget ***************"),f.add_log(a.popup),this.data.style={visibility:"visible",display:"block",float:"none",margin:0,padding:0,border:0,"background-color":"transparent",overflow:"hidden",position:"fixed","z-index":999999999,width:"100%",height:"100%",top:0,left:0},this.data.el.setAttribute("style",Object.keys(this.data.style).map(function(t){return t+":"+e.data.style[t]}).join(";")),f.data.widget_analytics&&f.call_client_analytics("Exit")),this.add_visit({data:a.popup},{showed:a.showed,status:a.status,hotel_id:a.hotel_id||f.data.hotel_id,property_id:a.property_id||f.data.property_id,language:a.language||f.data.language})},n.listen=function(){var a=this,i=this.data.delegated||this.data;return this.is_online()&&(this.on_widget_message||(this.on_widget_message=function(t){var e=t.data;switch("object"==typeof t.data&&t.data.action&&(e=t.data.action),e){default:break;case"ready_exit_widget":i.ready=!0;break;case"close_exit_widget":a.remove();break;case"exec_callback_exit_widget":a.data.popup.link_onclick&&a.data.popup.link_onclick();break;case"open_link":t.data.url&&window.open(t.data.url,t.data.window_name,t.data.window_features);break;case"send_event":"exit"===t.data.widget&&t.data.payload&&a.send_event({data:a.data.delegated?a.data.delegated.popup:a.data.popup},t.data.payload)}},f.add_window_message_listener(this.on_widget_message),f.add_log("********* Listening to Exit Widget's messages ********")),this.on_document_mouseout||(this.on_document_mouseout=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(t.clientY<0?this.on_document_mouseout_timeout=setTimeout(function(){a.show()},200):clearTimeout(this.on_document_mouseout_timeout))},document.addEventListener("mouseout",this.on_document_mouseout,!1),f.add_log("********* Listening to Document's 'mouseout' events ********")),this.on_document_mouseenter||(this.on_document_mouseenter=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"#document"!==e.nodeName||clearTimeout(this.on_document_mouseout_timeout)},document.addEventListener("mouseenter",this.on_document_mouseenter,!1),f.add_log("********* Listening to Document's 'mouseenter' events ********"))),this},n.unlisten=function(){return this.is_online()&&(this.on_widget_message&&(f.remove_window_message_listener(this.on_widget_message),delete this.on_widget_message,f.add_log("*** No longer listening to Exit Widget's messages ****")),this.on_document_mouseout&&(document.removeEventListener("mouseout",this.on_document_mouseout,!1),delete this.on_document_mouseout,delete this.on_document_mouseenter,f.add_log("*** No longer listening to Document's 'mouseout' events ****"))),this},n.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||{},a=Object.getPrototypeOf(n).get_payload.call(this,t,e),t.type){case"add_visit":a.exit={exit_popup_id:t.data.exit_popup_id,showed:e.showed?1:0,status:e.status?e.status:""},t.data.oracle_incentive_id&&(a.exit.oracle_incentive_id=t.data.oracle_incentive_id),t.data.campaigns&&(a.exit.campaigns=t.data.campaigns);break;case"send_event":a.exit={exit_popup_id:t.data.exit_popup_id,event:a.event_type,event_date:a.event_date,link_url:a.link_url};break;case"mixpanel":default:a.exit_popup_id=t.data.exit_popup_id}return a},f.protos.exit_widget=n}}(window.thn),function(b){if(!b.protos.welcome_widget){var n=Object.create(b.protos.base_widget);n.__default_init_data={name:"welcome",Name:"Welcome",endpoint_name:"welcome_popup",id:"eighty_close_welcome_widget",popup:void 0,popups:void 0,loaded:!1,online:0,mobile_online:0,showed:!1,window_has_scrolled:!1,initialization:null,bg_color:void 0,bubbles:!1,delegated:null,last_activity:void 0,idle_seconds:void 0},n.protected_data=["popup","popups","loaded","showed","window_has_scrolled","initialization","bg_color"],n.__exclude_binding=[],n.create=function(){var e=this,t=this.data.delegated||this.data;if(!this.is_online())return this;var a=b.hex_to_rgb(t.bg_color),i="100%",n="fixed",r="0px",o="",s="0px",d="",l="rgba("+a.r+", "+a.g+", "+a.b+", 0.7)";if("4"===t.popup.layout?(i="80%",n="fixed",r="",o="10px",s=b.get_window_width()/2-.8*b.get_window_width()/2+"px",l=d=""):"5"===t.popup.layout?(void 0===t.popup.position&&(t.popup.position="LR"),"U"===t.popup.position.substring(0,1)?(r="30px",o=""):"C"===t.popup.position.substring(0,1)||"L"===t.popup.position.substring(0,1)&&(r="",o="30px"),"L"===t.popup.position.substring(1,2)?(s="-10px",d=""):"R"===t.popup.position.substring(1,2)&&(s="",d="-10px"),l=""):"7"===t.popup.layout&&(void 0===t.popup.position&&(t.popup.position="LR"),699<window.innerWidth&&"UL"===t.popup.position?(s="0px",d=""):699<window.innerWidth&&"UR"===t.popup.position?(s="",d="0px"):(window.innerWidth<=699||"LL"===t.popup.position||"LR"===t.popup.position)&&(n="fixed",r="",o="0px"),l=""),!this.data.el){this.data.style={visibility:"hidden",display:"block",float:"none",margin:0,padding:0,border:0,"background-color":"transparent",overflow:"hidden",position:n,"z-index":-999999999,width:i,height:"100%",top:r,left:s,right:d,bottom:o,opacity:0,transition:"opacity 0.2s ease-in"},this.data.el=document.createElement("div"),this.data.el.setAttribute("style",Object.keys(this.data.style).map(function(t){return t+":"+e.data.style[t]}).join(";")),this.data.el.setAttribute("id",this.data.id),document.body.appendChild(this.data.el);var c="",h=this.data.id+b.data.mtime;"7"===t.popup.layout?(c+="@media (max-width:699px) { #"+this.data.id+" { width: 100% !important; position: fixed !important; top: inherit !important; bottom: 0px !important; }}",c+="@media (min-width:700px) { #"+this.data.id+" { position: "+n+" !important; top: "+r+" !important; height: 100%; }}"):"5"===t.popup.layout&&(c+="@media (max-width:789px) { #"+this.data.id+" { width: 100% !important; position: fixed !important; top: inherit !important; bottom: 0px !important; left: 0px !important; right: 0px !important; }}",c+="@media (min-width:790px) { #"+this.data.id+" { position: "+n+" !important; }}"),c&&b.attach_styles(c,{id:h})}return this.data.iframe||(b.add_log(">>>>>> adding iframe"),this.data.iframe=b.create_element("iframe",{id:this.data.id+"_iframe",style:{width:"100%",height:"100%","background-color":l}}),this.data.el.appendChild(this.data.iframe),this.listen(),b.page_unload(this.destroy)),this},n.hide=function(){return this.is_online()&&this.data.el&&(this.data.el.style.visibility="hidden",0<this.data.el.style["z-index"]&&(this.data.el.style["z-index"]*=-1)),this},n.remove=function(t){return this.is_online()&&(void 0===t&&(t=!1),this.data.iframe&&(this.data.iframe.src=b.data.BLANK_URL),this.hide(),t&&this.reset(),this.unlisten()),this},n.destroy=function(){return this.is_online()&&(this.data.el&&(this.data.el.remove(),this.data.el=null,this.data.iframe=null),this.reset(),this.unlisten()),this},n.is_online=function(t){var e=t||this.data.delegated||this.data;return!!b.data.office||!!b.data.online&&!(!e.online||b.data.mobile&&!e.mobile_online)},n.reset=function(){return Object.assign(this.data,{popup:void 0,window_has_scrolled:!1,loaded:!1,delay:void 0,initialization:void 0,showed:!1}),this},n.is_set=function(){return!!(this.data.delegated||this.data).popup},n.is_ready=function(){var t=this.data.delegated||this.data;return!(!t.loaded||!t.initialization||t.popup.scrolling&&!t.window_has_scrolled||t.popup.idle&&!((new Date).getTime()-t.last_activity>t.popup.idle)||t.popup.delay&&!((new Date).getTime()>=t.initialization+t.popup.delay))},n.check_welcomes_array=function(t){var e,a=this;if(!t||!Array.isArray(t))return this;var i=t.filter(function(t){return b.data.page_name===t.page_name||b.page_check_conditions(t)});if(i.some(function(t){return!(!t.code||b.engine.config.search_url||!b.in_array(b.data.page_name,["Rooms and Rates","Packages"]))})&&!b.widgets.price.is_set_and_loaded())return b.add_log("Delaying Welcome Widget checking until PW is ready ..."),this;if(b.data.timezone&&b.data.date_format&&b.data.tz_description&&i.some(function(t){return!!(t.rng_hour_from||t.rng_hour_to||t.rng_weekday_from||t.rng_weekday_to)}))b.require(["moment","moment-timezone"],function(t){for(t.tz.add(b.data.tz_description),e=0;e<i.length&&!a.check_and_load(i[e],t);e+=1);});else for(e=0;e<i.length&&!a.check_and_load(i[e]);e+=1);return this},n.check_and_load=function(e,t){var a=b.data.mobile&&!b.data.tablet,n=!1,r=!1,o=!1,s=!1;1e6!==b.data.property_id&&1000068!==b.data.property_id||(n=""!==b.parse_url_parameter("force_ntw_booked"),r=""!==b.parse_url_parameter("force_ntw_hotels"),o=""!==b.parse_url_parameter("force_ntw_visited"),s=""!==b.parse_url_parameter("force_ntw_retargeting"));var d=b.check_origins(e.origins,[b.parse_url_parameter("force_ntw_origin"),document.referrer,b.parse_url_parameter("utm_source"),b.data.visits.last_visit_origin]),l=b.widgets.price.data,c=!(!e.prc_price_from||!e.prc_price_to);if(c&&l.price&&l.currency&&l.date_begin&&l.date_end)var h=b.convert_currency(l.price,l.currency,"USD")*b.days_between(l.date_begin,l.date_end),u=b.convert_currency(e.prc_price_from,e.prc_price_currency,"USD"),p=b.convert_currency(e.prc_price_to,e.prc_price_currency,"USD");var _=b.widgets.campaigns.data.campaigns.filter(function(t){for(i=0;i<t.tools.length;i++)if(t.tools[i].aux_id==e.welcome_popup_id&&"welcome"==t.tools[i].type)return t}),g=e.dateranges.filter(function(t){return 1==t.appear}),f=e.dateranges.filter(function(t){return 0==t.appear}),m=e.search_dateranges.filter(function(t){return 1==t.appear}),w=e.search_dateranges.filter(function(t){return 0==t.appear}),v=e.geolocations.filter(function(t){return 1==t.appear}),y=e.geolocations.filter(function(t){return 0==t.appear});return!!((0==e.show_to_logged||1==e.show_to_logged&&b.is_user_logged()||2===e.show_to_logged&&!b.is_user_logged())&&(!v||0==v.length||0<v.length&&b.in_array(b.data.location.geoname_ids,v.map(function(t){return t.geoname_id})))&&(!y||0==y.length||0<y.length&&!b.in_array(b.data.location.geoname_ids,y.map(function(t){return t.geoname_id})))&&(b.data.page_name===e.page_name||b.page_check_conditions(e))&&(0==e.ntw_booked||n||0<e.ntw_booked&&e.ntw_booked>=b.data.visits.hotels_booked)&&(0==e.ntw_visits||r||0<e.ntw_visits&&e.ntw_visits>=b.data.visits.hotels_visited)&&(0==e.retargeting||o||0<e.retargeting&&0<b.data.days_since_last_visit&&b.data.days_since_last_visit<30)&&(0==e.criteo||s||0<e.criteo&&b.data.thn_ref&&0<b.data.days_since_last_visit&&b.data.days_since_last_visit<30)&&d&&("full_img"!==e.type||void 0!==e.has_full_img&&"1"==e.has_full_img)&&(!e.variables||b.in_array_parameters(b.parse_url_parameters(),e.variables))&&(!e.code||e.code!==b.widgets.price.get_promocode())&&(a&&"1"==e.visible_mobile||!a&&"1"==e.visible_desktop)&&(1013275===b.data.hotel_id||1001150===b.data.hotel_id||1076346===b.data.hotel_id||"29283C4A4CB5F5502758B24F99D1848A"===b.data.account_key||0==e.last_visit_date||1<=(b.data.time-e.last_visit_date)/3600&&1==e.per_session||0==e.per_session||null==e.per_session)&&b.is_in_data_range(t&&t.tz?parseInt(t().tz(b.data.timezone).format("e")):null,e.rng_weekday_from,e.rng_weekday_to)&&b.is_in_data_range(t&&t.tz?parseInt(t().tz(b.data.timezone).format("H")):null,e.rng_hour_from,e.rng_hour_to)&&(!m||0==m.length||0<m.length&&m.some(function(t){return 0<=b.days_between(new Date(t.date_begin),new Date(l.date_begin))})&&m.some(function(t){return b.days_between(new Date(t.date_end),new Date(l.date_end))<=0}))&&(!w||0==w.length||0<w.length&&(w.some(function(t){return b.days_between(new Date(t.date_begin),new Date(l.date_begin))<0})||w.some(function(t){return 0<b.days_between(new Date(t.date_end),new Date(l.date_end))})))&&(null==e.rng_days_from||""==e.rng_days_from||b.days_between(new Date,new Date(l.date_begin))>=e.rng_days_from)&&(null==e.rng_days_to||""==e.rng_days_to||b.days_between(new Date,new Date(l.date_begin))<=e.rng_days_to)&&(null==e.rng_stay_from||""==e.rng_stay_from||b.days_between(new Date(l.date_begin),new Date(l.date_end))>=e.rng_stay_from)&&(null==e.rng_stay_to||""==e.rng_stay_to||b.days_between(new Date(l.date_begin),new Date(l.date_end))<=e.rng_stay_to)&&(!g||0==g.length||0<g.length&&b.in_array_dateranges(new Date,g.map(function(t){return{date_begin:t.date_begin,date_end:t.date_end}})))&&(!f||0==f.length||0<f.length&&!b.in_array_dateranges(new Date,f.map(function(t){return{date_begin:t.date_begin,date_end:t.date_end}})))&&(!e.prc_sold_out||0==e.prc_sold_out||1==e.prc_sold_out&&"no-rooms"===l.status||2==e.prc_sold_out&&l.status&&"no-rooms"!==l.status)&&(!c||h&&u&&p&&u<=h&&h<=p)&&(0==_.length||0<_.length&&b.in_array(b.widgets.campaigns.data.applied_campaigns,_.map(function(t){return t.campaign_id}))))&&(e.campaigns=_.map(function(t){return t.campaign_id}).filter(function(t){if(b.in_array(t,b.widgets.campaigns.data.applied_campaigns))return t}),this.data.popup=Object.assign({},e,{scrolling:parseInt(e.scrolling,10)||0,delay:1e3*parseInt(e.extra_delay,10)||0,idle:1e3*parseInt(e.idle_time,10)||0,type:"welcome"}),this.load(),!0)},n.load=function(){var t=this.data.delegated||this.data;if(!this.is_online()||!this.is_set())return this;t.initialization=(new Date).getTime();var e,a=""===b.parse_url_parameter("force_ntw_origin")||1e6!==b.data.property_id&&1000068!==b.data.property_id?document.referrer:b.parse_url_parameter("force_ntw_origin"),i=b.engine.config.search_url||b.in_array(b.data.page_name,["Rooms and Rates","Packages"])?b.generate_search_url(b.widgets.price.data):"";if(t.popup.code&&"own_url"===t.popup.link){var n=b.generate_promocode_handler(i,b.data.promocode_vars,t.popup.code,b.engine.config);n.url?(t.popup.source_url=n.url,i=n.url):n.callback&&(t.popup.link_onclick||(t.popup.link_onclick=(e=t.popup,function(){delete e.link_onclick,n.callback()})))}var r={property_id:t.property_id||b.data.property_id,type:t.popup.type,welcome_popup_id:t.popup.welcome_popup_id,lang:b.data.language,currency:b.widgets.price.data.currency,source:a,source_url:i||"",link_callback:t.popup.link_onclick?1:0,browser:b.data.jscd&&b.data.jscd.browser||"",token:b.data.token,mirror_rtl_lang:b.widgets.welcome.data.mirror_rtl_lang};if(b.is_iframed()&&this.data.bubbles){var o=this.data.referrer||b.data.referrer||document.referrer||"*",s={action:"delegate_welcome_widget",popup:Object.assign({},this.data.popup,{hotel_id:r.hotel_id,property_id:r.property_id}),loaded:!1,online:this.data.online,mobile_online:this.data.mobile_online,ab_test:this.data.ab_test,language:this.data.language||b.data.language,showed:!1,initialization:this.data.initialization,bg_color:this.data.bg_color,last_activity:this.data.last_activity,idle_seconds:this.data.idle_seconds};return window.parent.postMessage(Object.assign({},r,s),o),window.parent.postMessage({action:"load_welcome_widget"},o),b.page_unload(this.destroy),this}return this.data.url=b.data.host+"/hotel-layer?"+b.build_query(r),this.data.el||this.create(),this.data.iframe.src=this.data.url,b.add_log("URL Hotel Welcome Widget: "+this.data.url),this},n.show=function(){var e=this.data.delegated||this.data;if(!this.is_online()||!this.is_set()||!this.is_ready()||b.widgets.exit.is_visible()&&this.is_blocking(!1))return this;if(0<e.popup.campaigns.length){var t=b.widgets.campaigns.data.campaigns.filter(function(t){if(b.in_array(t.campaign_id,e.popup.campaigns))return t});void 0!==t[0]?e.ab_test=t[0].ab_test:e.ab_test=0}else e.ab_test=0;return e.ab_test?(e.showed=!1,e.status="ab-testing"):(this.data.el.style.visibility="visible",this.data.el.style["z-index"]<0&&(this.data.el.style["z-index"]*=-1),this.data.el.style.opacity=1,e.showed=!0,e.status="ok",b.data.widget_analytics&&b.call_client_analytics(this.data.Name)),b.add_log("*************** Welcome Widget ***************"),b.add_log("Showing Welcome Widget - Type: "+e.popup.type),b.add_log(e),this.add_visit({data:e.popup},{showed:e.showed,status:e.status,page_id:e.page_id}),this},n.listen=function(){var n=this,r=this.data.delegated||this.data;return this.is_online()&&(this.on_widget_message||(this.on_widget_message=function(t){var e=t.data;"object"==typeof t.data&&t.data.action&&(e=t.data.action);var a="px";switch(void 0!==t.data.unit&&(a=t.data.unit),e){case"ready_welcome_widget":r.loaded=!0;var i=r.popup.delay&&!n.is_ready()?Math.max(0,r.initialization+r.popup.delay-(new Date).getTime()):0;setTimeout(n.show,i);break;case"exec_callback_welcome_widget":r.popup.link_onclick&&r.popup.link_onclick();break;case"open_link":t.data.url&&window.open(t.data.url,t.data.window_name,t.data.window_features);break;case"close_welcome_widget":n.remove();break;case"send_event":"welcome"===t.data.widget&&t.data.payload&&n.send_event({data:n.data.delegated?n.data.delegated.popup:n.data.popup},t.data.payload);break;case"resize_welcome_widget_height":document.getElementById("eighty_close_welcome_widget").style.height=t.data.height+a;break;case"center_welcome_widget_vertical":document.getElementById("eighty_close_welcome_widget").style.top=window.innerHeight/2-t.data.height/2+a;break;case"resize_welcome_widget_width":document.getElementById("eighty_close_welcome_widget").style.width=t.data.width+a;break;case"resize_welcome_widget_lower_notification_width":document.getElementById("eighty_close_welcome_widget").style.left=b.get_window_width()/2-.8*b.get_window_width()/2+a}},b.add_window_message_listener(this.on_widget_message),b.add_log("********* Listening to welcome Widget's messages ********")),r.popup.scrolling&&!this.on_window_scroll&&(this.on_window_scroll=b.debounce(function(t){b.add_log("*********** Fired a Window's 'scroll' event! **********"),r.window_has_scrolled=!0,n.show(),r.showed&&(window.removeEventListener("scroll",n.on_window_scroll,!1),delete n.on_window_scroll,b.add_log("*** No longer listening to Window's 'scroll' events ***"))},250,!0),window.addEventListener("scroll",this.on_window_scroll,!1),b.add_log("********* Listening to Window's 'scroll' event ********")),r.popup.idle&&!this.on_window_activity&&(this.on_window_activity_timer=function(){n.show(),b.add_log("*********** Finished Idle Time **********"),r.showed&&(window.removeEventListener("mousemove",n.on_window_activity,!1),window.removeEventListener("click",n.on_window_activity,!1),window.removeEventListener("scroll",n.on_window_activity,!1),window.removeEventListener("keypress",n.on_window_activity,!1),clearTimeout(n.window_activity_timer),b.add_log("*** No longer listening to Window's activity ***"))},this.on_window_activity=b.debounce(function(){r.idle_seconds=((new Date).getTime()-r.last_activity)/1e3,b.add_log("Seconds Idle: "+r.idle_seconds),r.last_activity=(new Date).getTime(),clearTimeout(n.window_activity_timer),n.window_activity_timer=setTimeout(n.on_window_activity_timer,r.popup.idle)},250,!0),r.last_activity=(new Date).getTime(),r.idle_seconds=0,window.addEventListener("mousemove",this.on_window_activity,!1),window.addEventListener("click",this.on_window_activity,!1),window.addEventListener("scroll",this.on_window_activity,!1),window.addEventListener("keypress",this.on_window_activity,!1),b.add_log("********* Listening to Window's activity ********"),this.window_activity_timer=setTimeout(this.on_window_activity_timer,r.popup.idle))),this},n.unlisten=function(){return this.is_online()&&(this.on_widget_message&&(b.remove_window_message_listener(this.on_widget_message),delete this.on_widget_message,b.add_log("*** No longer listening to Welcome Widget's messages ****")),this.on_window_scroll&&(window.removeEventListener("scroll",this.on_window_scroll,!1),delete this.on_window_scroll,b.add_log("*** No longer listening to Window's 'scroll' events ***")),this.on_window_activity&&(window.removeEventListener("mousemove",this.on_window_activity,!1),window.removeEventListener("click",this.on_window_activity,!1),window.removeEventListener("scroll",this.on_window_activity,!1),window.removeEventListener("keypress",this.on_window_activity,!1),delete this.on_window_activity,this.window_activity_timer&&(clearTimeout(this.window_activity_timer),delete this.window_activity_timer),b.add_log("*** No longer listening to Window's activity ***"))),this},n.is_blocking=function(t){var e=this.data.delegated||this.data;return void 0===t&&(t=!0),!(t&&!this.is_visible()||b.in_array(e.popup.layout,["4","5","7"]))},n.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||{},a=Object.getPrototypeOf(n).get_payload.call(this,t,e),t.type){case"add_visit":a.layer={welcome_popup_id:t.data.welcome_popup_id,showed:e.showed?1:0,status:e.status?e.status:"",type:t.data.type},t.data.campaigns&&(a.layer.campaigns=t.data.campaigns);break;case"send_event":a.layer={welcome_popup_id:t.data.welcome_popup_id,event:a.event_type,event_date:a.event_date,link_url:a.link_url};break;default:a.welcome_popup_id=t.data.welcome_popup_id}return a},b.protos.welcome_widget=n}}(window.thn),function(r){if(!r.protos.booking_widget){var n=Object.create(r.protos.base_widget);n.__default_init_data={name:"booking",Name:"Booking",mixpanel_name:"booking-confirmed",mode:"auto",id:"eighty_hotel_booking_confirmed_widget",initialized:!1,set:!1,online:!0,mobile_online:!0,booking_id:"",extras:"",phone:"",email:"",price:"",currency:"",date_begin:"",date_end:"",adults:"",children:"",rooms:""},n.protected_data=["mode","initialized","set","price","currency","date_begin","date_end"],n.__exclude_binding=[],n.init=function(t){return r.add_log("Initializing Booking Confirmed"+(this.data.initialized?" (again)":"")),"auto"===this.data.mode?setTimeout(function(){this.set_data(t),this.save(),this.observe_dom()}.bind(this),1e3):t&&(this.set_data(t),this.save()),this.data.initialized=!0,this},n.is_set=function(){return!!(this.data.set&&this.data.currency&&this.data.price&&r.is_numeric(this.data.price)&&0<parseInt(this.data.price,10)&&this.data.date_begin&&this.data.date_end)},n.is_set_full=function(){return this.is_set()&&this.data.booking_id},n.reset=function(){return Object.assign(this.data,{currency:"EUR",price:void 0,date_begin:void 0,date_end:void 0,set:!1}),this},n.save=function(){var t;this.add_visit(),t={page:"booking-confirmed",hotel_id:r.data.hotel_id,property_id:r.data.property_id,fingerprint:void 0===r.data.fingerprint?"":r.data.fingerprint,visit_date:r.data.time,token:r.data.token,url:window.location.href,page_id:void 0===r.data.page_id?"":r.data.page_id,ip:r.data.ip,log:JSON.stringify(r.data.log)},r.ajax.post(r.data.host+"/add_widget_log",t,function(t){r.add_log("************** LOG SENT ****************"),r.add_log(t)},!0),this.is_set_full()&&(r.add_log("Saving FULL Booking Confirmed"),r.add_log(this.data),t={booking_confirmed:this.data,hotel_id:r.data.hotel_id,property_id:r.data.property_id,fingerprint:r.data.fingerprint,booking_date:r.data.time,token:r.data.token,lang:r.data.language},r.ajax.post(r.data.host+"/add_widget_booking_confirmed",t,function(t){r.add_log("Saving FULL Booking Confirmed Result:"),r.add_log(t),r.data.property_id&&r.in_array(r.data.property_id,[1e6,1000068])&&r.widgets.upgrade.is_online()&&r.widgets.upgrade.show()},!0))},n.observe_dom=function(){var t={widget:this};return r.add_log("************** OBSERVING BOOKING CONFIRMED DOM *****************"),r.engine&&r.engine.booking_observe_dom?(r.add_log("Handled: true"),r.engine.booking_observe_dom.call(this,t)):r.add_log("Handled: false"),this};var i={rooms:Array.isArray,adults:t,children:function(t){return r.is_numeric(t)&&0<=parseInt(t,10)},booking_id:function(t){return"string"==typeof t&&t.trim().length||r.is_numeric(t)&&0<t},extras:function(t){return a(t)||Array.isArray(t)},phone:a,email:a,currency:function(t){return"string"==typeof t&&t.match(/\w{3}/)},price:t,date_begin:function(t){return"string"==typeof t&&t.match(/\d{4}\/\d{1,2}\/\d{1,2}/)},date_end:function(t){return"string"==typeof t&&t.match(/\d{4}\/\d{1,2}\/\d{1,2}/)},property_id:e,hotel_id:e,mode:function(t){return r.in_array(t,["auto","manual"])}};n.validate=function(t,e){var a;return a=t?Object.assign({},t):this.data,void 0===e&&(e=!1),Object.keys(a).forEach(function(t){(!0===e&&!(t in i)||t in i&&!i[t](a[t]))&&delete a[t]}),t?a:this},n.is_enough=function(t){var e=t||this.data;return!!(e.currency&&e.price&&r.is_numeric(e.price)&&0<r.parse_sentence_for_number(e.price))},n.set_data=function(t){if(this.is_set())return this;t=t||{};var e=Object.assign({},this.validate(t));if(this.is_enough(e)&&(e.set=!0),!e.set&&"auto"===this.data.mode)try{var a={},i={};null!=r.data.user.last_search&&(void 0!==r.data.user.last_search.date_begin?a.date_begin=r.date_to_string(new Date(1e3*r.data.user.last_search.date_begin)):a.date_begin=null,void 0!==r.data.user.last_search.date_end?a.date_end=r.date_to_string(new Date(1e3*r.data.user.last_search.date_end)):a.date_end=null,a.price=void 0!==r.data.user.last_search.price?r.data.user.last_search.price:null,a.currency=void 0!==r.data.user.last_search.currency?r.data.user.last_search.currency:null,r.assign_not_empty(i,a),a.date_begin&&a.date_end&&a.price&&(i.price=a.price*r.days_between(a.date_begin,a.date_end)));var n={params:t,widget:this,widget_data:e,tmp_session:a,estimated_data:i};r.add_log("************** PARSING BOOKING CONFIRMED DOM *****************"),r.engine&&r.engine.booking_parse_data&&(e=r.engine.booking_parse_data.call(this,n)),e=r.assign_not_empty({},i,e)}catch(t){r.add_widget_url_error(t)}return"string"==typeof e.price&&(e.price=parseFloat(e.price.replace(",","."))),e=this.validate(e),this.is_enough(e)&&!1!==e.set?(e.set=!0,Object.assign(this.data,e)):e.set=!1,r.add_log("*************** Booking Confirmed ***************"),r.add_log("Price: "+e.price+" "+e.currency+" - Dates: "+e.date_begin+" "+e.date_end+" - Set: "+e.set),e.set&&r.data.rtrg_code&&r.retargeting_criteo(),this},n.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||this.data,a=Object.getPrototypeOf(n).get_payload.call(this,t,e),t.type){case"add_visit":a.booking={showed:e.showed||t.data.showed?1:0,ab_test:e.ab_test||t.data.ab_test?1:0,status:e.status||t.data.status||"",price:t.data.price||0,currency:t.data.currency||"EUR",date_begin:t.data.date_begin||"0",date_end:t.data.date_end||"0",booking_id:t.data.booking_id||"",promocode:t.data.promocode||""},!a.thn_ref&&r.data.session&&r.data.session.thn_ref&&(a.thn_ref=r.data.session.thn_ref);break;case"mixpanel":a.ab_test=e.ab_test||t.data.ab_test||!1,a.price=r.widgets.booking.data.price||0,a.date_begin=r.widgets.booking.data.date_begin||"0",a.date_end=r.widgets.booking.data.date_end||"0",a.thn_ref=r.data.thn_ref}return a},n.add_visit=function(t,e){var a=r.get_last_search_state();e=e||{},(t=t||{}).data=t.data||this.data,e.page=e.page||this.data.mixpanel_name,void 0===e.showed&&(e.showed=r.widgets.price.data.showed),void 0===e.status&&(e.status=r.widgets.price.data.status),void 0===e.ab_test&&(e.ab_test=r.widgets.price.data.ab_test),r.data.user.last_search&&void 0===e.status&&(r.add_log("Picking up status form the last stored search"),e.showed=a.showed,e.ab_test=a.ab_test,void 0!==a.status&&(e.status=a.status)),Object.getPrototypeOf(n).add_visit.call(this,t,e),t.type="add_visit";var i=this.get_payload(t,e);return r.add_log("*************** MixPanel && Visit ***************"),r.add_log(e.page),r.add_log(i),r.add_log("Showed: "+i.showed+" - Status: "+i.status+" - ABTest:"+i.ab_test),r.retargeting_google(),r.save_hotel_page_code(e.page),this},r.protos.booking_widget=n}function t(t){return r.is_numeric(t)&&0<parseInt(t,10)}function e(t){return r.is_numeric(t)&&7===t.length}function a(t){return"string"==typeof t&&t.trim().length}}(window.thn),function(c){if(!c.protos.reviews_widget){var i=Object.create(c.protos.base_widget);i.__default_init_data={name:"reviews",Name:"Reviews",mixpanel_name:"reviews-monitor",id:"eighty_hotel_reviews_widget",selectors:{see_reviews_button:"#see_reviews_button",widget_open_bar:"."+c.data.prefix+"widget_bar",widget_open_bar_mobile:"."+c.data.prefix+"widget_closed_bottom",widget_closed_bar:"#widget_closed",type_selection:"."+c.data.prefix+"review_monitor_selector ."+c.data.prefix+"type",language_selection:"."+c.data.prefix+"language",selected_language_class:"."+c.data.prefix+"language_selected",show_reviews_section:"#review_monitor_review",single_review_section:"."+c.data.prefix+"review",no_review_section:"#no_review",semi_section:"."+c.data.prefix+"reviews_semi",main_states:["step_summary","step_type_selection","step_show_reviews"].map(function(t){return c.data.prefix+t})},initialized:!1,status:void 0,showed:void 0,online:0,mobile_online:0,version:1,ab_test:0,position:"",mobile_position:"BT",language:void 0,type:void 0,bubbles:!1},i.protected_data=["initialized","status","showed","ab_test","language","type","bubbles"],i.__exclude_binding=[],i.show=function(t){var n=this;if(!this.is_online())return this;if(t=t||{},this.data.ab_test=!c.data.office&&this.data.ab_test&&c.is_fingerprint_par(c.data.fingerprint),this.data.ab_test)return this.data.showed=!1,this.data.status="widget-ok",this.add_visit(),this;var e={hotel_id:this.data.hotel_id||c.data.hotel_id,property_id:this.data.property_id||c.data.property_id,page_id:t.page_id||this.data.page_id||c.data.page_id,lang:t.language||this.data.language||c.data.language,mobile:c.data.mobile?1:0,tablet:c.data.tablet?1:0,width_parent:c.data.mobile?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:null,height_parent:c.data.mobile?window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight:null,token:c.data.token};if(c.is_iframed()&&this.data.bubbles){var a=this.data.referrer||c.data.referrer||document.referrer||"*",i={action:"show_reviews_widget",ab_test:this.data.ab_test,online:this.data.online,mobile_online:this.data.mobile_online,version:this.data.version,language:this.data.language||c.data.language,page_id:c.data.page_id,position:this.data.position,mobile_position:this.data.mobile_position,type:this.data.type};return window.parent.postMessage(Object.assign({},e,i),a),c.page_unload(this.destroy),this}if(this.data.el||this.create(),1==this.data.version){if(this.data.url=c.data.host+"/hotel-review-monitor-widget?"+c.build_query(e),!0!==t.reload&&this.data.url===this.data.iframe.src)return this.data.el.style.visibility="visible",this.data.el.style["z-index"]<0&&(this.data.el.style["z-index"]*=-1),this;c.add_log("***************** REVIEWS MONITOR ***********************"),c.add_log("URL Show Reviews Widget: "+this.data.url),c.data.mobile||c.get_window_width()>c.data.min_resolution?(this.data.iframe.src=this.data.url,this.data.status="widget-ok",this.data.showed=!0,c.data.widget_analytics&&c.call_client_analytics("Reviews")):(this.destroy(),this.data.status="no-resolution",this.data.showed=!1),this.add_visit()}else if(2===this.data.version){this.data.url=c.data.host+"/get_hotel_review_monitor_widget?"+c.build_query(e);var r=c.data.host+"/widget/core/"+c.data.version+"/mst/reviews.mst?"+c.data.mtime,o=c.data.host+"/widget/core/"+c.data.version+"/css/main.css?"+c.data.mtime,s=["Mustache","json!"+this.data.url,"text!"+r,"text!"+o];c.require(s,function(t,e,a,i){c.attach_styles(i,{id:o}),e.prefix=c.data.prefix,n.data.el.innerHTML=t.render(a,e),1==e.widget_data.rev_wdgt_closed&&n.data.el.classList.toggle(c.data.prefix+"is_closed"),n.data.el.style.visibility="visible",n.data.el.style["z-index"]<0&&(n.data.el.style["z-index"]*=-1),n.unlisten().listen()})}return this},i.minimize=function(){return this.is_online()&&this.message({action:"close"}),this},i.create=function(){var e=this;if(!this.is_online()||this.data.el)return this;return this.data.style={visibility:"hidden",display:"block",float:"none",margin:0,padding:0,border:0,"background-color":"transparent",overflow:"hidden",position:"fixed","z-index":8===c.data.booking_system?100:99999},1013157===c.data.property_id?this.data.style["z-index"]=1041:139===c.data.booking_system&&(this.data.style["z-index"]=4),this.data.el=document.createElement("div"),this.data.el.setAttribute("id",this.data.id),document.body.appendChild(this.data.el),1==this.data.version?(c.data.mobile&&!c.data.tablet?(this.data.style["box-shadow"]="0px 0px 30px rgba(0,0,0,0.4)","BT"===this.data.mobile_position&&(this.data.style.bottom=0)):(this.data.style["R"===this.data.position.charAt(1)?"right":"left"]="30px","L"===this.data.position.charAt(0)?this.data.style.bottom="30px":"U"===this.data.position.charAt(0)?this.data.style.top="30px":"C"===this.data.position.charAt(0)&&(this.data.style.top="50%",this.data.style.transform="translate(0%, -50%)",this.data.style["-ms-transform"]="translate(0%, -50%)",this.data.style["-webkit-transform"]="translate(0%, -50%)",this.data.style["-moz-transform"]="translate(0%, -50%)")),this.listen(),this.data.iframe||(this.data.iframe=c.create_element("iframe",{id:this.data.id+"_iframe"}),this.data.el.appendChild(this.data.iframe))):2===this.data.version&&(["thn","reviews_widget","step_summary","phone_"+this.data.mobile_position,"desktop_"+this.data.position].forEach(function(t){e.data.el.classList.add(c.data.prefix+t)}),c.data.mobile&&!c.data.tablet?this.data.el.classList.add(c.data.prefix+"is_phone"):this.data.el.classList.add(c.data.prefix+"is_desktop")),c.page_unload(this.destroy),this.data.style["z-index"]*=-1,this.data.el.setAttribute("style",Object.keys(this.data.style).map(function(t){return t+":"+e.data.style[t]}).join(";")),this},i.destroy=function(){if(!this.is_online())return this;if(this.data.el&&(this.data.el.remove(),this.data.el=null,this.data.iframe=null),this.unlisten(),c.is_iframed()&&this.data.bubbles){var t=this.data.referrer||c.data.referrer||document.referrer||"*";window.parent.postMessage({action:"destroy_reviews_widget"},t)}return this},i.hide=function(){return this.is_online()&&this.data.el&&(this.data.el.style.visibility="hidden",0<this.data.el.style["z-index"]&&(this.data.el.style["z-index"]*=-1)),this},i.listen=function(){var r=this;if(!this.is_online())return this;if(1==this.data.version)this.on_widget_message||(this.on_widget_message=function(a){var i=c.data.tablet?20:c.data.mobile?0:10,n={};if(a.data&&"resize"===a.data.action&&"hotel-review-monitor-widget"===a.data.current_url&&a.origin===c.data.host)if(c.add_log("*************** Message Widgets Received ***************"),c.add_log(a.data),c.add_log(r.data.id),r.data.el){if(["height","width","bottom","top","right","left"].forEach(function(t){var e;t in a.data&&("number"!=typeof(e=parseInt(a.data[t],10))||isNaN(e)||(n[t]=e))}),!0===a.data.first_time){if(c.data.mobile&&!c.data.tablet&&"BT"===r.data.mobile_position){var t=document.getElementsByClassName(c.data.prefix+"ns-box-mobile");t&&Array.from(t).forEach(function(t){var e=window.getComputedStyle&&window.getComputedStyle(t),a=e&&e.bottom&&parseInt(e.bottom.match(/\d+/)[0],10)||0;t.style.bottom=55+a+"px"})}r.show()}Object.keys(n).forEach(function(t){var e=n[t];"height"!==t&&"width"!==t||(e+=i),r.data.el.style[t]=e+"px"})}else c.add_log("[error] Unable to find DOM element for this widget: "+r.data.id)},c.add_window_message_listener(this.on_widget_message),c.add_log("********* Listening to Reviews Widget's messages ********")),this.on_window_resize||!c.data.mobile||c.data.tablet||(this.on_window_resize=c.debounce(function(t){c.add_log("*********** Fired a Window's 'resize' event! **********");var e={width:(t=t||{}).width||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:t.height||window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight};r.message({action:"reconfigure",params:e})},250),window.addEventListener("resize",this.on_window_resize,!1),c.add_log("********* Listening to Window's 'resize' event ********")),this.on_document_click||!c.data.mobile||c.data.tablet||(this.on_document_click=this.minimize,document.addEventListener("click",this.on_document_click,!1),c.add_log("********* Listening to Window's 'click' events ********"));else if(2===this.data.version){var t,e=[],s=this.data.selectors,d=this.data.el,a=function(t){if(!c.event_is_handled_or_auxclick(t)){t.preventDefault();var e="data-type_id",a=this.getAttribute(e);d.querySelector(s.show_reviews_section).setAttribute(e,a),d.classList.remove(c.data.prefix+"step_type_selection"),d.classList.add(c.data.prefix+"step_show_reviews");var i=d.querySelector(s.selected_language_class);i&&i.click()}};Array.from(d.querySelectorAll(s.type_selection)).forEach(function(t){t.addEventListener("click",a,!1),e.push(function(){t.removeEventListener("click",a,!1)})});var i=function(t){if(!c.event_is_handled_or_auxclick(t)){t.preventDefault();var e=this.getAttribute("data-language"),i=this.getAttribute("data-lang_code"),a=d.querySelector(s.no_review_section),n=d.querySelector(s.show_reviews_section),r=n.getAttribute("data-type_id");a.innerHTML="There aren't any reviews in "+e,n.setAttribute("data-lang_code",i),Array.from(d.querySelectorAll(s.language_selection)).forEach(function(t){t.classList.remove(c.data.prefix+"language_selected")}),this.classList.add(c.data.prefix+"language_selected");var o=!1;Array.from(n.querySelectorAll(s.single_review_section)).forEach(function(t){var e=t.getAttribute("data-lang_code"),a=t.getAttribute("data-type_id");e===i&&a===r?(t.classList.add(c.data.prefix+"show"),t.classList.remove(c.data.prefix+"hidden"),o=!0):(t.classList.remove(c.data.prefix+"show"),t.classList.add(c.data.prefix+"hidden"))}),n.classList.toggle(c.data.prefix+"empty",!o)}};Array.from(d.querySelectorAll(s.language_selection)).forEach(function(t){t.addEventListener("click",i,!1),e.push(function(){t.removeEventListener("click",i,!1)})});var n=function(t){!c.event_is_handled_or_auxclick(t)&&this.classList.contains(c.data.prefix+"reviews_semi")&&(t.preventDefault(),this.classList.remove(c.data.prefix+"reviews_semi"))};Array.from(d.querySelectorAll(".reviews_semi")).forEach(function(t){t.addEventListener("click",n,!1),e.push(function(){t.removeEventListener("click",n,!1)})});var o=function(t){c.event_is_handled_or_auxclick(t)||(t.preventDefault(),d.classList.contains(c.data.prefix+"step_summary")?(d.classList.remove(c.data.prefix+"step_summary"),d.classList.add(c.data.prefix+"step_type_selection")):d.classList.contains(c.data.prefix+"step_type_selection")?(d.classList.remove(c.data.prefix+"step_type_selection"),d.classList.add(c.data.prefix+"step_summary")):d.classList.contains(c.data.prefix+"step_show_reviews")&&(d.classList.remove(c.data.prefix+"step_show_reviews"),d.classList.add(c.data.prefix+"step_type_selection")))};Array.from(d.querySelectorAll(s.see_reviews_button)).forEach(function(t){t.addEventListener("click",o,!1),e.push(function(){t.removeEventListener("click",o,!1)})}),t=[s.widget_open_bar,s.widget_open_bar_mobile,s.widget_closed_bar].join(",");var l=function(t){c.event_is_handled_or_auxclick(t)||(t.preventDefault(),d.classList.contains(c.data.prefix+"is_closed")&&d.classList.add(c.data.prefix+"touched"),d.classList.toggle(c.data.prefix+"is_closed"))};Array.from(d.querySelectorAll(t)).forEach(function(t){t.addEventListener("click",l,!1),e.push(function(){t.removeEventListener("click",l,!1)})}),this.unlisten_dom_events=function(){e.forEach(function(t){t()})},c.add_log("********* Listening to Reviews Widget DOM events ********")}return this},i.unlisten=function(){return this.is_online()&&(this.on_widget_message&&(c.remove_window_message_listener(this.on_widget_message),delete this.on_widget_message,c.add_log("*** No longer listening to Reviews Widget's messages ****")),this.on_window_resize&&(window.removeEventListener("resize",this.on_window_resize,!1),delete this.on_window_resize,c.add_log("*** No longer listening to Window's 'resize' event ***")),this.on_document_click&&(document.removeEventListener("click",this.on_document_click,!1),delete this.on_document_resize,c.add_log("*** No longer listening to Window's 'click' events ***")),this.unlisten_dom_events&&(this.unlisten_dom_events(),delete this.unlisten_dom_events,c.add_log("********* No longer listening to Reviews Widget DOM events ********"))),this},i.remove=function(){if(!this.is_online())return this;if(this.data.iframe&&(this.data.iframe.src=c.data.BLANK_URL),this.hide(),c.is_iframed()&&this.data.bubbles){var t=this.data.referrer||c.data.referrer||document.referrer||"*";window.parent.postMessage({action:"remove_reviews_widget"},t)}return this},i.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||this.data,a=Object.getPrototypeOf(i).get_payload.call(this,t,e),t.type){case"add_visit":a.review={ab_test:t.data.ab_test?1:0,showed:t.data.showed?1:0,status:t.data.status?e.status:""};break;case"mixpanel":a.ab_test=!c.empty(t.data.ab_test)}return a},c.protos.reviews_widget=i}}(window.thn),function(a){if(!a.protos.upgrade_widget){var t=Object.create(a.protos.base_widget);t.__default_init_data={name:"upgrade",Name:"Upgrade",id:"hotel_upgrade_widget",online:0,mobile_online:0},t.__protected_data=[],t.__exclude_binding=[],t.create=function(){var e=this;return this.is_online()&&(this.data.el||(this.data.style={visibility:"hidden",display:"block",float:"none",margin:0,padding:0,border:0,"background-color":"transparent",overflow:"hidden",position:"fixed","z-index":-999999999,width:"100%",height:"100%",top:0,left:0},this.data.el=document.createElement("div"),this.data.el.setAttribute("style",Object.keys(this.data.style).map(function(t){return t+":"+e.data.style[t]}).join(";")),this.data.el.setAttribute("id",this.data.id),document.body.appendChild(this.data.el)),this.data.iframe||(this.data.iframe=a.create_element("iframe",{id:this.data.id+"_iframe",style:{"background-color":"rgba(0, 0, 0, 0.5)"}}),this.data.el.appendChild(this.data.iframe),this.listen(),a.page_unload(this.destroy))),this},t.destroy=function(){return this.is_online()&&(this.data.el&&(this.data.el.remove(),this.data.el=null,this.data.iframe=null),this.unlisten()),this},t.show=function(t){if(!this.is_online()||!a.data.mobile&&a.get_window_width()<a.data.min_resolution)return this;t=t||{};var e={fingerprint:a.data.fingerprint,hotel_id:a.data.hotel_id,property_id:a.data.property_id,booking_id:a.widgets.booking.data.booking_id,showed_date:a.data.time,lang:a.data.language,token:a.data.token};return this.data.url=a.data.host+"/hotel-upgrade-widget?"+a.build_query(e),this.data.el||this.create(),!0!==t.reload&&this.data.url===this.data.iframe.src?(this.data.el.style.visibility="visible",this.data.el.style["z-index"]<0&&(this.data.el.style["z-index"]*=-1)):(a.add_log("*************** Upgrade Widget ***************"),a.add_log("URL Hotel Upgrade Widget: "+this.data.url),a.add_log("Showing Upgrade Widget"),this.data.iframe.src=this.data.url),this},t.listen=function(){var e=this;return this.is_online()&&(this.on_widget_message||(this.on_widget_message=function(t){t.data&&("close_upgrade_widget"!==t.data?"show"!==t.data.action||"hotel-upgrade-widget"!==t.data.current_url||e.show():e.destroy())},a.add_window_message_listener(this.on_widget_message),a.add_log("********* Listening to Upgrade Widget's messages ********"))),this},t.unlisten=function(){return this.is_online()&&this.on_widget_message&&(a.remove_window_message_listener(this.on_widget_message),delete this.on_widget_message,a.add_log("*** No longer listening to Upgrade Widget's messages ****")),this},a.protos.upgrade_widget=t}}(window.thn),function(s){if(!s.protos.chat_widget){var t=Object.create(s.protos.base_widget);t.__default_init_data={name:"chat",Name:"Chat",initialized:!1,online:0,mobile_online:0,pages:[],olark_id:null,olark_configuration:{},language_codes:{en:"en-US",de:"de-DE",es:"es-ES",fr:"fr-FR",it:"it-IT",nl:"nl-NL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",zh:"zh-CN"}},t.__protected_data=["initialized"],t.__exclude_binding=[],t.init=function(){var t,e,a,i,n,r,o=this;return this.is_online()&&(this.data.initialized||window.olark||(s.add_log("[Chat] Showing"),t=window,e=document,a="static.olark.com/jsclient/loader.js",t.olark||(i="script",r=e.createElement(i),i=e.getElementsByTagName(i)[0],r.async=1,r.src="//"+a,i.parentNode.insertBefore(r,i),(r=t.olark=function(){n.s.push(arguments),n.t.push(+new Date)}).extend=function(t,e){r("extend",t,e)},r.identify=function(t){r("identify",n.i=t)},r.configure=function(t,e){r("configure",t,e),n.c[t]=e},n=r._={s:[],t:[+new Date],c:{},l:a}),Object.keys(this.data.olark_configuration).forEach(function(t){var e=o.data.olark_configuration[t];s.add_log("[Chat] "+t+": "+e),olark.configure(t,e)}),olark.configure("system.localization",this.data.language_codes[s.data.language]||"en-US"),s.add_log("[Chat] ID: "+this.data.olark_id),olark.identify(this.data.olark_id),s.page_unload(this.hide),this.data.initialized=!0)),this},t.is_online=function(){return!!(s.data.office||this.data.online&&this.data.olark_id&&(!s.data.mobile||this.data.mobile_online)&&(!this.data.pages||Array.isArray(this.data.pages)&&0===this.data.pages.length||s.data.page_id&&s.in_array(s.data.page_id,this.data.pages)))},t.hide=function(){return this.is_online()&&this.data.initialized&&olark("api.box.hide"),this},t.show=function(){return this.is_online()&&this.data.initialized&&olark("api.box.show"),this},s.protos.chat_widget=t}}(window.thn),function(s){if(!s.protos.oracle_incentives_widget){var i=Object.create(s.protos.base_widget);i.__default_init_data={name:"oracle_incentives",Name:"Oracle Incentives",online:0,mobile_online:0,ab_test:0,incentives:void 0},i.__protected_data=[],i.__exclude_binding=[],i.check_and_show=function(){if(this.is_online()&&void 0!==this.data.incentives&&0<this.data.incentives.length&&(!s.data.user.last_search||null==s.data.user.last_search.last_booking_date||30<((new Date).getTime()/1e3-parseInt(s.data.user.last_search.last_booking_date,10))/86400))t:for(var t=0;t<this.data.incentives.length;t+=1)if((!this.data.incentives[t].countries||0==this.data.incentives[t].countries.length||0<this.data.incentives[t].countries.length&&s.in_array(s.data.country,this.data.incentives[t].countries))&&(0==this.data.incentives[t].dateranges.length||0<this.data.incentives[t].dateranges.length&&s.in_array_dateranges(new Date,this.data.incentives[t].dateranges))&&0!=(void 0!==s.widgets.oracle.data.session.category?s.widgets.oracle.data.session.category:s.widgets.oracle.data.category)&&parseFloat(this.data.incentives[t].min_category)<=parseFloat(null!=s.widgets.oracle.data.session.category?s.widgets.oracle.data.session.category:s.widgets.oracle.data.category)&&parseFloat(this.data.incentives[t].max_category)>=parseFloat(null!=s.widgets.oracle.data.session.category?s.widgets.oracle.data.session.category:s.widgets.oracle.data.category)&&(s.empty(this.data.incentives[t].first_visit_off)||s.data.user.last_search)){if(this.data.ab_test=!s.data.office&&this.data.ab_test&&s.is_fingerprint_percent(s.data.fingerprint,s.widgets.oracle_incentives.data.percent_ab_test),this.data.ab_test?(this.data.showed=!1,this.data.status="ab-testing"):(this.data.showed=!0,this.data.status="ok"),s.add_log("********* Incentive FOUND ********"),s.add_log(this.data),s.add_log(this.data.incentives[t]),s.add_log(void 0!==s.widgets.oracle.data.session.category?s.widgets.oracle.data.session.category:s.widgets.oracle.data.category),this.add_visit({data:this.data.incentives[t]}),this.data.showed&&0<this.data.incentives[t].tools.length){1==this.data.incentives[t].ab_test&&s.rotate_array(this.data.incentives[t].tools,s.data.fingerprint.substr(0,1).charCodeAt(0)%this.data.incentives[0].tools.length);for(var e=0;e<this.data.incentives[t].tools.length;e+=1){var a=this.data.incentives[t].tools[e];if(s.add_log("Checking Incentive tool - "+a.aux_id),"notes"===a.type){var i=s.widgets.notes.data.notes.filter(function(t){return t.note_id===a.aux_id});if(i.length){s.add_log("********* Incentive NOTE FOUND ********");var n=i[0];if(n.oracle_incentive_id=this.data.incentives[t].incentive_id,n.code=a.code||"",n.disc_type=a.discount_percent?1:2,n.disc=a.discount_percent||a.discount_fixed,n.disc_currency=a.discount_currency,s.widgets.notes.check_and_show(n))break t}}else if("exit"===a.type){var r=s.widgets.exit.data.popups.filter(function(t){return t.exit_popup_id===a.aux_id});if(r.length){s.add_log("********* Incentive EXIT FOUND ********");var o=r[0];if(o.oracle_incentive_id=this.data.incentives[t].incentive_id,o.code=a.code||"",s.widgets.exit.check_and_load(o))break t}}}}}else s.add_log("********* Incentive NOT FOUND ********"),s.add_log(this.data.incentives[t]),(!this.data.incentives[t].countries||0===this.data.incentives[t].countries.length||0<this.data.incentives[t].countries.length&&s.in_array(s.data.country,this.data.incentives[t].countries))&&s.add_log("Country Check OK"),(0===this.data.incentives[t].dateranges.length||0<this.data.incentives[t].dateranges.length&&s.in_array_dateranges(new Date,this.data.incentives[t].dateranges))&&s.add_log("Date Ranges Check OK"),0!=(void 0!==s.widgets.oracle.data.session.category?s.widgets.oracle.data.session.category:s.widgets.oracle.data.category)&&s.add_log("Category Found Check OK"),parseFloat(this.data.incentives[t].min_category)<=parseFloat(null!=s.widgets.oracle.data.session.category?s.widgets.oracle.data.session.category:s.widgets.oracle.data.category)&&s.add_log("Min Category Check OK"),parseFloat(this.data.incentives[t].max_category)>=parseFloat(null!=s.widgets.oracle.data.session.category?s.widgets.oracle.data.session.category:s.widgets.oracle.data.category)&&s.add_log("Max Category Check OK")},i.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||{},a=Object.getPrototypeOf(i).get_payload.call(this,t,e),t.type){case"add_visit":default:a.incentive={incentive_id:t.data.incentive_id,showed:this.data.showed?1:0,status:this.data.status?this.data.status:""}}return a},s.protos.oracle_incentives_widget=i}}(window.thn),function(t){if(!t.protos.package_widget){var e=Object.create(t.protos.price_widget);e.__default_init_data=Object.assign({},e.__default_init_data,{name:"package",Name:"Package",mixpanel_name:"package-monitor",prefix:"pwp_",id:"eighty_hotel_package_check_widget"}),e.__protected_data=e.__protected_data.concat([]),e.__exclude_binding=e.__exclude_binding.concat([]),e.is_set=function(t){return!!(Object.getPrototypeOf(e).is_set.call(this,t)&&this.data.flight_origin&&this.data.flight_destination)},t.protos.package_widget=e}}(window.thn),function(i){if(!i.protos.campaigns_widget){var n=Object.create(i.protos.base_widget);n.__default_init_data={name:"campaigns",Name:"Campaigns",online:0,mobile_online:0,campaigns:[]},n.__protected_data=[],n.__exclude_binding=[],n.check_campaigns_array=function(t){var e;if(!t||!Array.isArray(t))return this;for(e=0;e<t.length;e+=1)this.check_and_load(t[e]);return this},n.check_and_load=function(t){var e=t.geolocations.filter(function(t){return 1==t.appear}),a=t.geolocations.filter(function(t){return 0==t.appear});return!(!this.is_online()||e&&0!=e.length&&!(0<e.length&&i.in_array(i.data.location.geoname_ids,e.map(function(t){return t.geoname_id})))||!(!a||0==a.length||0<a.length&&!i.in_array(i.data.location.geoname_ids,a.map(function(t){return t.geoname_id})))||t.dateranges&&0!=t.dateranges.length&&!(0<t.dateranges.length&&i.in_array_dateranges(new Date,t.dateranges)))&&(t.ab_test=!i.data.office&&t.ab_test&&i.is_fingerprint_percent(i.data.fingerprint,t.percent_ab_test),t.ab_test?t.status="ab-testing":t.status="ok",this.data.applied_campaigns.push(t.campaign_id),i.add_log("********* Campaign FOUND ********"),i.add_log(t),i.data.user.origin&&(i.add_log("********* Campaign VISIT ********"),this.add_visit({data:t})),!0)},n.get_payload=function(t,e){var a;switch(e=e||{},(t=t||{}).data=t.data||{},a=Object.getPrototypeOf(n).get_payload.call(this,t,e),t.type){case"add_visit":default:a.campaign={campaign_id:t.data.campaign_id,status:t.data.status?t.data.status:""}}return a},i.protos.campaigns_widget=n}}(window.thn),function(thn){var requirejs,require,define;require={baseUrl:thn.data.host+"/js/libs/",skipDataMain:!0,enforceDefine:!0,waitSeconds:0,paths:{moment:["moment.js/2.9.0/moment.min"],"moment-timezone":["moment-timezone/0.5.11/moment-timezone-with-data-2010-2020.min"]},config:{text:{useXhr:function(t,e,a,i){return!0}},moment:{noGlobal:!0}}},function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.3",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(t,e){return e||""}function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function each(t,e){var a;if(t)for(a=0;a<t.length&&(!t[a]||!e(t[a],a,t));a+=1);}function eachReverse(t,e){var a;if(t)for(a=t.length-1;-1<a&&(!t[a]||!e(t[a],a,t));a-=1);}function hasProp(t,e){return hasOwn.call(t,e)}function getOwn(t,e){return hasProp(t,e)&&t[e]}function eachProp(t,e){var a;for(a in t)if(hasProp(t,a)&&e(t[a],a))break}function mixin(a,t,i,n){return t&&eachProp(t,function(t,e){!i&&hasProp(a,e)||(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?a[e]=t:(a[e]||(a[e]={}),mixin(a[e],t,i,n)))}),a}function bind(t,e){return function(){return e.apply(t,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(t){throw t}function getGlobal(t){if(!t)return t;var e=global;return each(t.split("."),function(t){e=e[t]}),e}function makeError(t,e,a,i){var n=new Error(e+"\nhttp://requirejs.org/docs/errors.html#"+t);return n.requireType=t,n.requireModules=i,a&&(n.originalError=a),n}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(t,e,a,i){var n,r,o=defContextName;return isArray(t)||"string"==typeof t||(r=t,isArray(e)?(t=e,e=a,a=i):t=[]),r&&r.context&&(o=r.context),(n=getOwn(contexts,o))||(n=contexts[o]=req.s.newContext(o)),r&&n.configure(r),n.require(t,e,a)},req.config=function(t){return req(t)},req.nextTick=void 0!==setTimeout?function(t){setTimeout(t,4)}:function(t){t()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(t,e,a){var i=t.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=t.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(e,a,i){var t,n=e&&e.config||{};if(isBrowser)return(t=req.createNode(n,a,i)).setAttribute("data-requirecontext",e.contextName),t.setAttribute("data-requiremodule",a),!t.attachEvent||t.attachEvent.toString&&t.attachEvent.toString().indexOf("[native code")<0||isOpera?(t.addEventListener("load",e.onScriptLoad,!1),t.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,t.attachEvent("onreadystatechange",e.onScriptLoad)),t.src=i,n.onNodeCreated&&n.onNodeCreated(t,n,a,i),currentlyAddingScript=t,baseElement?head.insertBefore(t,baseElement):head.appendChild(t),currentlyAddingScript=null,t;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),e.completeLoad(a)}catch(t){e.onError(makeError("importscripts","importScripts failed for "+a+" at "+i,t,[a]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(t){if(head||(head=t.parentNode),dataMain=t.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(t,a,e){var i,n;"string"!=typeof t&&(e=a,a=t,t=null),isArray(a)||(e=a,a=null),!a&&isFunction(e)&&(a=[],e.length&&(e.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(t,e){a.push(e)}),a=(1===e.length?["require"]:["require","exports","module"]).concat(a))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript())&&(t||(t=i.getAttribute("data-requiremodule")),n=contexts[i.getAttribute("data-requirecontext")]),n?(n.defQueue.push([t,a,e]),n.defQueueMap[t]=!0):globalDefQueue.push([t,a,e])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(d){var a,t,p,l,c,f={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},h={},u={},i={},_=[],g={},n={},m={},w=1,v=1;function y(t,e,a){var i,n,r,o,s,d,l,c,h,u,p=e&&e.split("/"),_=f.map,g=_&&_["*"];if(t&&(d=(t=t.split("/")).length-1,f.nodeIdCompat&&jsSuffixRegExp.test(t[d])&&(t[d]=t[d].replace(jsSuffixRegExp,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),function(t){var e,a;for(e=0;e<t.length;e++)if("."===(a=t[e]))t.splice(e,1),e-=1;else if(".."===a){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;0<e&&(t.splice(e-1,2),e-=2)}}(t),t=t.join("/")),a&&_&&(p||g)){t:for(r=(n=t.split("/")).length;0<r;r-=1){if(s=n.slice(0,r).join("/"),p)for(o=p.length;0<o;o-=1)if((i=getOwn(_,p.slice(0,o).join("/")))&&(i=getOwn(i,s))){l=i,c=r;break t}!h&&g&&getOwn(g,s)&&(h=getOwn(g,s),u=r)}!l&&h&&(l=h,c=u),l&&(n.splice(0,c,l),t=n.join("/"))}return getOwn(f.pkgs,t)||t}function b(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===p.contextName)return t.parentNode.removeChild(t),!0})}function C(t){var e=getOwn(f.paths,t);if(e&&isArray(e)&&1<e.length)return e.shift(),p.require.undef(t),p.makeRequire(null,{skipMap:!0})([t]),!0}function x(t){var e,a=t?t.indexOf("!"):-1;return-1<a&&(e=t.substring(0,a),t=t.substring(a+1,t.length)),[e,t]}function k(t,e,a,i){var n,r,o,s,d=null,l=e?e.name:null,c=t,h=!0,u="";return t||(h=!1,t="_@r"+(w+=1)),d=(s=x(t))[0],t=s[1],d&&(d=y(d,l,i),r=getOwn(g,d)),t&&(d?u=a?t:r&&r.normalize?r.normalize(t,function(t){return y(t,l,i)}):-1===t.indexOf("!")?y(t,l,i):t:(d=(s=x(u=y(t,l,i)))[0],u=s[1],a=!0,n=p.nameToUrl(u))),{prefix:d,name:u,parentMap:e,unnormalized:!!(o=!d||r||a?"":"_unnormalized"+(v+=1)),url:n,originalName:c,isDefine:h,id:(d?d+"!"+u:u)+o}}function L(t){var e=t.id,a=getOwn(h,e);return a||(a=h[e]=new p.Module(t)),a}function S(t,e,a){var i=t.id,n=getOwn(h,i);!hasProp(g,i)||n&&!n.defineEmitComplete?(n=L(t)).error&&"error"===e?a(n.error):n.on(e,a):"defined"===e&&a(g[i])}function E(a,t){var e=a.requireModules,i=!1;t?t(a):(each(e,function(t){var e=getOwn(h,t);e&&(e.error=a,e.events.error&&(i=!0,e.emit("error",a)))}),i||req.onError(a))}function M(){globalDefQueue.length&&(each(globalDefQueue,function(t){var e=t[0];"string"==typeof e&&(p.defQueueMap[e]=!0),_.push(t)}),globalDefQueue=[])}function T(t){delete h[t],delete u[t]}function O(){var t,i,e=1e3*f.waitSeconds,n=e&&p.startTime+e<(new Date).getTime(),r=[],o=[],s=!1,d=!0;if(!a){if(a=!0,eachProp(u,function(t){var e=t.map,a=e.id;if(t.enabled&&(e.isDefine||o.push(t),!t.error))if(!t.inited&&n)C(a)?s=i=!0:(r.push(a),b(a));else if(!t.inited&&t.fetched&&e.isDefine&&(s=!0,!e.prefix))return d=!1}),n&&r.length)return(t=makeError("timeout","Load timeout for modules: "+r,null,r)).contextName=p.contextName,E(t);d&&each(o,function(t){!function n(r,o,s){var t=r.map.id;r.error?r.emit("error",r.error):(o[t]=!0,each(r.depMaps,function(t,e){var a=t.id,i=getOwn(h,a);!i||r.depMatched[e]||s[a]||(getOwn(o,a)?(r.defineDep(e,g[a]),r.check()):n(i,o,s))}),s[t]=!0)}(t,{},{})}),n&&!i||!s||!isBrowser&&!isWebWorker||c||(c=setTimeout(function(){c=0,O()},50)),a=!1}}function o(t){hasProp(g,t[0])||L(k(t[0],null,!0)).init(t[1],t[2])}function r(t,e,a,i){t.detachEvent&&!isOpera?i&&t.detachEvent(i,e):t.removeEventListener(a,e,!1)}function s(t){var e=t.currentTarget||t.srcElement;return r(e,p.onScriptLoad,"load","onreadystatechange"),r(e,p.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function A(){var t;for(M();_.length;){if(null===(t=_.shift())[0])return E(makeError("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));o(t)}p.defQueueMap={}}return l={require:function(t){return t.require?t.require:t.require=p.makeRequire(t.map)},exports:function(t){if(t.usingExports=!0,t.map.isDefine)return t.exports?g[t.map.id]=t.exports:t.exports=g[t.map.id]={}},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){return getOwn(f.config,t.map.id)||{}},exports:t.exports||(t.exports={})}}},(t=function(t){this.events=getOwn(i,t.id)||{},this.map=t,this.shim=getOwn(f.shim,t.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(t,e,a,i){i=i||{},this.inited||(this.factory=e,a?this.on("error",a):this.events.error&&(a=bind(this,function(t){this.emit("error",t)})),this.depMaps=t&&t.slice(0),this.errback=a,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(t,e){this.depMatched[t]||(this.depMatched[t]=!0,this.depCount-=1,this.depExports[t]=e)},fetch:function(){if(!this.fetched){this.fetched=!0,p.startTime=(new Date).getTime();var t=this.map;if(!this.shim)return t.prefix?this.callPlugin():this.load();p.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return t.prefix?this.callPlugin():this.load()}))}},load:function(){var t=this.map.url;n[t]||(n[t]=!0,p.load(this.map.id,t))},check:function(){if(this.enabled&&!this.enabling){var e,t,a=this.map.id,i=this.depExports,n=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(r)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{n=p.execCb(a,r,i,n)}catch(t){e=t}else n=p.execCb(a,r,i,n);if(this.map.isDefine&&void 0===n&&((t=this.module)?n=t.exports:this.usingExports&&(n=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",E(this.error=e)}else n=r;if(this.exports=n,this.map.isDefine&&!this.ignore&&(g[a]=n,req.onResourceLoad)){var o=[];each(this.depMaps,function(t){o.push(t.normalizedMap||t)}),req.onResourceLoad(p,this.map,o)}T(a),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(p.defQueueMap,a)||this.fetch()}},callPlugin:function(){var d=this.map,l=d.id,t=k(d.prefix);this.depMaps.push(t),S(t,"defined",bind(this,function(t){var r,e,a,i=getOwn(m,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,s=p.makeRequire(d.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(t.normalize&&(n=t.normalize(n,function(t){return y(t,o,!0)})||""),S(e=k(d.prefix+"!"+n,this.map.parentMap,!0),"defined",bind(this,function(t){this.map.normalizedMap=e,this.init([],function(){return t},null,{enabled:!0,ignore:!0})})),void((a=getOwn(h,e.id))&&(this.depMaps.push(e),this.events.error&&a.on("error",bind(this,function(t){this.emit("error",t)})),a.enable()))):i?(this.map.url=p.nameToUrl(i),void this.load()):((r=bind(this,function(t){this.init([],function(){return t},null,{enabled:!0})})).error=bind(this,function(t){this.inited=!0,(this.error=t).requireModules=[l],eachProp(h,function(t){0===t.map.id.indexOf(l+"_unnormalized")&&T(t.map.id)}),E(t)}),r.fromText=bind(this,function(t,e){var a=d.name,i=k(a),n=useInteractive;e&&(t=e),n&&(useInteractive=!1),L(i),hasProp(f.config,l)&&(f.config[a]=f.config[l]);try{req.exec(t)}catch(t){return E(makeError("fromtexteval","fromText eval for "+l+" failed: "+t,t,[l]))}n&&(useInteractive=!0),this.depMaps.push(i),p.completeLoad(a),s([a],r)}),void t.load(d.name,s,r,f))})),p.enable(t,this),this.pluginMaps[t.id]=t},enable:function(){(u[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(t,e){var a,i,n;if("string"==typeof t){if(t=k(t,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[e]=t,n=getOwn(l,t.id))return void(this.depExports[e]=n(this));this.depCount+=1,S(t,"defined",bind(this,function(t){this.undefed||(this.defineDep(e,t),this.check())})),this.errback?S(t,"error",bind(this,this.errback)):this.events.error&&S(t,"error",bind(this,function(t){this.emit("error",t)}))}a=t.id,i=h[a],hasProp(l,a)||!i||i.enabled||p.enable(t,this)})),eachProp(this.pluginMaps,bind(this,function(t){var e=getOwn(h,t.id);e&&!e.enabled&&p.enable(t,this)})),this.enabling=!1,this.check()},on:function(t,e){var a=this.events[t];a||(a=this.events[t]=[]),a.push(e)},emit:function(t,e){each(this.events[t],function(t){t(e)}),"error"===t&&delete this.events[t]}},(p={config:f,contextName:d,registry:h,defined:g,urlFetched:n,defQueue:_,defQueueMap:{},Module:t,makeModuleMap:k,nextTick:req.nextTick,onError:E,configure:function(t){if(t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/"),"string"==typeof t.urlArgs){var a=t.urlArgs;t.urlArgs=function(t,e){return(-1===e.indexOf("?")?"?":"&")+a}}var i=f.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(t,function(t,e){n[e]?(f[e]||(f[e]={}),mixin(f[e],t,!0,!0)):f[e]=t}),t.bundles&&eachProp(t.bundles,function(t,e){each(t,function(t){t!==e&&(m[t]=e)})}),t.shim&&(eachProp(t.shim,function(t,e){isArray(t)&&(t={deps:t}),!t.exports&&!t.init||t.exportsFn||(t.exportsFn=p.makeShimExports(t)),i[e]=t}),f.shim=i),t.packages&&each(t.packages,function(t){var e;e=(t="string"==typeof t?{name:t}:t).name,t.location&&(f.paths[e]=t.location),f.pkgs[e]=t.name+"/"+(t.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(h,function(t,e){t.inited||t.map.unnormalized||(t.map=k(e,null,!0))}),(t.deps||t.callback)&&p.require(t.deps||[],t.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(r,o){function s(t,e,a){var i,n;return o.enableBuildCallback&&e&&isFunction(e)&&(e.__requireJsBuild=!0),"string"==typeof t?isFunction(e)?E(makeError("requireargs","Invalid require call"),a):r&&hasProp(l,t)?l[t](h[r.id]):req.get?req.get(p,t,r,s):(i=k(t,r,!1,!0).id,hasProp(g,i)?g[i]:E(makeError("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+d+(r?"":". Use require([])")))):(A(),p.nextTick(function(){A(),(n=L(k(null,r))).skipMap=o.skipMap,n.init(t,e,a,{enabled:!0}),O()}),s)}return o=o||{},mixin(s,{isBrowser:isBrowser,toUrl:function(t){var e,a=t.lastIndexOf("."),i=t.split("/")[0];return-1!==a&&(!("."===i||".."===i)||1<a)&&(e=t.substring(a,t.length),t=t.substring(0,a)),p.nameToUrl(y(t,r&&r.id,!0),e,!0)},defined:function(t){return hasProp(g,k(t,r,!1,!0).id)},specified:function(t){return t=k(t,r,!1,!0).id,hasProp(g,t)||hasProp(h,t)}}),r||(s.undef=function(a){M();var t=k(a,r,!0),e=getOwn(h,a);e.undefed=!0,b(a),delete g[a],delete n[t.url],delete i[a],eachReverse(_,function(t,e){t[0]===a&&_.splice(e,1)}),delete p.defQueueMap[a],e&&(e.events.defined&&(i[a]=e.events),T(a))}),s},enable:function(t){getOwn(h,t.id)&&L(t).enable()},completeLoad:function(t){var e,a,i,n=getOwn(f.shim,t)||{},r=n.exports;for(M();_.length;){if(null===(a=_.shift())[0]){if(a[0]=t,e)break;e=!0}else a[0]===t&&(e=!0);o(a)}if(p.defQueueMap={},i=getOwn(h,t),!e&&!hasProp(g,t)&&i&&!i.inited){if(!(!f.enforceDefine||r&&getGlobal(r)))return C(t)?void 0:E(makeError("nodefine","No define call for "+t,null,[t]));o([t,n.deps||[],n.exportsFn])}O()},nameToUrl:function(t,e,a){var i,n,r,o,s,d,l=getOwn(f.pkgs,t);if(l&&(t=l),d=getOwn(m,t))return p.nameToUrl(d,e,a);if(req.jsExtRegExp.test(t))o=t+(e||"");else{for(i=f.paths,r=(n=t.split("/")).length;0<r;r-=1)if(s=getOwn(i,n.slice(0,r).join("/"))){isArray(s)&&(s=s[0]),n.splice(0,r,s);break}o=n.join("/"),o=("/"===(o+=e||(/^data\:|^blob\:|\?/.test(o)||a?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":f.baseUrl)+o}return f.urlArgs&&!/^blob\:/.test(o)?o+f.urlArgs(t,o):o},load:function(t,e){req.load(p,t,e)},execCb:function(t,e,a,i){return e.apply(i,a)},onScriptLoad:function(t){if("load"===t.type||readyRegExp.test((t.currentTarget||t.srcElement).readyState)){interactiveScript=null;var e=s(t);p.completeLoad(e.id)}},onScriptError:function(t){var a=s(t);if(!C(a.id)){var i=[];return eachProp(h,function(t,e){0!==e.indexOf("_@r")&&each(t.depMaps,function(t){if(t.id===a.id)return i.push(e),!0})}),E(makeError("scripterror",'Script error for "'+a.id+(i.length?'", needed by: '+i.join(", "):'"'),t,[a.id]))}}}).require=p.makeRequire(),p}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(t){if("interactive"===t.readyState)return interactiveScript=t}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),thn.require=require,thn.define=define}(window.thn),thn.define("text",["module"],function(t){"use strict";var l,n,o,s,d,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,h=c&&location.protocol&&location.protocol.replace(/\:/,""),u=c&&location.hostname,p=c&&(location.port||void 0),_={},g=t.config&&t.config()||{};function f(t,e){return void 0===t||""===t?e:t}return l={version:"2.0.15",strip:function(t){if(t){var e=(t=t.replace(a,"")).match(r);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var t,e,a;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;e<3;e+=1){a=i[e];try{t=new ActiveXObject(a)}catch(t){}if(t){i=[a];break}}return t},parseName:function(t){var e,a,i,n=!1,r=t.lastIndexOf("."),o=0===t.indexOf("./")||0===t.indexOf("../");return-1!==r&&(!o||1<r)?(e=t.substring(0,r),a=t.substring(r+1)):e=t,-1!==(r=(i=a||e).indexOf("!"))&&(n="strip"===i.substring(r+1),i=i.substring(0,r),a?a=i:e=i),{moduleName:e,ext:a,strip:n}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,e,a,i){var n,r,o,s=l.xdRegExp.exec(t);return!s||(n=s[2],o=(r=(r=s[3]).split(":"))[1],r=r[0],(!n||n===e)&&(!r||r.toLowerCase()===a.toLowerCase())&&(!o&&!r||function(t,e,a,i){if(e===i)return!0;if(t===a){if("http"===t)return f(e,"80")===f(i,"80");if("https"===t)return f(e,"443")===f(i,"443")}return!1}(n,o,e,i)))},finishLoad:function(t,e,a,i){a=e?l.strip(a):a,g.isBuild&&(_[t]=a),i(a)},load:function(e,t,a,i){if(i&&i.isBuild&&!i.inlineText)a();else{g.isBuild=i&&i.isBuild;var n=l.parseName(e),r=n.moduleName+(n.ext?"."+n.ext:""),o=t.toUrl(r),s=g.useXhr||l.useXhr;0!==o.indexOf("empty:")?!c||s(o,h,u,p)?l.get(o,function(t){l.finishLoad(e,n.strip,t,a)},function(t){a.error&&a.error(t)}):t([r],function(t){l.finishLoad(n.moduleName+"."+n.ext,n.strip,t,a)}):a()}},write:function(t,e,a,i){if(_.hasOwnProperty(e)){var n=l.jsEscape(_[e]);a.asModule(t+"!"+e,"define(function () { return '"+n+"';});\n")}},writeFile:function(a,t,e,i,n){var r=l.parseName(t),o=r.ext?"."+r.ext:"",s=r.moduleName+o,d=e.toUrl(r.moduleName+o)+".js";l.load(s,e,function(t){var e=function(t){return i(d,t)};e.asModule=function(t,e){return i.asModule(t,d,e)},l.write(a,s,e,n)},n)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),l.get=function(t,e,a){try{var i=n.readFileSync(t,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),e(i)}catch(t){a&&a(t)}}):"xhr"===g.env||!g.env&&l.createXhr()?l.get=function(i,n,r,t){var e,o=l.createXhr();if(o.open("GET",i,!0),t)for(e in t)t.hasOwnProperty(e)&&o.setRequestHeader(e.toLowerCase(),t[e]);g.onXhr&&g.onXhr(o,i),o.onreadystatechange=function(t){var e,a;4===o.readyState&&(399<(e=o.status||0)&&e<600?((a=new Error(i+" HTTP status: "+e)).xhr=o,r&&r(a)):n(o.responseText),g.onXhrComplete&&g.onXhrComplete(o,i))},o.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?l.get=function(t,e){var a,i,n=new java.io.File(t),r=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),s="";try{for(a=new java.lang.StringBuffer,(i=o.readLine())&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&a.append(i);null!==(i=o.readLine());)a.append(r),a.append(i);s=String(a.toString())}finally{o.close()}e(s)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,s=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),d="@mozilla.org/windows-registry-key;1"in o,l.get=function(t,e){var a,i,n,r={};d&&(t=t.replace(/\//g,"\\")),n=new FileUtils.File(t);try{(a=o["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream)).init(n,1,0,!1),(i=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream)).init(a,"utf-8",a.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(a.available(),r),i.close(),a.close(),e(r.value)}catch(t){throw new Error((n&&n.path||"")+": "+t)}}),l}),thn.define("json",["text"],function(text){var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};function cacheBust(t){return t=t.replace(CACHE_BUST_FLAG,""),(t+=t.indexOf("?")<0?"?":"&")+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}return{load:function(a,t,i,n){n.isBuild&&(!1===n.inlineJSON||-1!==a.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===t.toUrl(a).indexOf("empty:")?i(null):text.get(t.toUrl(a),function(t){var e;if(n.isBuild)buildMap[a]=t,i(t);else{try{e=jsonParse(t)}catch(t){i.error(t)}i(e)}},i.error,{accept:"application/json"})},normalize:function(t,e){return-1!==t.indexOf(CACHE_BUST_FLAG)&&(t=cacheBust(t)),e(t)},write:function(t,e,a){e in buildMap&&a('define("'+t+"!"+e+'", function(){ return '+buildMap[e]+";});\n")}}}),function(t,e){thn.define("Mustache",[],e({}))}(0,function(b){var e=Object.prototype.toString,C=Array.isArray||function(t){return"[object Array]"===e.call(t)};function l(t){return"function"==typeof t}function x(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(t,e){return null!=t&&"object"==typeof t&&e in t}var i=RegExp.prototype.test;var n=/\S/;function k(t){return e=n,a=t,!i.call(e,a);var e,a}var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var L=/\s*/,S=/\s+/,E=/\s*=/,M=/\s*\}/,T=/#|\^|\/|>|\{|&|=|!/;function O(t){this.string=t,this.tail=t,this.pos=0}function r(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function t(){this.cache={}}O.prototype.eos=function(){return""===this.tail},O.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var a=e[0];return this.tail=this.tail.substring(a.length),this.pos+=a.length,a},O.prototype.scanUntil=function(t){var e,a=this.tail.search(t);switch(a){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,a),this.tail=this.tail.substring(a)}return this.pos+=e.length,e},r.prototype.push=function(t){return new r(t,this)},r.prototype.lookup=function(t){var e,a=this.cache;if(a.hasOwnProperty(t))e=a[t];else{for(var i,n,r=this,o=!1;r;){if(0<t.indexOf("."))for(e=r.view,i=t.split("."),n=0;null!=e&&n<i.length;)n===i.length-1&&(o=s(e,i[n])),e=e[i[n++]];else e=r.view[t],o=s(r.view,t);if(o)break;r=r.parent}a[t]=e}return l(e)&&(e=e.call(this.view)),e},t.prototype.clearCache=function(){this.cache={}},t.prototype.parse=function(t,e){var a=this.cache,i=a[t];return null==i&&(i=a[t]=function(t,e){if(!t)return[];var a,i,n,r=[],o=[],s=[],d=!1,l=!1;function c(){if(d&&!l)for(;s.length;)delete o[s.pop()];else s=[];l=d=!1}function h(t){if("string"==typeof t&&(t=t.split(S,2)),!C(t)||2!==t.length)throw new Error("Invalid tags: "+t);a=new RegExp(x(t[0])+"\\s*"),i=new RegExp("\\s*"+x(t[1])),n=new RegExp("\\s*"+x("}"+t[1]))}h(e||b.tags);for(var u,p,_,g,f,m,w=new O(t);!w.eos();){if(u=w.pos,_=w.scanUntil(a))for(var v=0,y=_.length;v<y;++v)k(g=_.charAt(v))?s.push(o.length):l=!0,o.push(["text",g,u,u+1]),u+=1,"\n"===g&&c();if(!w.scan(a))break;if(d=!0,p=w.scan(T)||"name",w.scan(L),"="===p?(_=w.scanUntil(E),w.scan(E),w.scanUntil(i)):"{"===p?(_=w.scanUntil(n),w.scan(M),w.scanUntil(i),p="&"):_=w.scanUntil(i),!w.scan(i))throw new Error("Unclosed tag at "+w.pos);if(f=[p,_,u,w.pos],o.push(f),"#"===p||"^"===p)r.push(f);else if("/"===p){if(!(m=r.pop()))throw new Error('Unopened section "'+_+'" at '+u);if(m[1]!==_)throw new Error('Unclosed section "'+m[1]+'" at '+u)}else"name"===p||"{"===p||"&"===p?l=!0:"="===p&&h(_)}if(m=r.pop())throw new Error('Unclosed section "'+m[1]+'" at '+w.pos);return function(t){for(var e,a=[],i=a,n=[],r=0,o=t.length;r<o;++r)switch((e=t[r])[0]){case"#":case"^":i.push(e),n.push(e),i=e[4]=[];break;case"/":n.pop()[5]=e[2],i=0<n.length?n[n.length-1][4]:a;break;default:i.push(e)}return a}(function(t){for(var e,a,i=[],n=0,r=t.length;n<r;++n)(e=t[n])&&("text"===e[0]&&a&&"text"===a[0]?(a[1]+=e[1],a[3]=e[3]):(i.push(e),a=e));return i}(o))}(t,e)),i},t.prototype.render=function(t,e,a){var i=this.parse(t),n=e instanceof r?e:new r(e);return this.renderTokens(i,n,a,t)},t.prototype.renderTokens=function(t,e,a,i){for(var n,r,o,s="",d=0,l=t.length;d<l;++d)o=void 0,"#"===(r=(n=t[d])[0])?o=this.renderSection(n,e,a,i):"^"===r?o=this.renderInverted(n,e,a,i):">"===r?o=this.renderPartial(n,e,a,i):"&"===r?o=this.unescapedValue(n,e):"name"===r?o=this.escapedValue(n,e):"text"===r&&(o=this.rawValue(n)),void 0!==o&&(s+=o);return s},t.prototype.renderSection=function(t,e,a,i){var n=this,r="",o=e.lookup(t[1]);if(o){if(C(o))for(var s=0,d=o.length;s<d;++s)r+=this.renderTokens(t[4],e.push(o[s]),a,i);else if("object"==typeof o||"string"==typeof o||"number"==typeof o)r+=this.renderTokens(t[4],e.push(o),a,i);else if(l(o)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(o=o.call(e.view,i.slice(t[3],t[5]),function(t){return n.render(t,e,a)}))&&(r+=o)}else r+=this.renderTokens(t[4],e,a,i);return r}},t.prototype.renderInverted=function(t,e,a,i){var n=e.lookup(t[1]);if(!n||C(n)&&0===n.length)return this.renderTokens(t[4],e,a,i)},t.prototype.renderPartial=function(t,e,a){if(a){var i=l(a)?a(t[1]):a[t[1]];return null!=i?this.renderTokens(this.parse(i),e,a,i):void 0}},t.prototype.unescapedValue=function(t,e){var a=e.lookup(t[1]);if(null!=a)return a},t.prototype.escapedValue=function(t,e){var a=e.lookup(t[1]);if(null!=a)return b.escape(a)},t.prototype.rawValue=function(t){return t[1]},b.name="mustache.js",b.version="2.3.0",b.tags=["{{","}}"];var o=new t;return b.clearCache=function(){return o.clearCache()},b.parse=function(t,e){return o.parse(t,e)},b.render=function(t,e,a){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(C(i=t)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return o.render(t,e,a)},b.to_html=function(t,e,a,i){var n=b.render(t,e,a);if(!l(i))return n;i(n)},b.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return a[t]})},b.Scanner=O,b.Context=r,b.Writer=t,b}),thn.define("underi18n",[],{MessageFactory:function(t){return new function(n){var d=this;this.translate=function(t,e){var a=n[t]?n[t]:t;if(e)for(var i in e)a=a.replace("${"+i+"}",e[i]);return a},this.ntranslate=function(t,e,a,i){var n=1===a?0:1,r=t+String.fromCharCode(0)+e,o=d.translate(r,i),s=o.split(String.fromCharCode(0));return s[n]},this.wrapper=function(){var t="translate";return 2<arguments.length&&(t="ntranslate"),d[t].apply(this,arguments)}}(t).wrapper},template:function(t,a){var i=this.templateSettings;return t.replace(i.translate,function(t,e){return a(e.replace(/^\s+|\s+$/g,""))}).replace(/\$\{(.*?)\}/g,function(t,e){return i.i18nVarLeftDel+e+i.i18nVarRightDel})},templateSettings:{translate:/{{_([\s\S]+?)}}/g,i18nVarLeftDel:"{{",i18nVarRightDel:"}}"}}),thn.is_visible||(thn.is_visible=function t(e){var a=window.getComputedStyle&&window.getComputedStyle(e);return"hidden"!==a.visibility&&"none"!==a.display&&(!e.parentNode||e.parentNode===document||t(e.parentNode))}),thn.nearest||(thn.nearest=function(a,t){if(!a.querySelector)return null;for(var e=a.querySelectorAll(t);!e.length&&a.parentNode;)e=(a=a.parentNode).querySelectorAll(t);if(e&&0!==e.length){if(e&&1===e.length)return e[0];var i=(e=Array.from(e)).map(function(t){var e=0;for(t=t.parentNode;t!==a&&t.parentNode;)e+=1,t=t.parentNode;return e});return e[i.indexOf(Math.min.apply(Math,i))]}return null}),thn.create_element||function(){var n={iframe:{scrolling:"no",frameborder:0,allowTransparency:!0,seamless:"seamless",style:{width:"100%",height:"100%",background:"transparent"}},style:{type:"text/css"}};thn.create_element=function(t,e){e=Object.assign({},e||{});var a=n[t]||{};e.style&&"object"==typeof e.style&&(a.style&&"object"==typeof a.style&&(e.style=Object.assign({},a.style||{},e.style||{})),e.style=Object.keys(e.style).map(function(t){return t+":"+e.style[t]}).join(";")),(e=Object.assign({},a,e)).style&&"object"==typeof e.style&&(e.style=Object.keys(e.style).map(function(t){return t+":"+e.style[t]}).join(";"));var i=document.createElement(t);return Object.keys(e).forEach(function(t){i.setAttribute(t,e[t])}),i}}(),thn.attach_styles||(thn.attach_styles=function(t,e,a){if(!(e=e||{}).id||!document.getElementById(e.id)){a=a||document.head||document.getElementsByTagName("head")[0];var i=thn.create_element("style",e);a.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}),thn.decode_html||(thn.decode_html=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}),thn.strip_tags||(thn.strip_tags=function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""}),thn.delegate||(thn.delegate=function(){var e,a,t,i,n,r;if(arguments.length<3||4<arguments.length)console.log("[error] thn.delegate expects 3 or 4 params");else{if("function"==typeof arguments[3]?(e=arguments[0],t=arguments[1],a=arguments[2],i=arguments[3],r=4<arguments.length&&arguments[4]):(e=document,t=arguments[0],a=arguments[1],i=arguments[2],r=3<arguments.length&&arguments[3]),"string"==typeof e&&(e=document.querySelector(e)),e)return n=function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if(e.matches(a)){i.call(e,t);break}},(t=t.split(/\s*,\s*/)).forEach(function(t){e.addEventListener(t,n,r)}),function(){t.forEach(function(t){e.removeEventListener(t,n,r)})};console.log("[error] thn.delegate called on unexistent node")}}),thn.standarize_event||(thn.standarize_event=function(t){return{event:t=t||window.event,target:t.target?t.target:t.srcElement,which:t.which?t.which:1===t.button?1:2===t.button?3:4===t.button?2:1,x:t.x?t.x:t.clientX,y:t.y?t.y:t.clientY}}),thn.event_is_handled_or_auxclick||(thn.event_is_handled_or_auxclick=function(t){return t.defaultPrevented||1!==thn.standarize_event(t).which}),thn.supports||(thn.supports=function(t){switch(t){case"Shadow DOM":return!(!document.head.createShadowRoot&&!document.head.attachShadow);default:return!1}}),thn.debounce||(thn.debounce=function(i,n,r){var o;return function(){var t=this,e=arguments,a=r&&!o;clearTimeout(o),o=setTimeout(function(){o=null,r||i.apply(t,e)},n),a&&i.apply(t,e)}}),thn.throttle||(thn.throttle=function(a,i,n){var r,o,s,d=null,l=0;n||(n={});var c=function(){l=!1===n.leading?0:_.now(),d=null,s=a.apply(r,o),d||(r=o=null)};return function(){var t=_.now();l||!1!==n.leading||(l=t);var e=i-(t-l);return r=this,o=arguments,e<=0||i<e?(d&&(clearTimeout(d),d=null),l=t,s=a.apply(r,o),d||(r=o=null)):d||!1===n.trailing||(d=setTimeout(c,e)),s}}),thn.array_get||(thn.array_get=function(t,e){var a=t&&t.length&&t.filter&&t.filter(function(t){return e in t});if(a&&a.length)return(a=a.pop())[e]}),thn.object_get||(thn.object_get=function(t,e,a){void 0===(a=a||{}).first&&(a.first=!0),Array.isArray(e)||(e=[e]);for(var i,n,r,o,s=Object.getOwnPropertyNames(t),d=0;d<s.length;d+=1)if(i=t[n=s[d]],-1<e.indexOf(n)&&(!a.is_valid||a.is_valid(i))){if(o=i,a.first)return o}else if(i&&"object"==typeof i&&(r=thn.object_get(i,e,a))&&(o=r,a.first))return o;return o}),thn.shuffle_array||(thn.shuffle_array=function(t){for(var e,a,i=t.length;0!==i;)a=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[a],t[a]=e;return t}),thn.rotate_array||(thn.rotate_array=function(t,e){if(0<e)for(;e--;){var a=t.shift();t.push(a)}return t}),thn.in_array||(thn.in_array=function(t,e){return null!==t&&"object"==typeof t?Array.isArray(e)&&0<t.filter(function(t){return thn.in_array(t,e)}).length:Array.isArray(e)&&-1<e.indexOf(t)}),thn.empty||(thn.empty=function(t){var e,a,i,n=[void 0,null,!1,0,"","0"];for(a=0,i=n.length;a<i;a++)if(t===n[a])return!0;if("object"==typeof t){for(e in t)if(t.hasOwnProperty(e))return!1;return!0}return!1}),thn.in_array_dateranges||(thn.in_array_dateranges=function(e,t){var a=!1;return t.forEach(function(t){new Date(t.date_begin)<=e&&new Date(t.date_end)>=e&&(a=!0)}),a}),thn.in_array_parameters||(thn.in_array_parameters=function(a,t){var e=t.filter(function(t){return 1==t.appear}),i=t.filter(function(t){return 0==t.appear}),n=e.filter(function(t){var e=a[t.variable];if(void 0!==e&&(!t.value||e==t.value))return!0}),r=i.filter(function(t){var e=a[t.variable];if(void 0!==e&&(!t.value||e==t.value))return!0}),o=e.length===n.length,s=0===r.length;return o&&s}),thn.build_query||(thn.build_query=function(a,i){return Object.keys(a).map(function(t){var e=a[t];return"object"==typeof e&&null!=e?thn.build_query(e,t):null!=e?void 0!==i?i+"["+encodeURIComponent(t)+"]="+encodeURIComponent(e):encodeURIComponent(t)+"="+encodeURIComponent(e):void 0}).filter(function(t){return null!=t}).join("&")}),thn.is_numeric||(thn.is_numeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}),thn.is_iframed||(thn.is_iframed=function(){return window.self instanceof window.Window&&window.self!==window.top}),thn.assign_not_empty||(thn.assign_not_empty=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a,i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)a=r[o],Object.prototype.hasOwnProperty.call(r,o)&&(a&&"0"!==a||!1===a)&&(i[o]=a)}return i}),thn.hex_to_rgb||(thn.hex_to_rgb=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,a,i){return e+e+a+a+i+i});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}),thn.rgb_to_hex||(thn.rgb_to_hex=function(t,e,a){return"#"+((1<<24)+(t<<16)+(e<<8)+a).toString(16).slice(1)}),thn.trim||(thn.trim=function(t,e){return e=e||"\\s\\uFEFF\\xA0",t.replace(new RegExp("^["+e+"]+|["+e+"]+$","g"),"")}),thn.regexp_escape||(thn.regexp_escape=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}),thn.is_url||function(){var e=new RegExp("^(https?://)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");thn.is_url=function(t){return e.test(t)}}(),thn.is_json||(thn.is_json=function(t){return""!=t&&!!/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}),thn.observe_dom||(thn.observe_dom=function(){var r=window.MutationObserver||window.WebKitMutationObserver,o=window.addEventListener,s={childList:!0,subtree:!0,characterData:!0},d="thn_mutation_observer";return function(e,a,t){if(e&&a){e.hasOwnProperty(d)&&thn.stop_observe_dom(e,a),t=t||{};var i=Object.assign({},s,t);if(r)e[d]=new r(a),e[d].observe(e,i);else if(o){var n=[];i.subtree&&n.push("DOMSubtreeModified"),i.attributes&&n.push("DOMAttrModified"),i.childList&&(n.push("DOMNodeInserted"),n.push("DOMNodeRemoved")),i.characterData&&n.push("DOMCharacterDataModified"),n.forEach(function(t){e.addEventListener(t,a,!1)}),e[d]=n}}}}()),thn.stop_observe_dom||(thn.stop_observe_dom=function(){var t=window.MutationObserver||window.WebKitMutationObserver,i=window.addEventListener,n="thn_mutation_observer";return function(e,a){e&&a&&e.hasOwnProperty(n)&&(t?(e[n].disconnect(),delete e[n]):i&&e[n].forEach(function(t){e.removeEventListener(t,a,!1)}))}}()),thn.get_domain||(thn.get_domain=function(t){var e,a="";if(void 0!==t&&""!=t){var i=t.split("/");1<i.length&&(i=i.slice(2,3)[0]),a=4<=(i=i.split(".")).length?i.slice(-3).slice(0,1)[0]:i.slice(-2).slice(0,1)[0]}return""==a&&(e=thn.parse_url_parameter("utm_source").toLowerCase(),-1!=["tripadvisor"].indexOf(e)&&(a=e)),a}),thn.get_window_width||(thn.get_window_width=function(){var t=0;return"number"==typeof window.innerWidth?t=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?t=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(t=document.body.clientWidth),t}),thn.get_script||(thn.get_script=function(t,e){var a=document.createElement("script");a.type="text/javascript",a.src=t,a.onload=e,a.onreadystatechange=function(){"complete"===this.readyState&&e()},document.getElementsByTagName("head")[0].appendChild(a)}),thn.parse_url_parameters||(thn.parse_url_parameters=function(t){t||(t=window.location.search);for(var e={},a=t.substring(1).split("&"),i=0;i<a.length;i+=1){var n=a[i].split("=");if(void 0===e[n[0]])try{e[n[0]]=decodeURIComponent(n[1])}catch(t){e[n[0]]=n[1]}else if("string"==typeof e[n[0]]){var r;try{r=[e[n[0]],decodeURIComponent(n[1])]}catch(t){r=[e[n[0]],n[1]]}e[n[0]]=r}else{var o;try{o=decodeURIComponent(n[1])}catch(t){o=n[1]}e[n[0]].push(o)}}return e}),thn.parse_url_parameter||(thn.parse_url_parameter=function(t,e,a){var i,n="";e||(e=window.location.search),void 0===a&&(a=!1);for(var r=e.substr(1).split("&"),o=0;o<r.length&&((i=r[o].split("="))[0]!==t||2!==i.length||(n=decodeURIComponent(i[1]),!a));o+=1);return n}),thn.parse_sentence_for_number||function(){function c(t,e){var a=t.split(e);return void 0===a[1]?t:a.slice(0,-1).join("")+e+a.slice(-1)}thn.parse_sentence_for_number=function(t){var e,a=thn.decode_html(t),i=a.match(/\d[\d\s,.]*/);i&&(a=i[0]),void 0!==a&&(null!=a.match(/,/g)&&1<a.match(/,/g).length&&(a=c(a,",")),null!=a.match(/./g)&&1<a.match(/./g).length&&(a=c(a,".")));var n=(a=a.replace(/[\r\n\s]+/g,"")).match(/\d[\d,\.\s]*/);if(null==n)return null;var r=n[0].trim().match(/[0-9,\s\.]*/),o=n[0].lastIndexOf("."),s=n[0].lastIndexOf(","),d=n[0].lastIndexOf(" ");e=-1!==s&&o<s?",":".";var l=[r[0].length-3,r[0].length-2];return-1===d&&-1===s&&-1===l.indexOf(o)?Number(r[0].replace(".","")):-1===d&&-1===o&&-1===l.indexOf(s)?Number(r[0].replace(",","")):r&&r[0]?","===e?Number(r[0].replace(/\s/g,"").replace(/\./g,"").replace(",",".")):Number(r[0].replace(/\s/g,"").replace(/,/g,"")):null}}(),thn.trigger||(thn.trigger=function(t,e){try{var a,i={bubbles:!0,cancellable:!1};e?(i.detail=e,thn.data.jscd&&thn.data.jscd.browser&&thn.in_array(thn.data.jscd.browser,["Microsoft Internet Explorer","Safari"])?(a=document.createEvent("CustomEvent")).initCustomEvent(t,i.bubbles,i.cancellable,e):a=new CustomEvent(t,i)):a=new Event(t,i),window.dispatchEvent(a)}catch(t){thn.add_widget_url_error(t)}}),thn.check_origins||(thn.check_origins=function(t,e){var a=!1;if(t&&0!==t.length&&e&&0!==e.length)for(var i=0;i<e.length;i+=1){for(var n=0;n<t.length;n+=1){var r=new RegExp(t[n],"i");if(e[i]&&r&&null!==e[i].match(r)){a=!0;break}}if(a)break}else a=!0;return a}),thn.mirror_position||(thn.mirror_position=function(t){var e,a=t;return 2<=t.length&&("L"===(e=t.substr(1,1))?e="R":"R"===e&&(e="L"),a=t.substr(0,1)+e+t.substr(1+e.length)),a}),thn.generate_script_hash||function(){var i=Math.PI/180;thn.generate_script_hash=function(t,e){var a=t+e+Math.sin(e*i).toFixed(10);return thn.sha256(a)}}(),thn.ajax={},thn.ajax.x=function(){var t={},e=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"];if(window.XDomainRequest)t.type=1;else if(window.XMLHttpRequest)t.type=2;else for(var a=0;a<e.length;a+=1)try{new ActiveXObject(e[a]),t.type=3,t.version=a;break}catch(t){}return function(){switch(t.type){case 1:return new XDomainRequest;case 2:return new XMLHttpRequest;case 3:return new ActiveXObject(e[t.version])}}}(),thn.ajax.send=function(t,e,a,i,n){var r=thn.ajax.x();if(r.open(a,t,n),r.withCredentials=!0,"[object XDomainRequest]"===r.toString()?(r.onload=function(){e(r.responseText)},r.onerror=function(){thn.add_log("[error] XDomainRequest error")},r.ontimeout=function(){thn.add_log("[error] XDomainRequest timeout")},r.onprogress=function(){thn.add_log("XDomainRequest progress ...")}):r.onreadystatechange=function(){4===r.readyState&&e(r.responseText)},"POST"===a)try{r.setRequestHeader("Content-type","application/x-www-form-urlencoded")}catch(t){}r.send(i)},thn.ajax.get=function(t,e,a,i){void 0===i&&(i=!0);var n=[];for(var r in e)n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));var o=-1<t.indexOf("?");thn.ajax.send(t+(o?"":"?")+n.join("&"),a,"GET",null,i)},thn.ajax.post=function(t,e,a,i){void 0===i&&(i=!0);var n=thn.serialize(e);thn.ajax.send(t,a,"POST",n,i)},thn.serialize=function t(e,a){var i=[];for(var n in e)if(e.hasOwnProperty(n)){var r=a?a+"["+n+"]":n,o=e[n];i.push("object"==typeof o?t(o,r):encodeURIComponent(r)+"="+encodeURIComponent(o))}return i.join("&")},thn.dom_ready=function(){var t=new Promise(function(t,e){var a,i,n,r=!1;function o(){r||(r=!0,n&&clearInterval(n),t())}if(document.addEventListener)document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1);else if(window.attachEvent){window.attachEvent("onload",o),i=document.createElement("div");try{a=null===window.frameElement}catch(t){}i.doScroll&&a&&window.external&&(n=setInterval(function(){try{i.doScroll(),o()}catch(t){}},30))}"complete"===document.readyState&&o()});return function(){return t}}(),thn.translate_date||function(){var p={ca:[["gen"],["feb"],["mar","mar"],["abr"],["mai","maig"],["jun","juny"],["jul"],["ago","ag"],["set"],["oct"],["nov"],["des"]],ch:[["1"],["2"],["3"],["4"],["5"],["6"],["7"],["8"],["9"],["10"],["11"],["12"]],cs:[["led"],["no"],["be"],["dub"],["kv"],["er"],["vc"],["srp"],["z"],["j"],["lis"],["pro"]],de:[["jan","januar"],["feb","februar"],["mr","mrz"],["apr","april"],["mai"],["jun","juni"],["jul","juli"],["aug","august"],["sep","september"],["okt","oktober"],["nov","november"],["dez","dezember"]],el:[[""],[""],[""],[""],[""],[""],[""],[""],[""],[""],[""],[""]],en:[["jan","january"],["feb","february"],["mar","march"],["apr","april"],["may"],["jun","june"],["jul","july"],["aug","august"],["sep","september"],["oct","october"],["nov","november"],["dec","december"]],es:[["ene","enero"],["feb","febrero"],["mar","marzo"],["abr","abril"],["may","mayo"],["jun","junio"],["jul","julio"],["ago","agosto"],["sep","septiembre"],["oct","octubre"],["nov","noviembre"],["dic","diciembre"]],fr:[["janv","jan","janvier"],["fvr","fv","fev","fvrier"],["mars","mar"],["avril","avr"],["mai"],["juin","jun"],["juil","jul","juillet"],["aot","aou","ao"],["sept","sep","septembre"],["oct","octobre"],["nov","novembre"],["dc","dcembre"]],hr:[["sij"],["velj"],["ou"],["tra"],["svi"],["lip"],["srp"],["kol"],["ruj"],["lis"],["stu"],["pro"]],hu:[["jan"],["feb"],["mr"],["pr"],["mj"],["jn"],["jl"],["aug"],["szep"],["okt"],["nov"],["dec"]],is:[["jan."],["febr.","feb."],["mars.","mar."],["apr.","ap."],["ma"],["jn."],["jl."],["g.","g."],["sep.","sept."],["okt."],["nv."],["des."]],it:[["gen","gennaio"],["feb","febbraio"],["mar","marzo"],["apr","aprile"],["mag","maggio"],["giu","giugno"],["lug","luglio"],["ago","agosto"],["set","settembre"],["ott","ottobre"],["nov","novembre"],["dic","dicembre"]],jp:[["1"],["2"],["3"],["4"],["5"],["6"],["7"],["8"],["9"],["10"],["11"],["12"]],lv:[["jan"],["feb"],["mar"],["apr"],["mai"],["jn"],["jl"],["aug"],["sep"],["okt"],["nov"],["dec"]],nl:[["jan"],["feb"],["mrt"],["apr"],["mei"],["jun"],["jul"],["aug"],["sep"],["okt"],["nov"],["dec"]],no:[["jan"],["feb"],["mar"],["apr"],["mai"],["jun"],["jul"],["aug"],["sep"],["okt"],["nov"],["des"]],pl:[["sty"],["lu"],["mar"],["kw"],["maj"],["cze"],["lip"],["sie"],["wrz"],["pa"],["lis"],["gru"]],pt:[["jan"],["fev"],["mar"],["abr"],["mai"],["jun"],["jul"],["ago"],["set"],["out"],["nov"],["dez"]],ro:[["ianuarie","gerar","ian"],["februarie","furar","feb"],["martie","mrior","mar"],["aprilie","prier","apr"],["mai","florar"],["iunie","cirear","iun"],["iulie","cuptor","iul"],["august","gustar","aug"],["septembrie","rpciune","viniceriu","sept"],["octombrie","brumrel","oct"],["noiembrie","brumar","noiem","noi","nov"],["decembrie","undrea","dec"]],ru:[["",""],["",""],["",""],["",""],[""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],sk:[["jan"],["feb"],["mar"],["apr"],["mj"],["jn"],["jl"],["aug"],["sep"],["okt"],["nov"],["dec"]],sl:[["jan"],["feb"],["mar"],["apr"],["maj"],["jun"],["jul"],["avg"],["sep"],["okt"],["nov"],["dec"]],sv:[["jan"],["feb"],["mar"],["apr"],["maj"],["jun"],["jul"],["aug"],["sep"],["okt"],["nov"],["dec"]],th:[["",".."],["",".."],["",".."],["",".."],["",".."],["",".."],["",".."],["",".."],["",".."],["",".."],["",".."],["",".."]],tr:[["oca"],["ub"],["mar"],["nis"],["may"],["haz"],["tem"],["au"],["eyl"],["eki"],["kas"],["ara"]],zh:[[""],[""],[""],[""],[""],[""],[""],[""],[""],[""],[""],[""]]};thn.translate_date=function(t,e){var a,i,n,r,o="[A-Za-z-]",s=["("+o+"*)\\s*([0-9]+)\\s+(([a-zA-Z----.]*)|([0-9]*)|([]*)|([--]*)) 20([0-9]*)","("+o+"+)\\s+([0-9]{1,2}),\\s+([0-9]{4})","([0-9]{1,2})/("+o+"*)(|.)/([0-9]{4})","([0-9]{1,2})-("+o+"{3})-([0-9]{2,4})","([0-9]{1,2})\\. ("+o+"*)\\. ([0-9]{4})","([0-9]{1,2})\\s+("+o+"{3})\\s+([0-9]{2,4})","([0-9]{1,2})\\s+([^\\d\\s]*)\\s+([0-9]{4})","(\\d+)[^\\d]+?("+o+"{4,50})[^\\d]+(\\d{4})","(\\S+)\\s+(\\d{2})\\s+(\\d{4})"];for(t=t.trim(),r=0;r<s.length;r++)if(n=new RegExp(s[r],"i"),null!=(i=t.match(n))){var d,l,c,h,u;if(0==r){for(d=i[2],j=0;j<p[e].length;j++)for(k=0;k<p[e][j].length;k++)if(i[3].toLowerCase().replace(".","")==p[e][j][k]){l=j+1;break}c="20"+i[8]}else if(1==r){for(d=i[2],c=i[3],h=i[1].toLowerCase().replace(".","").substr(0,3),j=0;j<p[e].length;j++)for(k=0;k<p[e][j].length;k++)if(h===p[e][j][k]){l=j+1;break}}else if(2==r){for(d=i[1],c=i[4],j=0;j<p[e].length;j++)for(k=0;k<p[e][j].length;k++)if(i[2].toLowerCase().replace(".","")==p[e][j][k]){l=j+1;break}}else if(3==r){for(d=i[1],c=(2==i[3].length?(new Date).getFullYear().toString().slice(0,2):"")+i[3],j=0;j<p[e].length;j++)for(k=0;k<p[e][j].length;k++)if(i[2].toLowerCase().replace(".","")==p[e][j][k]){l=j+1;break}}else if(4==r){for(d=i[1],c=i[3],j=0;j<p[e].length;j++)for(k=0;k<p[e][j].length;k++)if(i[2].toLowerCase().replace(".","")==p[e][j][k]){l=j+1;break}}else if(5==r){for(d=i[1],2===(c=i[3]).length&&(c="20"+c),j=0;j<p[e].length;j++)for(k=0;k<p[e][j].length;k++)if(i[2].toLowerCase().replace(".","")==p[e][j][k]){l=j+1;break}}else if(6===r||7===r){for(d=i[1],c=i[3],u=(h=i[2].toLowerCase()).substr(0,3),j=0;j<p[e].length;j++)for(k=0;k<p[e][j].length;k++)if(h===p[e][j][k]||u===p[e][j][k]){l=j+1;break}}else if(8===r)for(d=i[2],c=i[3],u=(h=i[1].toLowerCase()).substr(0,3),j=0;j<p[e].length;j++)for(k=0;k<p[e][j].length;k++)if(h===p[e][j][k]||u===p[e][j][k]){l=j+1;break}if(void 0!==d&&void 0!==l&&void 0!==c){a=c+"/"+("0"+l).substr(-2)+"/"+("0"+d).substr(-2);break}}return a}}(),thn.days_between||(thn.days_between=function(t,e){var a,i,n;"string"==typeof t?(a=t.split("/"),i=new Date(a[0],a[1]-1,a[2])):i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),"string"==typeof e?(a=e.split("/"),n=new Date(a[0],a[1]-1,a[2])):n=new Date(e.getFullYear(),e.getMonth(),e.getDate());i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),n.setMinutes(n.getMinutes()-n.getTimezoneOffset());var r=(n.getTime()-i.getTime())/864e5;return Math.floor(r)}),thn.add_days||(thn.add_days=function(t,e,a){var i,n;return"string"==typeof t?(n=t.split("/"),i=new Date(n[0],n[1]-1,n[2])):i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e&&((e=parseInt(e,10))?i.setTime(i.getTime()+24*e*60*60*1e3):console.error("thn_add_days: Error in parameter days ("+e+")")),a&&i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i}),thn.date_to_string||(thn.date_to_string=function(t,e,a){a=a||"/";var i=new Date(t);return e&&i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i.getFullYear()+a+("0"+(i.getMonth()+1)).slice(-2)+a+("0"+i.getDate()).slice(-2)}),thn.get_date_from_datepicker||(thn.get_date_from_datepicker=function(t,e){var a;switch((e=e||{}).type=e.type||"jquery",!0!==e.raw&&(e.raw=!1),e.jQuery||window.jQuery,e.type){case"jquery":a=function(t,e){if($&&$.fn.datepicker){var a=$(t).datepicker("getDate");if(a&&(!a.hasOwnProperty("length")||0!==a.length))return a}else console.error("jQuery or Datepicker missing")}(t);break;case"bootstrap":a=function(t,e){if($&&$.fn.datepicker){var a=$(t).data("datepicker").getDate();if(a&&(!a.hasOwnProperty("length")||0!==a.length))return a}else console.error("jQuery or Datepicker missing")}(t);break;case"pickadate":a=function(t,e){if($&&$.fn.pickadate){var a=$(t).pickadate("picker");if((a=a&&a.get("select").obj)&&(!a.hasOwnProperty("length")||0!==a.length))return a}else console.error("jQuery or Pickadate missing")}(t)}return a&&!1===e.raw&&(a=thn.date_to_string(a)),a}),thn.is_in_data_range||(thn.is_in_data_range=function(t,e,a){var i=!0;return e=e?parseInt(e,10):void 0,a=a?parseInt(a,10):void 0,t=t?parseInt(t,10):void 0,void 0===e&&void 0===a||void 0===t||(void 0===e?a<t&&(i=!1):void 0===a?t<e&&(i=!1):e<=a?(t<e||a<t)&&(i=!1):a<t&&t<e&&(i=!1)),i}),thn.get_month_number||function(){var a=[["enero","ene","january","jan","janvier","jan","gennaio","genn","januar","jn","jan"],["febrero","feb","february","feb","fvrier","fevrier","fvr","fevr","febbraio","febbr","februar","feb"],["marzo","mar","march","mar","mars","mars","marzo","mar","mrz","marz","mrz"],["abril","abr","april","apr","avril","avr","aprile","apr","april","apr"],["mayo","may","may","may","mai","mai","maggio","magg","mai","mai"],["junio","jun","june","jun","juni","juin","giugno","giugno","juni","juni"],["julio","jul","july","jul","juillet","juil","luglio","lug","juli","juli"],["agosto","ago","august","aug","aot","aout","agosto","ago","august","aug"],["septiembre","sept","set","september","sept","set","septembre","sept","settembre","set","sett","september","sept"],["octubre","oct","october","oct","octobre","oct","ottobre","ott","oktober","okt"],["noviembre","nov","november","nov","novembre","nov","novembre","nov","november","nov"],["diciembre","dic","december","dec","dcembre","decembre","dc","dec","dicembre","dic","dezember","dez"]],i=[["lunes","monday","lundi","lunedi","montag"],["martes","tuesday","mardi","martedi","dienstag"],["miercoles","wednesday","mercredi","mercoledi","mittwoch"],["jueves","thursday","jeudi","giovedi","donnerstag"],["viernes","friday","vendredi","venerd","freitag"],["sbado","sabado","saturday","samedi","sabato","samstag"],["domingo","sunday","dimanche","domenica","sonntag"]];thn.get_month_number=function(t){t=t.toLowerCase();for(var e=0;e<12&&-1==a[e].indexOf(t);e++);return 12!=e?e+1:"undefined"},thn.get_day_number=function(t){t=t.toLowerCase();for(var e=0;e<12&&-1==i[e].indexOf(t);e++);return 7!=e?e+1:"undefined"}}(),thn.recognize_natural_numbers||function(){var d={ca:["zero","un","dos","tres","quatre","cinc","sis","set","[vh]uit","nou","deu"],en:["zero","one","two","three","four","five","six","seven","eight","nine","ten"],es:["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez"],fr:["z[e]ro","un","deux","trois","quatre","cinq","six","sept","huit","neuf","dix"],de:["null","eins","zwei","drei","vier","funf","sechs","sieben","acht","neun","zehn"],it:["zero","uno","due","tre","quattro","cinque","sei","sette","otto","nove","dieci"],pt:["zero","um","dois","tr[e]s","quatro","cinco","seis","sete","oito","nove","dez"],ru:["","","","","","","","","","",""]};thn.recognize_natural_numbers=function(t,e){for(var a,i=(e=e||"en")&&d[e],n=i?"\\b(\\d+|"+i.join("|")+")\\b":"\\b(\\d+)\\b",r=new RegExp(n,"gi"),o=[];null!==(a=r.exec(t));){var s=a[1];s.match(/\d+/)?o.push(parseInt(s,10)):i.some(function(t,e){var a=new RegExp(t,"i");if(s.match(a))return o.push(e),!0})}return o}}(),thn.get_language_code||function(){var e={english:"en",french:"fr",german:"de",italian:"it",portuguese:"pt",polish:"pl",russian:"ru",spanish:"es",catalan:"ca",finnish:"fi","portuguese br":"pt",greek:"el"};thn.get_language_code=function(t){return e[t.toLowerCase()]}}(),thn.get_currency_code||function(){var e={"":"EUR",EURO:"EUR",$:"USD",US$:"USD","US $":"USD",$US:"USD","$ US":"USD",U$S:"USD","":"GBP","GBP":"GBP",POUND:"GBP",$CA:"CAD",CA$:"CAD",C$:"CAD",$C:"CAD",R$:"BRL",Rp:"IDR","":"INR","":"JPY",MX:"MXN",MX$:"MXN",MXN$:"MXN",$MX:"MXN",$MXN:"MXN","MX $":"MXN","$ MX":"MXN",MXP:"MXN","":"RUB",S$:"SGD","":"THB",Fr:"CHF","":"ILS","":"ILS","":"KRW"},a=/^(AED|AFN|ALL|AMD|ANG|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTN|BWP|BYN|BZD|CAD|CDF|CHF|CLP|CNY|COP|CRC|CUC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRU|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SPL*|SRD|STN|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TVD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VEF|VND|VUV|WST|XAF| BEAC|XCD|XDR|XOF|XPF|YER|ZAR|ZMW|ZWD)$/i,i=/[\n\r\s]+/g;thn.get_currency_code=function(t){return t.match(a)?t.toUpperCase():e[t.replace(i," ")]}}(),thn.convert_currency||(thn.convert_currency=function(){var t,e,a;if(3===arguments.length)t=arguments[0],e=arguments[1],a=arguments[2];else{if(2!==arguments.length)return thn.add_log("[error] thn_convert_currency: must be called with 2 or 3 args"),null;t=arguments[0],e=arguments[1]&&arguments[1].from,a=arguments[2]&&arguments[2].to}return thn.is_numeric(t)?e===a?t:thn.data.currencies?e in thn.data.currencies?a in thn.data.currencies[e]?t*thn.data.currencies[e][a]:(thn.add_log("[error] thn_convert_currency: unknown exchange rate for "+a),null):(thn.add_log("[error] thn_convert_currency: unknown currency "+e),null):(thn.add_log("[error] thn_convert_currency: missing thn.data.currencies dictionary"),null):(thn.add_log("[error] thn_convert_currency: first arguments must be numeric"),null)}),function(t){var f=/^(?:submit|button|image|reset|file)$/i,m=/^(?:input|select|textarea|keygen)/i,n=/(\[[^\[\]]*\])/g;function w(t,e,a){if(e.match(n)){!function t(e,a,i){if(0===a.length)return e=i;var n=a.shift(),r=n.match(/^\[(.+?)\]$/);if("[]"===n)return e=e||[],Array.isArray(e)?e.push(t(null,a,i)):(e._values=e._values||[],e._values.push(t(null,a,i))),e;if(r){var o=r[1],s=+o;isNaN(s)?(e=e||{})[o]=t(e[o],a,i):(e=e||[])[s]=t(e[s],a,i)}else e[n]=t(e[n],a,i);return e}(t,function(t){var e=[],a=new RegExp(n),i=/^([^\[\]]*)/.exec(t);for(i[1]&&e.push(i[1]);null!==(i=a.exec(t));)e.push(i[1]);return e}(e),a)}else{var i=t[e];i?(Array.isArray(i)||(t[e]=[i]),t[e].push(a)):t[e]=a}return t}function v(t,e,a){return a=a.replace(/(\r)?\n/g,"\r\n"),a=(a=encodeURIComponent(a)).replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+a}t.thn&&(t.thn.form_serialize=function(t,e){"object"!=typeof e?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var a=e.hash?{}:"",i=e.serializer||(e.hash?w:v),n=t&&t.elements?t.elements:[],r=Object.create(null),o=0;o<n.length;++o){var s=n[o];if((e.disabled||!s.disabled)&&s.name&&m.test(s.nodeName)&&!f.test(s.type)){var d=s.name,l=s.value;if("checkbox"!==s.type&&"radio"!==s.type||s.checked||(l=void 0),e.empty){if("checkbox"!==s.type||s.checked||(l=""),"radio"===s.type&&(r[s.name]||s.checked?s.checked&&(r[s.name]=!0):r[s.name]=!1),null==l&&"radio"==s.type)continue}else if(!l)continue;if("select-multiple"!==s.type)a=i(a,d,l);else{l=[];for(var c=s.options,h=!1,u=0;u<c.length;++u){var p=c[u],_=e.empty&&!p.value,g=p.value||_;p.selected&&g&&(h=!0,a=e.hash&&"[]"!==d.slice(d.length-2)?i(a,d+"[]",p.value):i(a,d,p.value))}!h&&e.empty&&(a=i(a,d,""))}}}if(e.empty)for(var d in r)r[d]||(a=i(a,d,""));return a})}(window),function(t){"use strict";var g="undefined"==typeof window&&"undefined"!=typeof global&&"function"==typeof require,f=g?t.require:null,m={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},w={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443};function r(t){return encodeURIComponent(t).replace(/'/g,"%27")}function v(t){return(t=(t=(t=t.replace(/\+/g," ")).replace(/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,a,i){var n=parseInt(e,16)-224,r=parseInt(a,16)-128;if(0===n&&r<32)return t;var o=(n<<12)+(r<<6)+(parseInt(i,16)-128);return 65535<o?t:String.fromCharCode(o)})).replace(/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,a){var i=parseInt(e,16)-192;if(i<2)return t;var n=parseInt(a,16)-128;return String.fromCharCode((i<<6)+n)})).replace(/%([0-7][0-9a-f])/gi,function(t,e){return String.fromCharCode(parseInt(e,16))})}function y(t){for(var e,a=/([^=&]+)(=([^&]*))?/g;e=a.exec(t);){var i=decodeURIComponent(e[1].replace(/\+/g," ")),n=e[3]?v(e[3]):"";void 0!==this[i]&&null!==this[i]?(this[i]instanceof Array||(this[i]=[this[i]]),this[i].push(n)):this[i]=n}}function b(t,e){!function(t,e,a){var i,n,r,o=g?"file://"+(process.platform.match(/^win/i)?"/":"")+f("fs").realpathSync("."):document.location.href;e||(e=o),g?i=f("url").parse(e):(i=document.createElement("a")).href=e;var s,d,l=(d={path:!0,query:!0,hash:!0},(s=e)&&/^[a-z]+:/.test(s)&&(d.protocol=!0,d.host=!0,/[-a-z0-9]+(\.[-a-z0-9])*:\d+/i.test(s)&&(d.port=!0),/\/\/(.*?)(?::(.*?))?@/.test(s)&&(d.user=!0,d.pass=!0)),d);for(n in r=e.match(/\/\/(.*?)(?::(.*?))?@/)||[],m)l[n]?t[n]=i[m[n]]||"":t[n]="";if(t.protocol=t.protocol.replace(/:$/,""),t.query=t.query.replace(/^\?/,""),t.hash=v(t.hash.replace(/^#/,"")),t.user=v(r[1]||""),t.pass=v(r[2]||""),t.port=w[t.protocol]==t.port||0==t.port?"":t.port,!l.protocol&&/[^/#?]/.test(e.charAt(0))&&(t.path=e.split("?")[0].split("#")[0]),!l.protocol&&a){var c=new b(o.match(/(.*\/)/)[0]),h=c.path.split("/"),u=t.path.split("/"),p=["protocol","user","pass","host","port"],_=p.length;for(h.pop(),n=0;n<_;n++)t[p[n]]=c[p[n]];for(;".."===u[0];)h.pop(),u.shift();t.path=("/"!==e.charAt(0)?h.join("/"):"")+"/"+u.join("/")}t.path=t.path.replace(/^\/{2,}/,"/"),t.paths(("/"===t.path.charAt(0)?t.path.slice(1):t.path).split("/")),t.query=new y(t.query)}(this,t,!e)}y.prototype.toString=function(){var t,e,a="",i=r;for(t in this)if(!(this[t]instanceof Function||null===this[t]))if(this[t]instanceof Array){var n=this[t].length;if(n)for(e=0;e<n;e++)a+=a?"&":"",a+=i(t)+"="+i(this[t][e]);else a+=(a?"&":"")+i(t)+"="}else a+=a?"&":"",a+=i(t)+"="+i(this[t]);return a},b.prototype.clearQuery=function(){for(var t in this.query)this.query[t]instanceof Function||delete this.query[t];return this},b.prototype.queryLength=function(){var t,e=0;for(t in this)this[t]instanceof Function||e++;return e},b.prototype.isEmptyQuery=function(){return 0===this.queryLength()},b.prototype.paths=function(t){var e,a="",i=0;if(t&&t.length&&t+""!==t){for(this.isAbsolute()&&(a="/"),e=t.length;i<e;i++)t[i]=!i&&t[i].match(/^\w:$/)?t[i]:r(t[i]);this.path=a+t.join("/")}for(i=0,e=(t=("/"===this.path.charAt(0)?this.path.slice(1):this.path).split("/")).length;i<e;i++)t[i]=v(t[i]);return t},b.prototype.encode=r,b.prototype.decode=v,b.prototype.isAbsolute=function(){return this.protocol||"/"===this.path.charAt(0)},b.prototype.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&r(this.user)+(this.pass&&":"+r(this.pass))+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+r(this.hash))},t[t.exports?"exports":"Url"]=b}(window.thn),window.thn&&!thn.DataLayerHelper&&function(){var e=/\[object (Boolean|Number|String|Function|Array|Date|RegExp)\]/;function l(t){return null==t?String(t):(t=e.exec(Object.prototype.toString.call(Object(t))))?t[1].toLowerCase():"object"}function n(t,e){return Object.prototype.hasOwnProperty.call(Object(t),e)}function c(t){if(!t||"object"!=l(t)||t.nodeType||t==t.window)return!1;try{if(t.constructor&&!n(t,"constructor")&&!n(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(var e in t);return void 0===e||n(t,e)}function t(a,t,e){var i;this.b=a,this.f=t||function(){},this.d=!1,this.a={},this.c=[],this.e=(i=this,{set:function(t,e){u(h(t,e),i.a)},get:function(t){return i.get(t)}}),o(this,a,!e);var n=a.push,r=this;a.push=function(){var t=[].slice.call(arguments,0),e=n.apply(a,t);return o(r,t),e}}function o(t,e,a){for(t.c.push.apply(t.c,e);!1===t.d&&0<t.c.length;){if("array"==l(e=t.c.shift()))t:{var i=e,n=t.a;if("string"==l(i[0])){for(var r=i[0].split("."),o=r.pop(),s=(i=i.slice(1),0);s<r.length;s++){if(void 0===n[r[s]])break t;n=n[r[s]]}try{n[o].apply(n,i)}catch(t){}}}else if("function"==typeof e)try{e.call(t.e)}catch(t){}else{if(!c(e))continue;for(var d in e)u(h(d,e[d]),t.a)}a||(t.d=!0,t.f(t.a,e),t.d=!1)}}function h(t,e){for(var a={},i=a,n=t.split("."),r=0;r<n.length-1;r++)i=i[n[r]]={};return i[n[n.length-1]]=e,a}function u(t,e){for(var a in t)if(n(t,a)){var i=t[a];"array"==l(i)?("array"==l(e[a])||(e[a]=[]),u(i,e[a])):c(i)?(c(e[a])||(e[a]={}),u(i,e[a])):e[a]=i}}(thn.DataLayerHelper=t).prototype.get=function(t){var e=this.a;t=t.split(".");for(var a=0;a<t.length;a++){if(void 0===e[t[a]])return;e=e[t[a]]}return e},t.prototype.flatten=function(){this.b.splice(0,this.b.length),this.b[0]={},u(this.a,this.b[0])}}(),thn.datalayer||(thn.datalayer=new thn.DataLayerHelper(window.dataLayer||{},null,!0)),thn.moble_check||(thn.mobile_check=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}),thn.mobile_and_tablet_check||(thn.mobile_and_tablet_check=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}),function(t){var e="";screen.width&&(width=screen.width?screen.width:"",height=screen.height?screen.height:"",e+=width+" x "+height);var a,i,n,r=navigator.appVersion,o=navigator.userAgent,s=navigator.appName,d=""+parseFloat(navigator.appVersion),l=parseInt(navigator.appVersion,10);-1!=(i=o.indexOf("Opera"))&&(s="Opera",d=o.substring(i+6),-1!=(i=o.indexOf("Version"))&&(d=o.substring(i+8))),-1!=(i=o.indexOf("OPR"))?(s="Opera",d=o.substring(i+4)):-1!=(i=o.indexOf("MSIE"))?(s="Microsoft Internet Explorer",d=o.substring(i+5)):-1!=(i=o.indexOf("Chrome"))?(s="Chrome",d=o.substring(i+7)):-1!=(i=o.indexOf("Safari"))?(s="Safari",d=o.substring(i+7),-1!=(i=o.indexOf("Version"))&&(d=o.substring(i+8))):-1!=(i=o.indexOf("Firefox"))?(s="Firefox",d=o.substring(i+8)):-1!=o.indexOf("Trident/")?(s="Microsoft Internet Explorer",d=o.substring(o.indexOf("rv:")+3)):(a=o.lastIndexOf(" ")+1)<(i=o.lastIndexOf("/"))&&(s=o.substring(a,i),d=o.substring(i+1),s.toLowerCase()==s.toUpperCase()&&(s=navigator.appName)),-1!=(n=d.indexOf(";"))&&(d=d.substring(0,n)),-1!=(n=d.indexOf(" "))&&(d=d.substring(0,n)),-1!=(n=d.indexOf(")"))&&(d=d.substring(0,n)),l=parseInt(""+d,10),isNaN(l)&&(d=""+parseFloat(navigator.appVersion),l=parseInt(navigator.appVersion,10));var c=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(r),h=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||h||(document.cookie="testcookie",h=-1!=document.cookie.indexOf("testcookie"));var u="-",p=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var _ in p){var g=p[_];if(g.r.test(o)){u=g.s;break}}var f="-";switch(/Windows/.test(u)&&(f=/Windows (.*)/.exec(u)[1],u="Windows"),u){case"Mac OS X":f=/Mac OS X (10[\.\_\d]+)/.exec(o)[1];break;case"Android":f=/Android ([\.\_\d]+)/.exec(o)[1];break;case"iOS":f=(f=/OS (\d+)_(\d+)_?(\d+)?/.exec(r))[1]+"."+f[2]+"."+(0|f[3])}var m="no check";if("undefined"!=typeof swfobject){var w=swfobject.getFlashPlayerVersion();m=0<w.major?w.major+"."+w.minor+" r"+w.release:"-"}thn.data.jscd={screen:e,browser:s,browserVersion:d,browserMajorVersion:l,mobile:c,os:u,osVersion:f,cookies:h,flashVersion:m}}(),thn.is_fingerprint_par||(thn.is_fingerprint_par=function(t){return!thn.data.office&&t.substr(-1,1).charCodeAt(0)%2==0}),thn.is_fingerprint_percent||(thn.is_fingerprint_percent=function(t,e){return!thn.data.office&&.390625*parseInt("0X"+t.substr(-2))>e}),function(t,e,a){"use strict";e.Fingerprint2=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var a;if(null==this)throw new TypeError("'this' is null or undefined");var i=Object(this),n=i.length>>>0;if(0===n)return-1;var r=+e||0;if(Math.abs(r)===1/0&&(r=0),n<=r)return-1;for(a=Math.max(0<=r?r:n-Math.abs(r),0);a<n;){if(a in i&&i[a]===t)return a;a++}return-1});var t=function(t){this.options=this.extend(t,{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i]}),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map&&"collect"!==Array.prototype.map.name?Array.prototype.map:void 0};return t.prototype={extend:function(t,e){if(null==t)return e;for(var a in t)null!=t[a]&&e[a]!==t[a]&&(e[a]=t[a]);return e},log:function(t){window.console&&console.log(t)},get:function(i){var t=[];t=this.userAgentKey(t),t=this.languageKey(t),t=this.colorDepthKey(t),t=this.screenResolutionKey(t),t=this.availableScreenResolutionKey(t),t=this.timezoneOffsetKey(t),t=this.sessionStorageKey(t),t=this.localStorageKey(t),t=this.indexedDbKey(t),t=this.addBehaviorKey(t),t=this.openDatabaseKey(t),t=this.cpuClassKey(t),t=this.platformKey(t),t=this.doNotTrackKey(t),t=this.pluginsKey(t),t=this.canvasKey(t),t=this.webglKey(t),t=this.adBlockKey(t),t=this.hasLiedLanguagesKey(t),t=this.hasLiedResolutionKey(t),t=this.hasLiedOsKey(t),t=this.hasLiedBrowserKey(t),t=this.touchSupportKey(t);var n=this;this.fontsKey(t,function(t){var a=[];n.each(t,function(t){var e=t.value;t.value&&t.value.join&&(e=t.value.join(";")),a.push(e)});var e=n.x64hash128(a.join("~~~"),31);return i(e,t)})},userAgentKey:function(t){return this.options.excludeUserAgent||t.push({key:"user_agent",value:this.getUserAgent()}),t},getUserAgent:function(){return navigator.userAgent},languageKey:function(t){return this.options.excludeLanguage||t.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),t},colorDepthKey:function(t){return this.options.excludeColorDepth||t.push({key:"color_depth",value:screen.colorDepth}),t},screenResolutionKey:function(t){return this.options.excludeScreenResolution?t:this.getScreenResolution(t)},getScreenResolution:function(t){var e;return void 0!==(e=this.options.detectScreenOrientation&&screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height])&&t.push({key:"resolution",value:e}),t},availableScreenResolutionKey:function(t){return this.options.excludeAvailableScreenResolution?t:this.getAvailableScreenResolution(t)},getAvailableScreenResolution:function(t){var e;return screen.availWidth&&screen.availHeight&&(e=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),void 0!==e&&t.push({key:"available_resolution",value:e}),t},timezoneOffsetKey:function(t){return this.options.excludeTimezoneOffset||t.push({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),t},sessionStorageKey:function(t){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&t.push({key:"session_storage",value:1}),t},localStorageKey:function(t){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&t.push({key:"local_storage",value:1}),t},indexedDbKey:function(t){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&t.push({key:"indexed_db",value:1}),t},addBehaviorKey:function(t){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&t.push({key:"add_behavior",value:1}),t},openDatabaseKey:function(t){return!this.options.excludeOpenDatabase&&window.openDatabase&&t.push({key:"open_database",value:1}),t},cpuClassKey:function(t){return this.options.excludeCpuClass||t.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),t},platformKey:function(t){return this.options.excludePlatform||t.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),t},doNotTrackKey:function(t){return this.options.excludeDoNotTrack||t.push({key:"do_not_track",value:this.getDoNotTrack()}),t},canvasKey:function(t){return!this.options.excludeCanvas&&this.isCanvasSupported()&&t.push({key:"canvas",value:this.getCanvasFp()}),t},webglKey:function(t){return this.options.excludeWebGL?"undefined"==typeof NODEBUG&&this.log("Skipping WebGL fingerprinting per excludeWebGL configuration option"):this.isWebGlSupported()?t.push({key:"webgl",value:this.getWebglFp()}):"undefined"==typeof NODEBUG&&this.log("Skipping WebGL fingerprinting because it is not supported in this browser"),t},adBlockKey:function(t){return this.options.excludeAdBlock||t.push({key:"adblock",value:this.getAdBlock()}),t},hasLiedLanguagesKey:function(t){return this.options.excludeHasLiedLanguages||t.push({key:"has_lied_languages",value:this.getHasLiedLanguages()}),t},hasLiedResolutionKey:function(t){return this.options.excludeHasLiedResolution||t.push({key:"has_lied_resolution",value:this.getHasLiedResolution()}),t},hasLiedOsKey:function(t){return this.options.excludeHasLiedOs||t.push({key:"has_lied_os",value:this.getHasLiedOs()}),t},hasLiedBrowserKey:function(t){return this.options.excludeHasLiedBrowser||t.push({key:"has_lied_browser",value:this.getHasLiedBrowser()}),t},fontsKey:function(t,e){return this.options.excludeJsFonts?this.flashFontsKey(t,e):this.jsFontsKey(t,e)},flashFontsKey:function(e,a){return this.options.excludeFlashFonts?("undefined"==typeof NODEBUG&&this.log("Skipping flash fonts detection per excludeFlashFonts configuration option"),a(e)):this.hasSwfObjectLoaded()?this.hasMinFlashInstalled()?void 0===this.options.swfPath?("undefined"==typeof NODEBUG&&this.log("To use Flash fonts detection, you must pass a valid swfPath option, skipping Flash fonts enumeration"),a(e)):void this.loadSwfAndDetectFonts(function(t){e.push({key:"swf_fonts",value:t.join(";")}),a(e)}):("undefined"==typeof NODEBUG&&this.log("Flash is not installed, skipping Flash fonts enumeration"),a(e)):("undefined"==typeof NODEBUG&&this.log("Swfobject is not detected, Flash fonts enumeration is skipped"),a(e))},jsFontsKey:function(d,l){var c=this;return setTimeout(function(){var t=["monospace","sans-serif","serif"],e=document.getElementsByTagName("body")[0],a=document.createElement("span");a.style.position="absolute",a.style.left="-9999px",a.style.fontSize="72px",a.innerHTML="mmmmmmmmmmlli";for(var i={},n={},r=0,o=t.length;r<o;r++)a.style.fontFamily=t[r],e.appendChild(a),i[t[r]]=a.offsetWidth,n[t[r]]=a.offsetHeight,e.removeChild(a);var s=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];c.options.extendedJsFonts&&(s=s.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),d.push({key:"js_fonts",value:[]}),l(d)},1)},pluginsKey:function(t){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||t.push({key:"ie_plugins",value:this.getIEPlugins()}):t.push({key:"regular_plugins",value:this.getRegularPlugins()})),t},getRegularPlugins:function(){for(var t=[],e=0,a=navigator.plugins.length;e<a;e++)t.push(navigator.plugins[e]);return this.pluginsShouldBeSorted()&&(t=t.sort(function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})),this.map(t,function(t){var e=this.map(t,function(t){return[t.type,t.suffixes].join("~")}).join(",");return[t.name,t.description,e].join("::")},this)},getIEPlugins:function(){var t=[];return(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window)&&(t=this.map(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(t){try{return new ActiveXObject(t),t}catch(t){return null}})),navigator.plugins&&(t=t.concat(this.getRegularPlugins())),t},pluginsShouldBeSorted:function(){for(var t=!1,e=0,a=this.options.sortPluginsFor.length;e<a;e++){var i=this.options.sortPluginsFor[e];if(navigator.userAgent.match(i)){t=!0;break}}return t},touchSupportKey:function(t){return this.options.excludeTouchSupport||t.push({key:"touch_support",value:this.getTouchSupport()}),t},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(t){return!0}},hasIndexedDB:function(){return!!window.indexedDB},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:"unknown"},getTouchSupport:function(){var t=0,e=!1;void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){}return[t,e,"ontouchstart"in window]},getCanvasFp:function(){var t=[],e=document.createElement("canvas");e.width=2e3,e.height=200,e.style.display="inline";var a=e.getContext("2d");return a.rect(0,0,10,10),a.rect(2,2,6,6),t.push("canvas winding:"+(!1===a.isPointInPath(5,5,"evenodd")?"yes":"no")),a.textBaseline="alphabetic",a.fillStyle="#f60",a.fillRect(125,1,62,20),a.fillStyle="#069",this.options.dontUseFakeFontInCanvas?a.font="11pt Arial":a.font="11pt no-real-font-123",a.fillText("Cwm fjordbank glyphs vext quiz, ",2,15),a.fillStyle="rgba(102, 204, 0, 0.7)",a.font="18pt Arial",a.fillText("Cwm fjordbank glyphs vext quiz, ",4,45),a.globalCompositeOperation="multiply",a.fillStyle="rgb(255,0,255)",a.beginPath(),a.arc(50,50,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(0,255,255)",a.beginPath(),a.arc(100,50,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(255,255,0)",a.beginPath(),a.arc(75,100,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(255,0,255)",a.arc(75,75,75,0,2*Math.PI,!0),a.arc(75,75,25,0,2*Math.PI,!0),a.fill("evenodd"),t.push("canvas fp:"+e.toDataURL()),t.join("~")},getWebglFp:function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=this.getWebglCanvas()))return null;var a=[],i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i);var n=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),i.itemSize=3,i.numItems=3;var r=e.createProgram(),o=e.createShader(e.VERTEX_SHADER);e.shaderSource(o,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(o);var s,d,l,c=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(c,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(c),e.attachShader(r,o),e.attachShader(r,c),e.linkProgram(r),e.useProgram(r),r.vertexPosAttrib=e.getAttribLocation(r,"attrVertex"),r.offsetUniform=e.getUniformLocation(r,"uniformOffset"),e.enableVertexAttribArray(r.vertexPosArray),e.vertexAttribPointer(r.vertexPosAttrib,i.itemSize,e.FLOAT,!1,0,0),e.uniform2f(r.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,i.numItems),null!=e.canvas&&a.push(e.canvas.toDataURL()),a.push("extensions:"+e.getSupportedExtensions().join(";")),a.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),a.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),a.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),a.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),a.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),a.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),a.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),a.push("webgl max anisotropy:"+((l=(s=e).getExtension("EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic"))?(0===(d=s.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT))&&(d=2),d):null)),a.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),a.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),a.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),a.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),a.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),a.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),a.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),a.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),a.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),a.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),a.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),a.push("webgl red bits:"+e.getParameter(e.RED_BITS)),a.push("webgl renderer:"+e.getParameter(e.RENDERER)),a.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),a.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),a.push("webgl vendor:"+e.getParameter(e.VENDOR)),a.push("webgl version:"+e.getParameter(e.VERSION)),e.getShaderPrecisionFormat?(a.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),a.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),a.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),a.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),a.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),a.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),a.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),a.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),a.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),a.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),a.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),a.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),a.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),a.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),a.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),a.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),a.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),a.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),a.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),a.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),a.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),a.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),a.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),a.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),a.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),a.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),a.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),a.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),a.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),a.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),a.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),a.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),a.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),a.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),a.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),a.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax)):"undefined"==typeof NODEBUG&&this.log("WebGL fingerprinting is incomplete, because your browser does not support getShaderPrecisionFormat"),a.join("~")},getAdBlock:function(){var t=document.createElement("div");t.setAttribute("id","ads");try{return document.body.appendChild(t),!document.getElementById("ads")}catch(t){return!1}},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth||screen.height<screen.availHeight},getHasLiedOs:function(){var t,e=navigator.userAgent.toLowerCase(),a=navigator.oscpu,i=navigator.platform.toLowerCase();if(t=0<=e.indexOf("windows phone")?"Windows Phone":0<=e.indexOf("win")?"Windows":0<=e.indexOf("android")?"Android":0<=e.indexOf("linux")?"Linux":0<=e.indexOf("iphone")||0<=e.indexOf("ipad")?"iOS":0<=e.indexOf("mac")?"Mac":"Other",("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&"Windows Phone"!==t&&"Android"!==t&&"iOS"!==t&&"Other"!==t)return!0;if(void 0!==a){if(0<=(a=a.toLowerCase()).indexOf("win")&&"Windows"!==t&&"Windows Phone"!==t)return!0;if(0<=a.indexOf("linux")&&"Linux"!==t&&"Android"!==t)return!0;if(0<=a.indexOf("mac")&&"Mac"!==t&&"iOS"!==t)return!0;if(0===a.indexOf("win")&&0===a.indexOf("linux")&&0<=a.indexOf("mac")&&"other"!==t)return!0}return 0<=i.indexOf("win")&&"Windows"!==t&&"Windows Phone"!==t||(0<=i.indexOf("linux")||0<=i.indexOf("android")||0<=i.indexOf("pike"))&&"Linux"!==t&&"Android"!==t||(0<=i.indexOf("mac")||0<=i.indexOf("ipad")||0<=i.indexOf("ipod")||0<=i.indexOf("iphone"))&&"Mac"!==t&&"iOS"!==t||0===i.indexOf("win")&&0===i.indexOf("linux")&&0<=i.indexOf("mac")&&"other"!==t||void 0===navigator.plugins&&"Windows"!==t&&"Windows Phone"!==t},getHasLiedBrowser:function(){var t,e=navigator.userAgent.toLowerCase(),a=navigator.productSub;if(("Chrome"==(t=0<=e.indexOf("firefox")?"Firefox":0<=e.indexOf("opera")||0<=e.indexOf("opr")?"Opera":0<=e.indexOf("chrome")?"Chrome":0<=e.indexOf("safari")?"Safari":0<=e.indexOf("trident")?"Internet Explorer":"Other")||"Safari"===t||"Opera"===t)&&"20030107"!==a)return!0;var i,n=eval.toString().length;if(37===n&&"Safari"!==t&&"Firefox"!==t&&"Other"!==t)return!0;if(39===n&&"Internet Explorer"!==t&&"Other"!==t)return!0;if(33===n&&"Chrome"!==t&&"Opera"!==t&&"Other"!==t)return!0;try{throw"a"}catch(t){try{t.toSource(),i=!0}catch(t){i=!1}}return!(!i||"Firefox"===t||"Other"===t)},isCanvasSupported:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e,t=document.createElement("canvas");try{e=t.getContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){e=!1}return!!window.WebGLRenderingContext&&!!e},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var t=document.createElement("div");t.setAttribute("id",this.options.swfContainerId),document.body.appendChild(t)},loadSwfAndDetectFonts:function(e){var t="___fp_swf_loaded";window[t]=function(t){e(t)};var a=this.options.swfContainerId;this.addFlashDivNode();var i={onReady:t};swfobject.embedSWF(this.options.swfPath,a,"1","1","9.0.0",!1,i,{allowScriptAccess:"always",menu:"false"},{})},getWebglCanvas:function(){var t=document.createElement("canvas"),e=null;try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(t){}return e||(e=null),e},each:function(t,e,a){if(null!==t)if(this.nativeForEach&&t.forEach===this.nativeForEach)t.forEach(e,a);else if(t.length===+t.length){for(var i=0,n=t.length;i<n;i++)if(e.call(a,t[i],i,t)==={})return}else for(var r in t)if(t.hasOwnProperty(r)&&e.call(a,t[r],r,t)==={})return},map:function(t,i,n){var r=[];return null==t?r:this.nativeMap&&t.map===this.nativeMap?t.map(i,n):(this.each(t,function(t,e,a){r[r.length]=i.call(n,t,e,a)}),r)},x64Add:function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var a=[0,0,0,0];return a[3]+=t[3]+e[3],a[2]+=a[3]>>>16,a[3]&=65535,a[2]+=t[2]+e[2],a[1]+=a[2]>>>16,a[2]&=65535,a[1]+=t[1]+e[1],a[0]+=a[1]>>>16,a[1]&=65535,a[0]+=t[0]+e[0],a[0]&=65535,[a[0]<<16|a[1],a[2]<<16|a[3]]},x64Multiply:function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var a=[0,0,0,0];return a[3]+=t[3]*e[3],a[2]+=a[3]>>>16,a[3]&=65535,a[2]+=t[2]*e[3],a[1]+=a[2]>>>16,a[2]&=65535,a[2]+=t[3]*e[2],a[1]+=a[2]>>>16,a[2]&=65535,a[1]+=t[1]*e[3],a[0]+=a[1]>>>16,a[1]&=65535,a[1]+=t[2]*e[2],a[0]+=a[1]>>>16,a[1]&=65535,a[1]+=t[3]*e[1],a[0]+=a[1]>>>16,a[1]&=65535,a[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],a[0]&=65535,[a[0]<<16|a[1],a[2]<<16|a[3]]},x64Rotl:function(t,e){return 32==(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])},x64LeftShift:function(t,e){return 0==(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]},x64Xor:function(t,e){return[t[0]^e[0],t[1]^e[1]]},x64Fmix:function(t){return t=this.x64Xor(t,[0,t[0]>>>1]),t=this.x64Multiply(t,[4283543511,3981806797]),t=this.x64Xor(t,[0,t[0]>>>1]),t=this.x64Multiply(t,[3301882366,444984403]),t=this.x64Xor(t,[0,t[0]>>>1])},x64hash128:function(t,e){e=e||0;for(var a=(t=t||"").length%16,i=t.length-a,n=[0,e],r=[0,e],o=[0,0],s=[0,0],d=[2277735313,289559509],l=[1291169091,658871167],c=0;c<i;c+=16)o=[255&t.charCodeAt(c+4)|(255&t.charCodeAt(c+5))<<8|(255&t.charCodeAt(c+6))<<16|(255&t.charCodeAt(c+7))<<24,255&t.charCodeAt(c)|(255&t.charCodeAt(c+1))<<8|(255&t.charCodeAt(c+2))<<16|(255&t.charCodeAt(c+3))<<24],s=[255&t.charCodeAt(c+12)|(255&t.charCodeAt(c+13))<<8|(255&t.charCodeAt(c+14))<<16|(255&t.charCodeAt(c+15))<<24,255&t.charCodeAt(c+8)|(255&t.charCodeAt(c+9))<<8|(255&t.charCodeAt(c+10))<<16|(255&t.charCodeAt(c+11))<<24],o=this.x64Multiply(o,d),o=this.x64Rotl(o,31),o=this.x64Multiply(o,l),n=this.x64Xor(n,o),n=this.x64Rotl(n,27),n=this.x64Add(n,r),n=this.x64Add(this.x64Multiply(n,[0,5]),[0,1390208809]),s=this.x64Multiply(s,l),s=this.x64Rotl(s,33),s=this.x64Multiply(s,d),r=this.x64Xor(r,s),r=this.x64Rotl(r,31),r=this.x64Add(r,n),r=this.x64Add(this.x64Multiply(r,[0,5]),[0,944331445]);switch(o=[0,0],s=[0,0],a){case 15:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+9)],8));case 9:s=this.x64Xor(s,[0,t.charCodeAt(c+8)]),s=this.x64Multiply(s,l),s=this.x64Rotl(s,33),s=this.x64Multiply(s,d),r=this.x64Xor(r,s);case 8:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+7)],56));case 7:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+6)],48));case 6:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+5)],40));case 5:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+4)],32));case 4:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+3)],24));case 3:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+2)],16));case 2:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+1)],8));case 1:o=this.x64Xor(o,[0,t.charCodeAt(c)]),o=this.x64Multiply(o,d),o=this.x64Rotl(o,31),o=this.x64Multiply(o,l),n=this.x64Xor(n,o)}return n=this.x64Xor(n,[0,t.length]),r=this.x64Xor(r,[0,t.length]),n=this.x64Add(n,r),r=this.x64Add(r,n),n=this.x64Fmix(n),r=this.x64Fmix(r),n=this.x64Add(n,r),r=this.x64Add(r,n),("00000000"+(n[0]>>>0).toString(16)).slice(-8)+("00000000"+(n[1]>>>0).toString(16)).slice(-8)+("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)}},t.VERSION="1.1.4",t}()}(0,this.thn||this),window.mixpanel&&"function"==typeof mixpanel.init||function(t,r){if(!r.__SV){var o,s,e=window;try{var a,i,n,d=e.location,l=d.hash;a=function(t,e){return(i=t.match(RegExp(e+"=([^&]*)")))?i[1]:null},l&&a(l,"state")&&("mpeditor"===(n=JSON.parse(decodeURIComponent(a(l,"state")))).action&&(e.sessionStorage.setItem("_mpcehash",l),history.replaceState(n.desiredHash||"",t.title,d.pathname+d.search)))}catch(t){}(window.mixpanel=r)._i=[],r.init=function(t,e,a){function i(t,e){var a=e.split(".");2==a.length&&(t=t[a[0]],e=a[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}var n=r;for(void 0!==a?n=r[a]=[]:a="mixpanel",n.people=n.people||[],n.toString=function(t){var e="mixpanel";return"mixpanel"!==a&&(e+="."+a),t||(e+=" (stub)"),e},n.people.toString=function(){return n.toString(1)+".people (stub)"},o="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<o.length;s++)i(n,o[s]);r._i.push([t,e,a])},r.__SV=1.2,(e=t.createElement("script")).type="text/javascript",e.async=!0,e.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===t.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(e,a)}}(document,window.mixpanel||[]),mixpanel.init("18d1c47f76dd2a898c992a46cdadbf53"),function(o,u,p){var s=[],t={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var a=this;setTimeout(function(){e(a[t])},0)},addTest:function(t,e,a){s.push({name:t,fn:e,options:a})},addAsyncTest:function(t){s.push({name:null,fn:t})}},d=function(){};d.prototype=t,d=new d;var l=[];function _(t,e){return typeof t===e}function g(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,a){return e+a.toUpperCase()}).replace(/^-/,"")}var e="Moz O ms Webkit",c=t._config.usePrefixes?e.split(" "):[];t._cssomPrefixes=c;var i=function(t){var e,a=prefixes.length,i=o.CSSRule;if(void 0===i)return p;if(!t)return!1;if((e=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+t;for(var n=0;n<a;n++){var r=prefixes[n];if(r.toUpperCase()+"_"+e in i)return"@-"+r.toLowerCase()+"-"+t}return!1};t.atRule=i;var h=t._config.usePrefixes?e.toLowerCase().split(" "):[];function f(t,e){return function(){return t.apply(e,arguments)}}function n(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}t._domPrefixes=h;var m=u.documentElement,w="svg"===m.nodeName.toLowerCase();function v(){return"function"!=typeof u.createElement?u.createElement(arguments[0]):w?u.createElementNS.call(u,"http://www.w3.org/2000/svg",arguments[0]):u.createElement.apply(u,arguments)}var a={elem:v("modernizr")};d._q.push(function(){delete a.elem});var y={style:a.elem.style};function r(t,e,a,i){var n,r,o,s,d,l="modernizr",c=v("div"),h=((d=u.body)||((d=v(w?"svg":"body")).fake=!0),d);if(parseInt(a,10))for(;a--;)(o=v("div")).id=i?i[a]:l+(a+1),c.appendChild(o);return(n=v("style")).type="text/css",n.id="s"+l,(h.fake?h:c).appendChild(n),h.appendChild(c),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(u.createTextNode(t)),c.id=l,h.fake&&(h.style.background="",h.style.overflow="hidden",s=m.style.overflow,m.style.overflow="hidden",m.appendChild(h)),r=e(c,t),h.fake?(h.parentNode.removeChild(h),m.style.overflow=s,m.offsetHeight):c.parentNode.removeChild(c),!!r}function b(t,e){var a=t.length;if("CSS"in o&&"supports"in o.CSS){for(;a--;)if(o.CSS.supports(n(t[a]),e))return!0;return!1}if("CSSSupportsRule"in o){for(var i=[];a--;)i.push("("+n(t[a])+":"+e+")");return r("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",function(t){return"absolute"==function(t,e,a){var i;if("getComputedStyle"in o){i=getComputedStyle.call(o,t,e);var n=o.console;null!==i?a&&(i=i.getPropertyValue(a)):n&&n[n.error?"error":"log"].call(n,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else i=!e&&t.currentStyle&&t.currentStyle[a];return i}(t,null,"position")})}return p}function C(t,e,a,i,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+c.join(r+" ")+r).split(" ");return _(e,"string")||_(e,"undefined")?function(t,e,a,i){if(i=!_(i,"undefined")&&i,!_(a,"undefined")){var n=b(t,a);if(!_(n,"undefined"))return n}for(var r,o,s,d,l,c=["modernizr","tspan","samp"];!y.style&&c.length;)r=!0,y.modElem=v(c.shift()),y.style=y.modElem.style;function h(){r&&(delete y.style,delete y.modElem)}for(s=t.length,o=0;o<s;o++)if(d=t[o],l=y.style[d],~(""+d).indexOf("-")&&(d=g(d)),y.style[d]!==p){if(i||_(a,"undefined"))return h(),"pfx"!=e||d;try{y.style[d]=a}catch(t){}if(y.style[d]!=l)return h(),"pfx"!=e||d}return h(),!1}(o,e,i,n):function(t,e,a){var i;for(var n in t)if(t[n]in e)return!1===a?t[n]:_(i=e[t[n]],"function")?f(i,a||e):i;return!1}(o=(t+" "+h.join(r+" ")+r).split(" "),e,a)}d._q.unshift(function(){delete y.style}),t.testAllProps=C;t.prefixed=function(t,e,a){return 0===t.indexOf("@")?i(t):(-1!=t.indexOf("-")&&(t=g(t)),e?C(t,e,a):C(t,"pfx"))};function x(t,e,a){return C(t,p,p,e,a)}t.testAllProps=x,d.addTest("cssanimations",x("animationName","a",!0)),function(){var t,e,a,i,n,r;for(var o in s)if(s.hasOwnProperty(o)){if(t=[],(e=s[o]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(a=0;a<e.options.aliases.length;a++)t.push(e.options.aliases[a].toLowerCase());for(i=_(e.fn,"function")?e.fn():e.fn,n=0;n<t.length;n++)1===(r=t[n].split(".")).length?d[r[0]]=i:(!d[r[0]]||d[r[0]]instanceof Boolean||(d[r[0]]=new Boolean(d[r[0]])),d[r[0]][r[1]]=i),l.push((i?"":"no-")+r.join("-"))}}(),delete t.addTest,delete t.addAsyncTest;for(var k=0;k<d._q.length;k++)d._q[k]();o.thn?o.thn.Modernizr=d:o.Modernizr_THN=d}(window,document),function(h){"use strict";var t=h.thn&&h.thn.Modernizr||h.Modernizr_THN,n=(h.document.documentElement,t.cssanimations),r={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[t.prefixed("animation")];function e(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function a(t){this.options=e({},this.options),this.options=e(this.options,t),this._init()}a.prototype.options={wrapper:document.body,position:"LR",padding_v:0,padding_h:0,color:"#000000",text_color:"#FFFFFF",message:"yo!",layout:"growl",effect:"slide",type:"error",ttl:6e3,note_type:"custom",cookie_message:!1,onClose:function(){return!1},onOpen:function(){return!1},is_mobile:!1,text_align:"",position_type:"type-null"},a.prototype._init=function(){var e=this.options.prefix||"";this.options.is_mobile||"number"!=typeof this.options.padding_v&&("string"!=typeof this.options.padding_v||""==this.options.padding_v)?this.options.padding_v=0:this.options.padding_v=parseInt(this.options.padding_v),this.options.is_mobile||"number"!=typeof this.options.padding_h&&("string"!=typeof this.options.padding_h||""==this.options.padding_h)?this.options.padding_h=0:this.options.padding_h=parseInt(this.options.padding_h),this.options.position_type="type-"+this.options.layout+"-"+this.options.position+"-"+this.options.padding_v+"-"+this.options.padding_h,this.ntf=document.createElement("div");var t=[this.options.position_type,"ns-box","ns-box-thn","ns-"+this.options.layout,"ns-"+this.options.layout+"-"+this.options.position,"ns-effect-"+this.options.effect,"ns-type-"+this.options.type];this.options.cookie_message&&t.push("ns-box-cookie-properties"),this.options.is_mobile&&t.push("ns-box-mobile"),"#000000"===this.options.text_color&&t.push("ns-box-text-black"),t=t.map(function(t){return e+t}),this.ntf.className=t.join(" ");var a="";null==this.options.text_align||"left"!=this.options.text_align&&"right"!=this.options.text_align||(a="text-align: "+this.options.text_align+";");var i='<div class="'+e+"ns-box-inner "+e+'ns-box-thn-inner">';this.options.cookie_message?i+=this.options.message:("oracle_"!=this.options.note_type.substring(0,7)&&"custom"!=this.options.note_type&&"special_offer"!=this.options.note_type||null!=this.options.icon&&""!=this.options.icon?(i+='<div class="'+e+'ns-box-inner-margin">',i+='<div class="'+e+'ns-box-inner-icon" style="color:'+this.options.text_color+' !important" >',i+='<svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">',i+=this.get_icon_path(null==this.options.icon?this.options.note_type:this.options.icon,this.options.text_color),i+="</svg>",i+="</div>",i+='<div class="'+e+'ns-box-inner-text-shared" style="color:'+this.options.text_color+" !important; "+a+'">',i+=this.options.message,i+="</div>"):(i+='<div class="'+e+'ns-box-inner-text-full" style="color:'+this.options.text_color+" !important; "+a+'">',i+=this.options.message),i+="</div>"),i+='<span class="'+e+'ns-close-thn" style="color:'+this.options.text_color+" !important; "+a+'" ></span></div>',this.ntf.innerHTML=i,(this.ntf.__notificationFx__=this).options.wrapper.insertBefore(this.ntf,this.options.wrapper.firstChild);var n=this;0<this.options.ttl&&(this.dismissttl=setTimeout(function t(){h.document.hidden?n.dismissttl=setTimeout(t,25):n.active&&n.dismiss()},this.options.ttl));var r=document.getElementsByClassName(e+"ns-"+this.options.layout+"-"+this.options.position)[0];if(!this.options.is_mobile){if(0!=this.options.padding_v&&Number.isInteger(this.options.padding_v))if("UL"==this.options.position||"UR"==this.options.position)this.ntf.style.top=r.offsetTop+this.options.padding_v+"px";else if("LL"==this.options.position||"LR"==this.options.position){var o=document.querySelector("."+e+"ns-"+this.options.layout+"-"+this.options.position),s=parseInt(getComputedStyle(o).bottom);this.ntf.style.bottom=s+this.options.padding_v+"px"}if(0!=this.options.padding_h&&Number.isInteger(this.options.padding_h))if("UL"==this.options.position||"LL"==this.options.position)this.ntf.style.left=r.offsetLeft+this.options.padding_h+"px";else if("UR"==this.options.position||"LR"==this.options.position){o=document.querySelector("."+e+"ns-"+this.options.layout+"-"+this.options.position);var d=parseInt(getComputedStyle(o).right);this.ntf.style.right=d+this.options.padding_h+"px"}}var l=document.getElementsByClassName(e+this.options.position_type);if(Array.from&&l.length&&(l=Array.from(l).filter(function(t){return!1!==t.__notificationFx__.active})),1<l.length){var c=l[1];"UL"==this.options.position||"UR"==this.options.position?this.ntf.style.top=c.offsetTop+c.offsetHeight+15+"px":(this.ntf.style.top=c.offsetTop-r.offsetHeight-15+"px",this.ntf.style.bottom="auto")}this.ntf.style.background=this.options.color,void 0!==this.options["z-index"]&&(this.ntf.style["z-index"]=this.options["z-index"]),this._initEvents()},a.prototype._initEvents=function(){var e=this,t=this.options.prefix||"";this.ntf.querySelector("."+t+"ns-close-thn").addEventListener("click",function(t){e.dismiss({originalEvent:t})})},a.prototype.show=function(){var t=this.options.prefix||"";this.active=!0,this.ntf.classList.remove(t+"ns-hide"),this.ntf.classList.add(t+"ns-show"),this.options.onOpen()},a.prototype.dismiss=function(t){var e=this,a=this.options.prefix||"";this.active=!1,clearTimeout(this.dismissttl),this.ntf.classList.remove(a+"ns-show"),setTimeout(function(){e.ntf.classList.add(a+"ns-hide"),e.options.onClose(t)},25);var i=function(t){if(n){if(t.target!==e.ntf)return!1;e.ntf.removeEventListener(r,i)}e.options.wrapper.removeChild(e.ntf)};n?this.ntf.addEventListener(r,i):i()},a.prototype.get_icon_path=function(t,e){var a=this.options.prefix||"",i="";switch(t){default:break;case"binoculars":case"now_viewing":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="',i+="M30.4933333,9.94383871 L30.496,9.94180645 L24.6826667,1.84529032 L24.682,1.84596774 C23.9393333,0.690290323 22.692,0 21.3333333,0 C19.638,0 18.1893333,1.07912903 17.608,2.59519355 C17.1593333,2.247 16.6066667,2.03225806 16,2.03225806 C15.3933333,2.03225806 14.8406667,2.247 14.392,2.59519355 C13.8106667,1.07912903 12.362,0 10.6666667,0 C9.308,0 8.06066667,0.690290323 7.318,1.84596774 L7.31733333,1.84529032 L1.504,9.94180645 L1.50666667,9.94383871 C0.566,11.1117097 0,12.6020323 0,14.2258065 C0,17.9610968 2.99066667,21 6.66666667,21 C9.77333333,21 12.3833333,18.8254839 13.1193333,15.8983548 C13.6946667,16.9171935 14.764,17.6129032 16,17.6129032 C17.236,17.6129032 18.3053333,16.9171935 18.8806667,15.8983548 C19.6166667,18.8254839 22.2266667,21 25.3333333,21 C29.0093333,21 32,17.9610968 32,14.2258065 C32,12.6020323 31.434,11.1117097 30.4933333,9.94383871 L30.4933333,9.94383871 Z M6.66666667,19.7129032 C3.68933333,19.7129032 1.26666667,17.2511613 1.26666667,14.2258065 C1.26666667,11.1997742 3.68933333,8.73870968 6.66666667,8.73870968 C9.644,8.73870968 12.0666667,11.1997742 12.0666667,14.2258065 C12.0666667,17.2511613 9.644,19.7129032 6.66666667,19.7129032 L6.66666667,19.7129032 Z M12.9226667,11.7268065 L12.794,11.7478065 C11.784,9.17903226 9.378,7.51935484 6.66666667,7.51935484 C6.01866667,7.51935484 5.37466667,7.61690323 4.75133333,7.80929032 L4.56066667,7.86822581 L8.312,2.64329032 L8.33266667,2.60196774 C8.86666667,1.7673871 9.72866667,1.28709677 10.6666667,1.28709677 C12.1686667,1.28709677 13.3946667,2.52880645 13.3993333,4.05570968 L12.9226667,11.7268065 L12.9226667,11.7268065 Z M14.5593333,4.73787097 C14.5593333,3.97035484 15.2186667,3.31935484 16,3.31935484 C16.7813333,3.31935484 17.4406667,3.97035484 17.4406667,4.74193548 L17.8613333,11.5046129 L17.7506667,11.4328065 C17.22,11.0886774 16.6146667,10.9064516 16,10.9064516 C15.3853333,10.9064516 14.78,11.0886774 14.2493333,11.4328065 L14.1386667,11.5046129 L14.5593333,4.73787097 L14.5593333,4.73787097 Z M16,16.3258065 C14.8606667,16.3258065 13.9333333,15.3835161 13.9333333,14.2258065 C13.9333333,13.0674194 14.8606667,12.1258065 16,12.1258065 C17.1393333,12.1258065 18.0666667,13.0674194 18.0666667,14.2258065 C18.0666667,15.3835161 17.1393333,16.3258065 16,16.3258065 L16,16.3258065 Z M19.0773333,11.7268065 L18.6006667,4.05977419 C18.6053333,2.52880645 19.8313333,1.28709677 21.3333333,1.28709677 C22.2713333,1.28709677 23.1333333,1.7673871 23.6393333,2.57283871 L27.4393333,7.86822581 L27.2486667,7.80929032 C26.6253333,7.61690323 25.9813333,7.51935484 25.3333333,7.51935484 C22.622,7.51935484 20.216,9.17903226 19.206,11.7478065 L19.0773333,11.7268065 L19.0773333,11.7268065 Z M25.3333333,19.7129032 C22.356,19.7129032 19.9333333,17.2511613 19.9333333,14.2258065 C19.9333333,11.1997742 22.356,8.73870968 25.3333333,8.73870968 C28.3106667,8.73870968 30.7333333,11.1997742 30.7333333,14.2258065 C30.7333333,17.2511613 28.3106667,19.7129032 25.3333333,19.7129032 L25.3333333,19.7129032 Z",i+='" id="Imported-Layers"></path>';break;case"calendar":case"last_week_stayed":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="',i+="M30.8821333,3.80944297 L26.0725333,3.80944297 L26.0725333,3.22999116 C26.0725333,1.44862953 24.7061333,0 23.0272,0 C21.3493333,0 19.984,1.44862953 19.984,3.22999116 L19.984,3.80944297 L11.4325333,3.80944297 L11.4325333,3.22999116 C11.4325333,1.44862953 10.0661333,0 8.3872,0 C6.70933333,0 5.34293333,1.44862953 5.34293333,3.22999116 L5.34293333,3.80944297 L0.533333333,3.80944297 C0.238933333,3.80944297 0,4.06295314 0,4.37531388 L0,30.9067374 C0,31.2190981 0.238933333,31.4726083 0.533333333,31.4726083 L30.8821333,31.4726083 C31.1765333,31.4726083 31.4154667,31.2190981 31.4154667,30.9067374 L31.4154667,4.37531388 C31.4154667,4.06295314 31.1765333,3.80944297 30.8821333,3.80944297 L30.8821333,3.80944297 Z M21.0506667,3.22999116 C21.0506667,2.07335102 21.9370667,1.13174182 23.0272,1.13174182 C24.1184,1.13174182 25.0058667,2.07335102 25.0058667,3.22999116 L25.0058667,5.49687003 C25.0058667,6.65464191 24.1184,7.59625111 23.0272,7.59625111 C21.9370667,7.59625111 21.0506667,6.65464191 21.0506667,5.49687003 L21.0506667,3.22999116 L21.0506667,3.22999116 Z M6.4096,3.22999116 C6.4096,2.07335102 7.29706667,1.13174182 8.3872,1.13174182 C9.4784,1.13174182 10.3658667,2.07335102 10.3658667,3.22999116 L10.3658667,5.49687003 C10.3658667,6.65464191 9.4784,7.59625111 8.3872,7.59625111 C7.29706667,7.59625111 6.4096,6.65464191 6.4096,5.49687003 L6.4096,3.22999116 L6.4096,3.22999116 Z M1.06666667,13.1497082 L30.3488,13.1497082 L30.3488,30.3397347 L1.06666667,30.3397347 L1.06666667,13.1497082 Z M30.3488,12.0179664 L1.06666667,12.0179664 L1.06666667,4.94118479 L5.34293333,4.94118479 L5.34293333,5.49687003 C5.34293333,7.2793634 6.70933333,8.72799293 8.3872,8.72799293 C10.0661333,8.72799293 11.4325333,7.2793634 11.4325333,5.49687003 L11.4325333,4.94118479 L19.984,4.94118479 L19.984,5.49687003 C19.984,7.2793634 21.3493333,8.72799293 23.0272,8.72799293 C24.7061333,8.72799293 26.0725333,7.2793634 26.0725333,5.49687003 L26.0725333,4.94118479 L30.3488,4.94118479 L30.3488,12.0179664 L30.3488,12.0179664 Z",i+='" id="Calendar"></path>';break;case"check":case"booked_today":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M23.0263158,0 L1.97368421,0 C0.885526316,0 0,0.86144 0,1.92 L0,30.71872 C0,31.42528 0.590789474,32 1.31776316,32 C1.57565789,32 1.82763158,31.92512 2.04539474,31.78432 L12.5,24.95616 L22.9546053,31.78432 C23.1723684,31.92512 23.4236842,32 23.6822368,32 C24.4092105,32 25,31.42528 25,30.71872 L25,1.92 C25,0.86144 24.1144737,0 23.0263158,0 L23.0263158,0 Z M23.6842105,30.7168 L13.2296053,23.8912 C13.0131579,23.7504 12.7565789,23.68 12.5,23.68 C12.2434211,23.68 11.9868421,23.7504 11.7703947,23.8912 L1.31578947,30.71872 L1.31578947,1.92 C1.31578947,1.56736 1.61052632,1.28 1.97368421,1.28 L23.0263158,1.28 C23.3894737,1.28 23.6842105,1.56736 23.6842105,1.92 L23.6842105,30.7168 L23.6842105,30.7168 Z" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M19.2717105,7.22752 L10.5263158,15.73504 L6.38618421,11.70752 C6.12894737,11.45728 5.71315789,11.45728 5.45592105,11.70752 C5.19868421,11.95776 5.19868421,12.36224 5.45592105,12.61248 L10.5263158,17.54496 L20.2019737,8.13248 C20.4592105,7.88224 20.4592105,7.47776 20.2019737,7.22752 C19.9447368,6.97728 19.5289474,6.97728 19.2717105,7.22752" id="Fill-2"></path>';break;case"clock":case"last_reservation":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="',i+="M16.5505455,4.73928205 L15.096,4.73928205 L15.096,15.8683533 L15.3250909,16.3993162 L21.1127273,21.8621083 L22.1105455,20.8001823 L16.5505455,15.5532764 L16.5505455,4.73928205 L16.5505455,4.73928205 Z M15.8232727,0 C7.09818182,0 0,7.1191339 0,15.8683533 C0,24.618302 7.09818182,31.7374359 15.8232727,31.7374359 C24.5483636,31.7374359 31.6472727,24.618302 31.6472727,15.8683533 C31.6472727,7.1191339 24.5483636,0 15.8232727,0 L15.8232727,0 Z M15.8232727,30.2787464 C7.90036364,30.2787464 1.45454545,23.8138348 1.45454545,15.8683533 C1.45454545,7.92287179 7.90036364,1.45868946 15.8232727,1.45868946 C23.7469091,1.45868946 30.1927273,7.92287179 30.1927273,15.8683533 C30.1927273,23.8138348 23.7469091,30.2787464 15.8232727,30.2787464 L15.8232727,30.2787464 Z",i+='" id="Imported-Layers"></path>';break;case"discount":case"discount_today":case"today_special_offer":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M18.7217499,31.761284 C18.1967541,31.761284 17.6826531,31.5089731 17.2373259,31.0302113 L16.5611639,30.3061278 C16.0572768,29.7658609 15.1924977,29.765162 14.6892916,30.3061278 L14.0131296,31.0302113 C13.5671214,31.5089731 13.0537014,31.761284 12.5287055,31.761284 C11.7456378,31.761284 11.1014795,31.2070387 10.8073184,30.2788698 L10.5043052,29.3255398 C10.2755132,28.6070477 9.51423522,28.2233394 8.8176454,28.4917255 L7.90247754,28.8432834 C7.05199789,29.1703791 6.23079816,29.0110248 5.74665802,28.442801 C5.38985151,28.0234476 5.24209003,27.4181809 5.33129166,26.7388284 L5.46134899,25.7449609 C5.50969492,25.3738332 5.41572679,25.015286 5.19646782,24.7322225 C4.97720886,24.4505568 4.65649155,24.2765251 4.29423761,24.2429769 L3.32119083,24.1514181 C2.53539938,24.0780312 1.92596841,23.6971186 1.64814959,23.1051314 C1.37033078,22.5138431 1.46021334,21.7855661 1.89396477,21.1104071 L2.43189825,20.2723993 C2.63209122,19.959981 2.69882221,19.5951436 2.62051544,19.2435857 C2.54288959,18.8906299 2.32839713,18.5907923 2.01585096,18.3992875 L1.17626617,17.8834829 C0.5001042,17.468323 0.111974975,16.8532714 0.111974975,16.1962845 C0.111974975,15.5392975 0.5001042,14.9242459 1.17626617,14.5083871 L2.01585096,13.9932814 C2.32839713,13.8017767 2.54220867,13.501939 2.62051544,13.1496822 C2.69882221,12.7974253 2.63209122,12.431889 2.43189825,12.1201696 L1.89396477,11.2828607 C1.46021334,10.6063039 1.37033078,9.87942473 1.64814959,9.28743754 C1.92596841,8.69545036 2.53539938,8.3145377 3.32119083,8.24115086 L4.29423761,8.15029096 C4.65649155,8.11604377 4.97720886,7.94271104 5.19646782,7.66034643 C5.41572679,7.37798182 5.50969492,7.01873576 5.46134899,6.64830694 L5.33129166,5.65374051 C5.24209003,4.97438804 5.38985151,4.36912133 5.74665802,3.94906903 C6.23079816,3.3808452 7.05063603,3.22218984 7.90247754,3.54928547 L8.8176454,3.90084339 C9.51423522,4.16922955 10.2755132,3.78552121 10.5043052,3.06772801 L10.8073184,2.11369907 C11.1014795,1.18553026 11.7456378,0.631284879 12.5287055,0.631284879 C13.0537014,0.631284879 13.5671214,0.884294751 14.0131296,1.3623576 L14.6892916,2.08714003 C15.1931786,2.62670804 16.0586387,2.62600912 16.5611639,2.08714003 L17.2373259,1.3623576 C17.6826531,0.884294751 18.1967541,0.631284879 18.7217499,0.631284879 C19.5048177,0.631284879 20.1482951,1.18553026 20.443818,2.11369907 L20.7461502,3.06772801 C20.9742613,3.78552121 21.7348584,4.16922955 22.4328101,3.90084339 L23.3486588,3.54928547 C24.1984576,3.22218984 25.0196573,3.3808452 25.5037974,3.94906903 C25.8606039,4.36842241 26.0083654,4.97368912 25.9191638,5.65374051 L25.7891065,6.64830694 C25.7400796,7.01873576 25.8340477,7.37798182 26.0533067,7.66034643 C26.2732466,7.94201212 26.593283,8.11604377 26.9555369,8.15029096 L27.9292646,8.24115086 C28.7143751,8.3145377 29.324487,8.69545036 29.6023059,9.28743754 C29.8794437,9.87942473 29.7895612,10.6063039 29.3564907,11.2828607 L28.8185572,12.1201696 C28.6183642,12.431889 28.5509523,12.7981242 28.6292591,13.1503811 C28.7082468,13.501939 28.9227393,13.8017767 29.2352854,13.9932814 L30.0741893,14.5083871 C30.7510322,14.9242459 31.1384805,15.5392975 31.1384805,16.1962845 C31.1384805,16.8532714 30.7510322,17.468323 30.0741893,17.8834829 L29.2352854,18.3992875 C28.9227393,18.5907923 28.7082468,18.8906299 28.6292591,19.2428868 C28.5509523,19.5951436 28.6183642,19.959981 28.8185572,20.2723993 L29.3564907,21.1104071 C29.7895612,21.7855661 29.8794437,22.5138431 29.6023059,23.1051314 C29.324487,23.6971186 28.7143751,24.0780312 27.9292646,24.1514181 L26.9555369,24.2429769 C26.593283,24.2765251 26.2732466,24.4505568 26.0533067,24.7322225 C25.8340477,25.015286 25.7400796,25.3738332 25.7891065,25.744262 L25.9191638,26.7388284 C26.0083654,27.4181809 25.8606039,28.0234476 25.5037974,28.4434999 C25.1892085,28.8125309 24.7316245,29.0159173 24.2161617,29.0159173 C23.9383429,29.0159173 23.6462246,28.9579067 23.3486588,28.8432834 L22.4328101,28.4917255 C21.7348584,28.2233394 20.9742613,28.6070477 20.7461502,29.3255398 L20.443818,30.2788698 C20.1482951,31.2070387 19.5048177,31.761284 18.7217499,31.761284 L18.7217499,31.761284 Z M15.6255682,28.4896288 C16.3521189,28.4896288 17.0330473,28.7915632 17.5444246,29.3395183 L18.2205866,30.0629029 C18.3983089,30.2544076 18.5814787,30.3634394 18.7217499,30.3634394 C18.9655223,30.3634394 19.1098791,29.9678494 19.149373,29.8469359 L19.4510243,28.892208 C19.8098736,27.7634485 20.8196905,27.0051178 21.9629694,27.0051178 C22.2850486,27.0051178 22.6037231,27.0652251 22.9101409,27.1826441 L23.8259897,27.534202 C23.9683037,27.5894168 24.1031276,27.6180727 24.2161617,27.6180727 C24.3979696,27.6180727 24.4578913,27.5467826 24.4783192,27.5230192 C24.5702445,27.4146863 24.6042909,27.1917301 24.5695636,26.9254407 L24.4388253,25.9308742 C24.3414525,25.1795328 24.5361981,24.4442665 24.9890155,23.8613653 C25.4425139,23.2777652 26.0968861,22.919218 26.8329698,22.8507237 L27.8060166,22.7591648 C28.0940493,22.7326058 28.3126273,22.6326599 28.3745918,22.4984668 C28.4379182,22.3649727 28.3779965,22.1273391 28.2193401,21.8792217 L27.6814067,21.0412138 C27.2748924,20.4079902 27.1400685,19.6594444 27.3014486,18.9318663 C27.4628286,18.2042882 27.9020275,17.5899355 28.535291,17.1999369 L29.3741948,16.6848311 C29.6220528,16.5324661 29.7766235,16.3451549 29.7766235,16.1962845 C29.7766235,16.047414 29.6220528,15.8601028 29.3741948,15.7077378 L28.535291,15.192632 C27.9020275,14.8033323 27.4628286,14.1882807 27.3014486,13.4607026 C27.1400685,12.7338234 27.2748924,11.9845787 27.6814067,11.3506562 L28.2193401,10.5133473 C28.3779965,10.2659288 28.4379182,10.0282952 28.3745918,9.8941021 C28.3119464,9.75990902 28.0940493,9.65996313 27.8060166,9.63340408 L26.8329698,9.54254418 C26.0968861,9.4740498 25.4425139,9.11480373 24.9890155,8.53190254 C24.5361981,7.94830242 24.3414525,7.21303616 24.4388253,6.46169469 L24.5695636,5.46712826 C24.6042909,5.20083886 24.5702445,4.97718373 24.4783192,4.86885077 C24.4578913,4.84578634 24.3972887,4.77449626 24.2161617,4.77449626 C24.1031276,4.77449626 23.9683037,4.80315208 23.8259897,4.85836694 L22.9101409,5.20992485 C22.6037231,5.32804272 22.2850486,5.38745112 21.9629694,5.38745112 C20.8196905,5.38745112 19.8098736,4.62912042 19.4510243,3.50036091 L19.149373,2.54633198 C19.0690234,2.29681672 18.9151336,2.02912948 18.7217499,2.02912948 C18.5814787,2.02912948 18.3983089,2.13886028 18.2205866,2.32896714 L17.5444246,3.05374956 C17.0330473,3.60100572 16.3521189,3.90294016 15.6255682,3.90294016 C14.8983366,3.90294016 14.2160463,3.60100572 13.7053499,3.05374956 L13.0298689,2.32896714 C12.8514656,2.13886028 12.6696577,2.02912948 12.5287055,2.02912948 C12.2849331,2.02912948 12.1405763,2.42541842 12.1017634,2.54633198 L11.7987502,3.50036091 C11.4405818,4.62912042 10.4314459,5.38745112 9.28748604,5.38745112 C8.96540687,5.38745112 8.64673235,5.32804272 8.34031454,5.20992485 L7.42514669,4.85836694 C7.28215171,4.80315208 7.1480088,4.77449626 7.03497468,4.77449626 C6.85316678,4.77449626 6.79188321,4.84578634 6.77213629,4.86885077 C6.68021095,4.97718373 6.64548359,5.20083886 6.68089188,5.46712826 L6.81094921,6.46169469 C6.90968384,7.21303616 6.71425737,7.94900134 6.26075901,8.53190254 C5.80862251,9.11480373 5.15356933,9.4740498 4.41748566,9.54254418 L3.44375795,9.63340408 C3.15640614,9.65996313 2.9378281,9.75990902 2.87518269,9.8941021 C2.81253727,10.0282952 2.87177804,10.2659288 3.03179623,10.5133473 L3.56904879,11.3506562 C3.97556308,11.9838798 4.11038692,12.7331245 3.94832595,13.4607026 C3.7869459,14.1875818 3.34978983,14.8033323 2.7151645,15.192632 L1.87626063,15.7077378 C1.62772174,15.8601028 1.47451283,16.0481129 1.47451283,16.1962845 C1.47451283,16.3451549 1.62772174,16.5324661 1.87626063,16.6848311 L2.7151645,17.1999369 C3.34978983,17.5899355 3.7869459,18.2042882 3.94832595,18.9318663 C4.11038692,19.6594444 3.97556308,20.4086892 3.56904879,21.0412138 L3.03179623,21.8792217 C2.87245897,22.1273391 2.81253727,22.3649727 2.87518269,22.4984668 C2.9378281,22.6326599 3.15640614,22.7326058 3.44375795,22.7591648 L4.41816659,22.8507237 C5.15356933,22.919218 5.80862251,23.2777652 6.26075901,23.8606664 C6.71425737,24.4442665 6.90968384,25.1795328 6.81094921,25.9308742 L6.68089188,26.9254407 C6.64616452,27.1917301 6.68021095,27.4146863 6.77213629,27.5230192 C6.79188321,27.5467826 6.85316678,27.6180727 7.03497468,27.6180727 C7.1480088,27.6180727 7.28215171,27.5894168 7.42514669,27.534202 L8.34031454,27.1826441 C8.64673235,27.0652251 8.96540687,27.0051178 9.28748604,27.0051178 C10.4314459,27.0051178 11.4405818,27.7634485 11.7987502,28.892208 L12.1017634,29.8462369 C12.181432,30.0964511 12.3353218,30.3634394 12.5287055,30.3634394 C12.6696577,30.3634394 12.8514656,30.2544076 13.0298689,30.0636018 L13.7053499,29.3395183 C14.2160463,28.7915632 14.8983366,28.4896288 15.6255682,28.4896288 L15.6255682,28.4896288 Z" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M19.8391528,23.153596 C19.2704888,23.153596 18.7780514,23.0608147 18.3719592,22.8794065 C17.9469789,22.68692 17.600249,22.4134229 17.3398643,22.0651469 C17.0902727,21.7300264 16.9128604,21.3291282 16.8130237,20.8749153 C16.7239802,20.4691703 16.6787839,20.0191118 16.6787839,19.5378954 C16.6787839,19.0435235 16.7347734,18.5823866 16.8454032,18.1648708 C16.9648024,17.7161972 17.1570553,17.3166837 17.4187892,16.9787937 C17.6926654,16.6256708 18.0447918,16.3500966 18.4663992,16.15761 C18.8758643,15.9720475 19.3602069,15.8778814 19.9059354,15.8778814 C20.5029315,15.8778814 21.0149315,15.978279 21.4270949,16.1776896 C21.8527497,16.3819469 22.1967813,16.6685995 22.4510949,17.0300311 C22.6912424,17.3748451 22.8592108,17.7743586 22.950278,18.2174931 C23.0332503,18.6142369 23.0757484,19.0345223 23.0757484,19.4679632 C23.0757484,19.9831071 23.0170606,20.4601691 22.903058,20.8839165 C22.7802859,21.3429761 22.5819618,21.7445668 22.3148314,22.0783024 C22.0396061,22.4224241 21.6874796,22.6910744 21.2678959,22.8800989 C20.8577563,23.0615071 20.3774611,23.153596 19.8391528,23.153596 L19.8391528,23.153596 Z M19.9059354,17.2626767 C19.549087,17.2626767 19.2482279,17.3173761 19.0121278,17.4240053 C18.7895191,17.5257878 18.6127813,17.6621901 18.4744941,17.8401363 C18.328112,18.0298533 18.2181568,18.2618065 18.1480013,18.5297644 C18.0677273,18.8274954 18.0279275,19.1667703 18.0279275,19.5378954 C18.0279275,19.9166369 18.0616561,20.2635282 18.1291133,20.5695679 C18.1871265,20.8319866 18.2795428,21.0452451 18.4117589,21.2231913 C18.5331818,21.3859048 18.6971028,21.5133059 18.9143149,21.6116264 C19.1463676,21.715486 19.4580198,21.7688007 19.8391528,21.7688007 C20.1919539,21.7688007 20.4928129,21.7147937 20.7295876,21.6095492 C20.95422,21.5091515 21.1329816,21.3748264 21.2732925,21.1996498 C21.419,21.0168568 21.5303044,20.7869808 21.6024835,20.5169457 C21.6847813,20.2115983 21.7266048,19.8584755 21.7266048,19.4679632 C21.7266048,19.1321504 21.6942253,18.8081083 21.6308156,18.5055305 C21.5775244,18.245189 21.4871318,18.0277761 21.3555903,17.8380591 C21.2368656,17.6698065 21.0729447,17.5361738 20.855058,17.4316217 C20.6223307,17.3194533 20.3032582,17.2626767 19.9059354,17.2626767 L19.9059354,17.2626767 Z" id="Fill-2"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M11.610726,15.5503773 C11.0434111,15.5503773 10.5489499,15.4582884 10.1442069,15.2768802 C9.71922662,15.0843937 9.37182214,14.8108966 9.11143743,14.4619282 C8.86184586,14.1261153 8.68510804,13.7259094 8.58459685,13.2716966 C8.49555337,12.8666439 8.45035706,12.4165855 8.45035706,11.9346767 C8.45035706,11.4409972 8.50634652,10.9791679 8.61765086,10.5623445 C8.73705007,10.1115937 8.92997761,9.7120802 9.1910369,9.37557494 C9.46356391,9.02383693 9.81569039,8.74757026 10.2372978,8.55508371 C10.648112,8.36882874 11.1331291,8.27466266 11.6781831,8.27466266 C12.2745046,8.27466266 12.7865046,8.37575272 13.198668,8.57447084 C13.6249974,8.77872815 13.9697036,9.06607318 14.222668,9.42750476 C14.4634901,9.7723188 14.6307839,10.1704475 14.7225257,10.613582 C14.805498,11.0110182 14.8466469,11.431996 14.8466469,11.8654369 C14.8466469,12.3805808 14.7893083,12.8569504 14.6746311,13.2813901 C14.551859,13.7404498 14.3542095,14.1420404 14.0870791,14.4757761 C13.8118538,14.8192053 13.4590527,15.088548 13.039469,15.2768802 C12.6293294,15.4582884 12.1497088,15.5503773 11.610726,15.5503773 L11.610726,15.5503773 Z M11.6781831,9.65945798 C11.3213347,9.65945798 11.0198011,9.71415739 10.7837009,9.82147903 C10.5617668,9.92256909 10.385029,10.0589714 10.2467418,10.23761 C10.1003597,10.4266346 9.99040449,10.6578954 9.91889988,10.9272381 C9.83997497,11.2249691 9.79950067,11.5642439 9.79950067,11.9346767 C9.79950067,12.3141106 9.83322926,12.6616942 9.90068644,12.9663492 C9.95802504,13.2287679 10.0511159,13.4427188 10.183332,13.6213574 C10.3047549,13.7840708 10.4693505,13.9107796 10.685888,14.0084077 C10.9179407,14.1129597 11.2295929,14.165582 11.610726,14.165582 C11.9642016,14.165582 12.2637115,14.1122673 12.5018353,14.0063305 C12.7264677,13.9059328 12.9045547,13.7716077 13.0448656,13.5964311 C13.1905731,13.4143305 13.3018775,13.1837621 13.3747312,12.9130346 C13.457029,12.609072 13.4975033,12.2559492 13.4975033,11.8654369 C13.4975033,11.5289317 13.4657984,11.2048896 13.4037378,10.9030042 C13.3490975,10.6426627 13.2587049,10.4245574 13.1271634,10.2348404 C13.0091133,10.0665878 12.8451924,9.93295505 12.6259565,9.82840301 C12.3945784,9.71623459 12.0748314,9.65945798 11.6781831,9.65945798 L11.6781831,9.65945798 Z" id="Fill-3"></path>',i+='<polyline fill="'+e+'" id="Fill-4" points="11.4306153 22.9832662 10.3398327 22.1683141 19.6711845 9.01275856 20.7619671 9.82771061 11.4306153 22.9832662"></polyline>';break;case"graph-up":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M31.36,22.7368421 L30.08,22.7368421 L30.08,8.21052632 C30.08,7.86126316 29.79392,7.57894737 29.44,7.57894737 C29.08608,7.57894737 28.8,7.86126316 28.8,8.21052632 L28.8,22.7368421 L26.88,22.7368421 L26.88,8.21052632 C26.88,7.86126316 26.59392,7.57894737 26.24,7.57894737 C25.88608,7.57894737 25.6,7.86126316 25.6,8.21052632 L25.6,22.7368421 L23.68,22.7368421 L23.68,11.3684211 C23.68,11.0191579 23.39392,10.7368421 23.04,10.7368421 C22.68608,10.7368421 22.4,11.0191579 22.4,11.3684211 L22.4,22.7368421 L20.48,22.7368421 L20.48,12.6315789 C20.48,12.2823158 20.19392,12 19.84,12 C19.48608,12 19.2,12.2823158 19.2,12.6315789 L19.2,22.7368421 L17.28,22.7368421 L17.28,11.3684211 C17.28,11.0191579 16.99392,10.7368421 16.64,10.7368421 C16.28608,10.7368421 16,11.0191579 16,11.3684211 L16,22.7368421 L14.08,22.7368421 L14.08,10.1052632 C14.08,9.756 13.79392,9.47368421 13.44,9.47368421 C13.08608,9.47368421 12.8,9.756 12.8,10.1052632 L12.8,22.7368421 L10.88,22.7368421 L10.88,12.6315789 C10.88,12.2823158 10.59392,12 10.24,12 C9.88608,12 9.6,12.2823158 9.6,12.6315789 L9.6,22.7368421 L7.68,22.7368421 L7.68,15.7894737 C7.68,15.4402105 7.39392,15.1578947 7.04,15.1578947 C6.68608,15.1578947 6.4,15.4402105 6.4,15.7894737 L6.4,22.7368421 L4.48,22.7368421 L4.48,18.3157895 C4.48,17.9665263 4.19392,17.6842105 3.84,17.6842105 C3.48608,17.6842105 3.2,17.9665263 3.2,18.3157895 L3.2,22.7368421 L1.6,22.7368421 C1.424,22.7368421 1.28,22.5947368 1.28,22.4210526 L1.28,0.631578947 C1.28,0.282315789 0.99392,0 0.64,0 C0.28608,0 0,0.282315789 0,0.631578947 L0,22.4210526 C0,23.292 0.71744,24 1.6,24 L31.36,24 C31.71392,24 32,23.7176842 32,23.3684211 C32,23.0191579 31.71392,22.7368421 31.36,22.7368421" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M3.84,15.7894737 C4.00384,15.7894737 4.16768,15.7275789 4.29248,15.6044211 L12.95872,7.05284211 L20.89024,10.0635789 C21.12704,10.1532632 21.39392,10.0970526 21.57248,9.92021053 L28.8,2.78778947 L28.8,5.05263158 C28.8,5.40189474 29.08608,5.68421053 29.44,5.68421053 C29.79392,5.68421053 30.08,5.40189474 30.08,5.05263158 L30.08,1.26315789 C30.08,0.913894737 29.79392,0.631578947 29.44,0.631578947 L25.6,0.631578947 C25.24608,0.631578947 24.96,0.913894737 24.96,1.26315789 C24.96,1.61242105 25.24608,1.89473684 25.6,1.89473684 L27.89504,1.89473684 L20.96128,8.73663158 L13.02976,5.72589474 C12.79424,5.63684211 12.52736,5.69242105 12.34752,5.86926316 L3.38752,14.7113684 C3.13728,14.9583158 3.13728,15.3574737 3.38752,15.6044211 C3.51232,15.7275789 3.67616,15.7894737 3.84,15.7894737" id="Fill-2"></path>';break;case"graph":case"lock_great_price":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="',i+="M31.36,22.6666667 L28.16,22.6666667 L28.16,3.33333333 C28.16,2.59866667 27.58528,2 26.88,2 L24.96,2 C24.25408,2 23.68,2.59866667 23.68,3.33333333 L23.68,22.6666667 L21.76,22.6666667 L21.76,10 C21.76,9.26533333 21.18528,8.66666667 20.48,8.66666667 L18.56,8.66666667 C17.85408,8.66666667 17.28,9.26533333 17.28,10 L17.28,22.6666667 L15.36,22.6666667 L15.36,14 C15.36,13.2653333 14.78528,12.6666667 14.08,12.6666667 L12.16,12.6666667 C11.45472,12.6666667 10.88,13.2653333 10.88,14 L10.88,22.6666667 L8.96,22.6666667 L8.96,18 C8.96,17.2653333 8.38528,16.6666667 7.68,16.6666667 L5.76,16.6666667 C5.05408,16.6666667 4.48,17.2653333 4.48,18 L4.48,22.6666667 L1.28,22.6666667 L1.28,0.666666667 C1.28,0.298 0.99392,0 0.64,0 C0.28608,0 0,0.298 0,0.666666667 L0,22.6666667 C0,23.402 0.57408,24 1.28,24 L31.36,24 C31.71392,24 32,23.702 32,23.3333333 C32,22.9646667 31.71392,22.6666667 31.36,22.6666667 L31.36,22.6666667 Z M5.76,18 L7.68,18 L7.68,22.6666667 L5.76,22.6666667 L5.76,18 Z M12.16,14 L14.08,14 L14.08,22.6666667 L12.16,22.6666667 L12.16,14 Z M18.56,10 L20.48,10 L20.48,22.6666667 L18.56,22.6666667 L18.56,10 Z M24.96,3.33333333 L26.88,3.33333333 L26.88,22.6666667 L24.96,22.6666667 L24.96,3.33333333 Z",i+='" id="Imported-Layers"></path>';break;case"light":case"great_dates":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M11.8108108,0 C5.84960254,0 1,4.88064 1,10.88 C1,14.54912 2.89888712,17.17952 4.42511924,19.2928 C5.31732909,20.52736 6.08744038,21.59424 6.08744038,22.4 L6.08744038,22.72 C6.08744038,23.60256 6.80031797,24.32 7.6772655,24.32 L15.9443561,24.32 C16.8213037,24.32 17.5341812,23.60256 17.5341812,22.72 L17.5341812,22.4 C17.5341812,21.59424 18.3042925,20.52736 19.1965024,19.2928 C20.7227345,17.17952 22.6216216,14.54912 22.6216216,10.88 C22.6216216,4.88064 17.7720191,0 11.8108108,0 L11.8108108,0 Z M18.1675676,18.54016 C17.145628,19.95584 16.2623211,21.17824 16.2623211,22.4 L16.2623211,22.72 C16.2623211,22.896 16.1192369,23.04 15.9443561,23.04 L7.6772655,23.04 C7.50238474,23.04 7.35930048,22.896 7.35930048,22.72 L7.35930048,22.4 C7.35930048,21.17824 6.47599364,19.95584 5.45405405,18.54016 C4.03593005,16.57664 2.2718601,14.13312 2.2718601,10.88 C2.2718601,5.58592 6.55103339,1.28 11.8108108,1.28 C17.0705882,1.28 21.3497615,5.58592 21.3497615,10.88 C21.3497615,14.13312 19.5856916,16.57664 18.1675676,18.54016 L18.1675676,18.54016 Z" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M16.2623211,25.6 L7.35930048,25.6 C7.00763116,25.6 6.72337043,25.88608 6.72337043,26.24 C6.72337043,26.59392 7.00763116,26.88 7.35930048,26.88 L16.2623211,26.88 C16.6139905,26.88 16.8982512,26.59392 16.8982512,26.24 C16.8982512,25.88608 16.6139905,25.6 16.2623211,25.6" id="Fill-2"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M16.2623211,28.16 L7.35930048,28.16 C7.00763116,28.16 6.72337043,28.44608 6.72337043,28.8 C6.72337043,29.15392 7.00763116,29.44 7.35930048,29.44 L8.69538951,29.44 C8.99109698,30.89856 10.2750397,32 11.8108108,32 C13.3465819,32 14.6305246,30.89856 14.9262321,29.44 L16.2623211,29.44 C16.6139905,29.44 16.8982512,29.15392 16.8982512,28.8 C16.8982512,28.44608 16.6139905,28.16 16.2623211,28.16 L16.2623211,28.16 Z M11.8108108,30.72 C10.9828299,30.72 10.2839428,30.18368 10.0200318,29.44 L13.6015898,29.44 C13.3376789,30.18368 12.6387917,30.72 11.8108108,30.72 L11.8108108,30.72 Z" id="Fill-3"></path>';break;case"pin":case"book_now":case"excelent_transport":case"excelent_attractions":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M11,32 C10.3995294,32 9.98152941,31.65504 9.75635294,30.97344 L9.72723529,30.8832 L9.09376471,28.5024 C7.84947059,24.95168 5.69670588,21.41184 2.70923529,18.02688 L2.662,17.97696 C0.941470588,15.99552 0,13.47968 0,10.88 C0,4.88064 4.93447059,0 11,0 C17.0655294,0 22,4.88064 22,10.88 C22,13.47968 21.0585294,15.99552 19.3483529,17.96416 L19.2842941,18.03584 C16.3032941,21.41184 14.1505294,24.95168 12.8926471,28.54848 L12.2436471,30.97344 C12.0184706,31.65504 11.6004706,32 11,32 L11,32 Z M11,1.28 C5.64817647,1.28 1.29411765,5.58592 1.29411765,10.88 C1.29411765,13.17376 2.12494118,15.39392 3.63323529,17.13088 L3.67658824,17.17696 C6.78052941,20.69504 9.01805882,24.3776 10.3309412,28.12992 L10.9786471,30.5568 C10.9851176,30.57536 10.9922353,30.59648 11,30.6176 C11.0051765,30.6016 11.0097059,30.58816 11.0129412,30.576 L11.0362353,30.51008 L11.6554706,28.176 C12.9819412,24.3776 15.2194706,20.69504 18.3169412,17.18592 L18.3771176,17.11808 C19.8750588,15.39392 20.7058824,13.17376 20.7058824,10.88 C20.7058824,5.58592 16.3518235,1.28 11,1.28 L11,1.28 Z" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M11,14.72 C8.85888235,14.72 7.11764706,12.99776 7.11764706,10.88 C7.11764706,8.76224 8.85888235,7.04 11,7.04 C13.1411176,7.04 14.8823529,8.76224 14.8823529,10.88 C14.8823529,12.99776 13.1411176,14.72 11,14.72 L11,14.72 Z M11,8.256 C9.537,8.256 8.34705882,9.43296 8.34705882,10.88 C8.34705882,12.32704 9.537,13.504 11,13.504 C12.463,13.504 13.6529412,12.32704 13.6529412,10.88 C13.6529412,9.43296 12.463,8.256 11,8.256 L11,8.256 Z" id="Fill-2"></path>';break;case"reviews":case"other_travelers_say":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="',i+="M28.41472,20.64512 C30.73024,18.3776 32,15.4912 32,12.48 C32,5.59872 25.39712,0 17.28,0 C9.16288,0 2.56,5.59872 2.56,12.48 C2.56,12.58432 2.56576,12.68736 2.56832,12.7904 C0.96896,14.35072 0,16.36288 0,18.56 C0,21.18464 1.36768,23.63264 3.7696,25.33888 C3.51808,26.224 3.04768,26.91712 2.27968,27.54688 C1.91936,27.84128 1.81248,28.36416 2.0192,28.81856 C2.19136,29.19616 2.5632,29.44 2.96768,29.44 C4.54784,29.44 6.64384,28.33152 8.16896,27.23392 C9.06496,27.424 9.97568,27.52 10.88,27.52 C13.86944,27.52 16.57984,26.5216 18.54848,24.9088 C19.95776,24.80704 21.3344,24.5408 22.64768,24.10496 C23.90912,24.94592 27.13536,26.88 30.10304,26.88 C30.57856,26.88 31.0208,26.59968 31.22944,26.1632 C31.4848,25.62816 31.35552,24.99328 30.92224,24.65344 C29.45024,23.50016 28.72768,22.35584 28.41472,20.64512 L28.41472,20.64512 Z M8.17152,25.92256 L7.87968,25.85408 L7.64032,26.03328 C6.22912,27.08992 4.6944,27.85856 3.58656,28.08896 C4.39872,27.27744 4.89216,26.33984 5.12192,25.18272 L5.20704,24.75776 L4.84288,24.52096 C2.57856,23.05024 1.28,20.87744 1.28,18.56 C1.28,14.32512 5.58592,10.88 10.88,10.88 C16.17344,10.88 20.48,14.32512 20.48,18.56 C20.48,22.79488 16.17344,26.24 10.88,26.24 C9.97632,26.24 9.06496,26.13312 8.17152,25.92256 L8.17152,25.92256 Z M23.10784,22.86976 L22.8384,22.68288 L22.52864,22.79232 C21.70944,23.08288 20.85888,23.29408 19.9904,23.44256 C21.10528,22.03648 21.76,20.36096 21.76,18.56 C21.76,13.6192 16.87936,9.6 10.88,9.6 C8.21824,9.6 5.77984,10.3936 3.88736,11.7056 C4.368,5.8912 10.18304,1.28 17.28,1.28 C24.69056,1.28 30.72,6.30464 30.72,12.48 C30.72,15.2384 29.50336,17.88992 27.29216,19.94752 L27.0464,20.176 L27.09568,20.5088 C27.41568,22.67584 28.30272,24.20352 30.05568,25.6 C27.80736,25.58016 24.99712,24.18048 23.10784,22.86976 L23.10784,22.86976 Z",i+='" id="Imported-Layers"></path>';break;case"secure-price":case"availability_low":i+='<path fill="'+e+'" d="M14.08,28.16 C6.31616,28.16 0,21.84384 0,14.08 C0,6.31616 6.31616,0 14.08,0 C21.43616,0 27.59936,5.7504 28.11136,13.09248 C28.13568,13.44512 27.86944,13.7504 27.5168,13.77536 C27.16288,13.78816 26.88512,13.53408 26.86016,13.18144 C26.39552,6.50752 20.76672,1.216 14.08,1.216 C7.02208,1.216 1.216,7.02208 1.216,14.08 C1.216,21.13792 7.02208,26.91648 14.08,26.91648 C14.63168,26.91648 15.21344,26.86976 15.90912,26.76992 C16.25984,26.71744 16.58368,26.92672 16.6336,27.2768 C16.68352,27.62688 16.44032,27.95136 16.09088,28.00128 C15.33312,28.10944 14.6944,28.16 14.08,28.16" id="Fill-1"></path>',i+='<path fill="'+e+'" d="M30.4,21.76 L30.08,21.76 L30.08,20.16 C30.08,17.51296 27.92704,15.36 25.28,15.36 C22.63296,15.36 20.48,17.51296 20.48,20.16 L20.48,21.76 L20.16,21.76 C19.27744,21.76 18.56,22.47744 18.56,23.36 L18.56,30.4 C18.56,31.28256 19.27744,32 20.16,32 L30.4,32 C31.28256,32 32,31.28256 32,30.4 L32,23.36 C32,22.47744 31.28256,21.76 30.4,21.76 L30.4,21.76 Z M21.76,20.16 C21.76,18.21952 23.33952,16.576 25.28,16.576 C27.22048,16.576 28.8,18.21952 28.8,20.16 L28.8,21.76 L21.76,21.76 L21.76,20.16 L21.76,20.16 Z M30.72,30.4 C30.72,30.576 30.576,30.72 30.4,30.72 L20.16,30.72 C19.984,30.72 19.84,30.576 19.84,30.4 L19.84,23.36 C19.84,23.184 19.984,23.04 20.16,23.04 L30.4,23.04 C30.576,23.04 30.72,23.184 30.72,23.36 L30.72,30.4 L30.72,30.4 Z" id="Fill-2"></path>',i+='<path fill="'+e+'" d="M18.56,17.70624 C18.56,15.90272 17.11232,14.5696 14.25728,13.74528 C11.70048,13.00608 10.816,12.43328 10.816,11.38624 C10.816,9.90976 12.62016,9.536 14.08,9.536 C16.37312,9.536 17.09504,11.08224 17.12192,11.13984 C17.26592,11.4624 17.64288,11.60896 17.96672,11.46496 C18.28992,11.32096 18.4352,10.94272 18.29184,10.62016 C18.25344,10.53248 17.37024,8.62656 14.72,8.3552 L14.72,7.04 C14.72,6.68672 14.43392,6.4 14.08,6.4 C13.72608,6.4 13.44,6.68672 13.44,7.04 L13.44,8.34176 C9.99232,8.55744 9.6,10.51648 9.6,11.38624 C9.6,13.55264 11.6352,14.31936 13.90272,14.97472 C17.28,15.95072 17.344,17.27232 17.344,17.70624 C17.344,18.70016 16.89792,19.904 13.92,19.904 C11.28704,19.904 10.88512,18.2944 10.86528,18.21312 C10.79296,17.87136 10.46464,17.64992 10.11456,17.7184 C9.76832,17.78816 9.54304,18.12544 9.61216,18.47232 C9.63328,18.57536 10.144,20.89024 13.44,21.09952 L13.44,22.4 C13.44,22.75328 13.72608,23.04 14.08,23.04 C14.43392,23.04 14.72,22.75328 14.72,22.4 L14.72,21.08672 C17.86496,20.84288 18.56,19.14816 18.56,17.70624" id="Fill-3"></path>;';break;case"special":case"sign_loyalty":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="',i+="M25.6992099,0.236413043 C25.5776099,0.087 25.3945699,0 25.2000099,0 L6.81984994,0 C6.62656994,0 6.44288994,0.0863695652 6.32128994,0.235152174 L0.141449942,7.80036957 C-0.0422300576,8.02480435 -0.0473500576,8.34317391 0.128009942,8.57391304 L15.4880099,28.7478261 C15.6089699,28.9066957 15.7984099,29 16.0000099,29 C16.2009699,29 16.3910499,28.9066957 16.5120099,28.7478261 L31.8720099,8.57391304 C32.0473699,8.34380435 32.0416099,8.02543478 31.8592099,7.80163043 L25.6992099,0.236413043 Z M6.29696994,2.27586957 L9.71392994,7.56521739 L1.97632994,7.56521739 L6.29696994,2.27586957 L6.29696994,2.27586957 Z M12.0761699,7.56521739 L16.0000099,1.7671087 L19.9238499,7.56521739 L12.0761699,7.56521739 L12.0761699,7.56521739 Z M20.3008099,8.82608696 L16.0000099,25.7702826 L11.6992099,8.82608696 L20.3008099,8.82608696 L20.3008099,8.82608696 Z M17.1961699,1.26086957 L24.8409699,1.26086957 L21.1072099,7.04069565 L17.1961699,1.26086957 L17.1961699,1.26086957 Z M10.8921699,7.04069565 L7.15840994,1.26086957 L14.8038499,1.26086957 L10.8921699,7.04069565 L10.8921699,7.04069565 Z M10.3808099,8.82608696 L14.6112099,25.4947826 L1.92000994,8.82608696 L10.3808099,8.82608696 L10.3808099,8.82608696 Z M21.6192099,8.82608696 L30.0800099,8.82608696 L17.3888099,25.4947826 L21.6192099,8.82608696 L21.6192099,8.82608696 Z M22.2860899,7.56521739 L25.7100899,2.26452174 L30.0262499,7.56521739 L22.2860899,7.56521739 L22.2860899,7.56521739 Z",i+='" id="Imported-Layers"></path>';break;case"star":case"lowest_price":case"lowest_available":case"book_now_pay_hotel":i+='<path fill="'+e+'" d="',i+="M24.7575265,30.6449762 C24.2586174,30.6449762 23.6731628,30.3999286 23.0164356,29.9157381 L15.8091628,24.6007143 L8.60189012,29.9157381 C7.36698103,30.8265476 6.32116285,30.8435238 5.80189012,30.1179762 C5.43898103,29.6116429 5.42152648,28.8359048 5.74879921,27.8121667 L8.50152648,19.2133571 L1.29425376,13.8990714 C0.256435576,13.1329286 -0.198109879,12.1571667 0.0804355757,11.2876905 C0.34298103,10.4684048 1.20407194,9.97830952 2.38443558,9.97830952 L11.302981,9.97830952 L14.0506174,1.88361905 C14.5480719,0.329190476 15.2818901,0 15.8091628,0 C16.3364356,0 17.070981,0.329190476 17.5727992,1.89690476 L20.3160719,9.97830952 L29.2346174,9.97830952 C30.4142538,9.97830952 31.2753447,10.4684048 31.5386174,11.2876905 C31.8164356,12.1571667 31.3626174,13.1329286 30.3240719,13.8990714 L23.1167992,19.2133571 L25.8695265,27.8121667 C26.1967992,28.8359048 26.1793447,29.6116429 25.8164356,30.1179762 C25.5735265,30.4582381 25.1975265,30.6449762 24.7575265,30.6449762 L24.7575265,30.6449762 Z M23.8717083,28.7215 C24.2673447,29.0130476 24.5175265,29.1149048 24.6484356,29.1503333 C24.6557083,29.0005 24.6295265,28.7155952 24.4862538,28.2683095 L21.406981,18.6494524 L29.4687992,12.7040952 C30.0760719,12.2568095 30.1931628,11.864881 30.1546174,11.7453095 C30.118981,11.6316429 29.8375265,11.4545 29.2346174,11.4545 L19.2782538,11.4545 L16.1931628,2.36559524 C16.0462538,1.9072381 15.9022538,1.6592381 15.8091628,1.54114286 C15.7167992,1.6592381 15.5735265,1.90428571 15.4295265,2.35304762 L12.3400719,11.4545 L2.38443558,11.4545 C1.78152648,11.4545 1.49934467,11.632381 1.4637083,11.7453095 C1.42516285,11.864881 1.54225376,12.2568095 2.14952648,12.7040952 L10.2120719,18.6494524 L7.13279921,28.2683095 C6.98952648,28.7155952 6.96334467,28.9997619 6.96989012,29.1495952 C7.10298103,29.1141667 7.35316285,29.0115714 7.74661739,28.7215 L15.8091628,22.776881 L23.8717083,28.7215 Z",i+='" id="Imported-Layers"></path>';break;case"thunder":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="',i+="M19.5854995,13.8348216 L3.67367349,32 L7.56458661,19.180239 L0.727590127,19.180239 L17.2219371,0 L12.3787546,13.5526234 L19.5854995,13.8348216 Z M13.1628889,6.95970501 L3.87603073,17.7585855 L9.54500931,17.7585855 L7.07282875,25.9039495 L16.5047593,15.1370563 L10.3269117,14.8953752 L13.1628889,6.95970501 Z",i+='" id="Imported-Layers"></path>';break;case"user":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M7.22222222,32 L5.77777778,32 C4.602,32 3.64216667,31.0727111 3.61183333,29.9221333 L2.25261111,20.5525333 C0.964888889,20.2666667 0,19.1310222 0,17.7777778 L0,10.6666667 C0,9.09795556 1.29566667,7.82222222 2.88888889,7.82222222 L10.1111111,7.82222222 C11.7043333,7.82222222 13,9.09795556 13,10.6666667 L13,17.7777778 C13,19.1310222 12.0351111,20.2666667 10.7473889,20.5525333 L9.38816667,29.9221333 C9.35783333,31.0727111 8.398,32 7.22222222,32 L7.22222222,32 Z M2.88888889,9.24444444 C2.093,9.24444444 1.44444444,9.88231111 1.44444444,10.6666667 L1.44444444,17.7777778 C1.44444444,18.5621333 2.093,19.2 2.88888889,19.2 C3.24855556,19.2 3.55333333,19.4602667 3.60388889,19.8101333 L5.04833333,29.7656889 C5.05338889,29.7991111 5.05555556,29.8332444 5.05555556,29.8666667 C5.05555556,30.2592 5.37911111,30.5777778 5.77777778,30.5777778 L7.22222222,30.5777778 C7.62088889,30.5777778 7.94444444,30.2592 7.94444444,29.8666667 C7.94444444,29.8332444 7.94661111,29.7991111 7.95166667,29.7656889 L9.39611111,19.8101333 C9.44666667,19.4602667 9.75144444,19.2 10.1111111,19.2 C10.907,19.2 11.5555556,18.5621333 11.5555556,17.7777778 L11.5555556,10.6666667 C11.5555556,9.88231111 10.907,9.24444444 10.1111111,9.24444444 L2.88888889,9.24444444 L2.88888889,9.24444444 Z" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M6.5,7.11111111 C4.50883333,7.11111111 2.88888889,5.51608889 2.88888889,3.55555556 C2.88888889,1.59502222 4.50883333,0 6.5,0 C8.49116667,0 10.1111111,1.59502222 10.1111111,3.55555556 C10.1111111,5.51608889 8.49116667,7.11111111 6.5,7.11111111 L6.5,7.11111111 Z M6.5,1.35111111 C5.26572222,1.35111111 4.26111111,2.34026667 4.26111111,3.55555556 C4.26111111,4.77084444 5.26572222,5.76 6.5,5.76 C7.73427778,5.76 8.73888889,4.77084444 8.73888889,3.55555556 C8.73888889,2.34026667 7.73427778,1.35111111 6.5,1.35111111 L6.5,1.35111111 Z" id="Fill-2"></path>';break;case"users":case"today_viewed":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M16.1764706,5.15968 C16.0321765,5.15968 15.8788235,5.13728 15.6937647,5.08992 C15.3475882,5.0016 14.9942941,5.16736 14.905,5.50912 C14.8157059,5.85152 15.0234118,6.20096 15.3689412,6.28992 C15.6588235,6.36352 15.9228235,6.4 16.1764706,6.4 C17.9604118,6.4 19.4117647,4.96448 19.4117647,3.2 C19.4117647,1.43552 17.9604118,0 16.1764706,0 C15.9228235,0 15.6588235,0.03648 15.3689412,0.11008 C15.0234118,0.19904 14.8157059,0.54848 14.905,0.89088 C14.9942941,1.23264 15.3482353,1.39712 15.6937647,1.30944 C15.8788235,1.26208 16.0321765,1.23968 16.1764706,1.23968 C17.2467059,1.23968 18.1823529,2.14144 18.1823529,3.2 C18.1823529,4.25856 17.2467059,5.15968 16.1764706,5.15968" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M19.4117647,7.04 L18.3214706,7.04 C17.9636471,7.04 17.6744118,7.32672 17.6744118,7.68 C17.6744118,8.03328 17.9636471,8.32 18.3214706,8.32 L19.4117647,8.32 C20.1254706,8.32 20.7058824,8.89408 20.7058824,9.6 L20.7058824,16.64 C20.7058824,17.34592 20.1254706,17.92 19.4117647,17.92 C19.0539412,17.92 18.7647059,18.20672 18.7647059,18.56 L18.7647059,30.4 C18.7647059,30.57664 18.6191176,30.72 18.4411765,30.72 L16.6857059,30.72 C16.3278824,30.72 16.0386471,31.00672 16.0386471,31.36 C16.0386471,31.71328 16.3278824,32 16.6857059,32 L18.4411765,32 C19.3334706,32 20.0588235,31.28192 20.0588235,30.4 L20.0588235,19.11936 C21.1743529,18.83392 22,17.8304 22,16.64 L22,9.6 C22,8.18816 20.8391765,7.04 19.4117647,7.04" id="Fill-2"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M11,5.15968 C10.8557059,5.15968 10.7023529,5.13728 10.5172941,5.08992 C10.1711176,5.0016 9.81782353,5.16736 9.72852941,5.50912 C9.63923529,5.85152 9.84694118,6.20096 10.1924706,6.28992 C10.4823529,6.36352 10.7463529,6.4 11,6.4 C12.7839412,6.4 14.2352941,4.96448 14.2352941,3.2 C14.2352941,1.43552 12.7839412,0 11,0 C10.7463529,0 10.4823529,0.03648 10.1924706,0.11008 C9.84694118,0.19904 9.63923529,0.54848 9.72852941,0.89088 C9.81782353,1.23264 10.1717647,1.39712 10.5172941,1.30944 C10.7023529,1.26208 10.8557059,1.23968 11,1.23968 C12.0702353,1.23968 13.0058824,2.14144 13.0058824,3.2 C13.0058824,4.25856 12.0702353,5.15968 11,5.15968" id="Fill-3"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M16.8235294,9.6 C16.8235294,8.18816 15.6627059,7.04 14.2352941,7.04 L13.145,7.04 C12.7871765,7.04 12.4979412,7.32672 12.4979412,7.68 C12.4979412,8.03328 12.7871765,8.32 13.145,8.32 L14.2352941,8.32 C14.949,8.32 15.5294118,8.89408 15.5294118,9.6 L15.5294118,16.64 C15.5294118,17.34592 14.949,17.92 14.2352941,17.92 C13.8774706,17.92 13.5882353,18.20672 13.5882353,18.56 L13.5882353,30.4 C13.5882353,30.57664 13.4426471,30.72 13.2647059,30.72 L11.5092353,30.72 C11.1514118,30.72 10.8621765,31.00672 10.8621765,31.36 C10.8621765,31.71328 11.1514118,32 11.5092353,32 L13.2647059,32 C14.157,32 14.8823529,31.28192 14.8823529,30.4 L14.8823529,19.11936 C15.9978824,18.83392 16.8235294,17.8304 16.8235294,16.64 L16.8235294,9.6" id="Fill-4"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M5.82352941,6.4 C7.60747059,6.4 9.05882353,4.96448 9.05882353,3.2 C9.05882353,1.43552 7.60747059,0 5.82352941,0 C4.03958824,0 2.58823529,1.43552 2.58823529,3.2 C2.58823529,4.96448 4.03958824,6.4 5.82352941,6.4 L5.82352941,6.4 Z M5.82352941,1.216 C6.92935294,1.216 7.82941176,2.10624 7.82941176,3.2 C7.82941176,4.2944 6.92935294,5.184 5.82352941,5.184 C4.71770588,5.184 3.81764706,4.2944 3.81764706,3.2 C3.81764706,2.10624 4.71770588,1.216 5.82352941,1.216 L5.82352941,1.216 Z" id="Fill-5"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M11.6470588,9.6 C11.6470588,8.18816 10.4862353,7.04 9.05882353,7.04 L7.76470588,7.04 C7.59258824,7.04 7.42888235,7.1072 7.30723529,7.22752 L5.82352941,8.69504 L4.33982353,7.22752 C4.21817647,7.1072 4.05447059,7.04 3.88235294,7.04 L2.58823529,7.04 C1.16082353,7.04 0,8.18816 0,9.6 L0,16.64 C0,17.8304 0.825647059,18.83392 1.94117647,19.11936 L1.94117647,30.4 C1.94117647,31.28192 2.66652941,32 3.55882353,32 L8.08823529,32 C8.98052941,32 9.70588235,31.28192 9.70588235,30.4 L9.70588235,19.11936 C10.8214118,18.83392 11.6470588,17.8304 11.6470588,16.64 L11.6470588,9.6 L11.6470588,9.6 Z M6.47058824,9.86496 L8.03258824,8.32 L9.05882353,8.32 C9.77188235,8.32 10.3529412,8.89408 10.3529412,9.6 L10.3529412,16.64 C10.3529412,17.34592 9.77188235,17.92 9.05882353,17.92 C8.701,17.92 8.41176471,18.20672 8.41176471,18.56 L8.41176471,30.4 C8.41176471,30.57664 8.26617647,30.72 8.08823529,30.72 L3.55882353,30.72 C3.38088235,30.72 3.23529412,30.57664 3.23529412,30.4 L3.23529412,18.56 C3.23529412,18.20672 2.94605882,17.92 2.58823529,17.92 C1.87517647,17.92 1.29411765,17.34592 1.29411765,16.64 L1.29411765,9.6 C1.29411765,8.89408 1.87517647,8.32 2.58823529,8.32 L3.61447059,8.32 L5.17647059,9.86496 L6.47058824,9.86496 L6.47058824,9.86496 Z" id="Fill-6"></path>';break;case"pool":i+="<defs>",i+='\t<polygon id="path-1" points="0 24 32 24 32 0 0 0"></polygon>',i+="</defs>",i+='<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">',i+='\t<path class="'+a+'ns-path-basic" fill="'+e+'" d="M31.36,20.2105263 C31.71392,20.2105263 32,20.4934737 32,20.8421053 C32,21.1907368 31.71392,21.4105263 31.36,21.4105263 C29.88864,21.4105263 29.13344,22.0989474 28.48576,22.7393684 L28.30464,22.9193684 C27.72416,23.4991579 27.22304,24 26.24,24 C25.25696,24 24.7552,23.4985263 24.17344,22.9181053 L23.99296,22.7381053 C23.34592,22.0976842 22.59136,21.4105263 21.12,21.4105263 C19.64864,21.4105263 18.89344,22.0989474 18.24576,22.7393684 L18.06464,22.9193684 C17.48416,23.4991579 16.98304,24 16,24 C15.01696,24 14.5152,23.4985263 13.93344,22.9181053 L13.75296,22.7381053 C13.10592,22.0976842 12.35136,21.4105263 10.88,21.4105263 C9.40864,21.4105263 8.65344,22.0989474 8.00576,22.7393684 L7.82464,22.9193684 C7.24416,23.4991579 6.74304,24 5.76,24 C4.77696,24 4.2752,23.4985263 3.69344,22.9181053 L3.51296,22.7381053 C2.86592,22.0976842 2.11136,21.4105263 0.64,21.4105263 C0.28608,21.4105263 0,21.1907368 0,20.8421053 C0,20.4934737 0.28608,20.2105263 0.64,20.2105263 C2.7648,20.2105263 3.88096,21.3145263 4.41792,21.8444211 L4.6048,22.0301053 C5.14176,22.5669474 5.33184,22.8 5.76,22.8 C6.18816,22.8 6.37824,22.5675789 6.91392,22.032 L7.1008,21.8463158 C7.63712,21.3157895 8.7552,20.2105263 10.88,20.2105263 C13.0048,20.2105263 14.12096,21.3145263 14.65792,21.8444211 L14.8448,22.0301053 C15.38176,22.5669474 15.57184,22.8 16,22.8 C16.42816,22.8 16.61824,22.5675789 17.15392,22.032 L17.3408,21.8463158 C17.87712,21.3157895 18.9952,20.2105263 21.12,20.2105263 C23.2448,20.2105263 24.36096,21.3145263 24.89792,21.8444211 L25.0848,22.0301053 C25.62176,22.5669474 25.81184,22.8 26.24,22.8 C26.66816,22.8 26.85824,22.5675789 27.39392,22.032 L27.5808,21.8463158 C28.11712,21.3157895 29.2352,20.2105263 31.36,20.2105263 Z" id="Fill-1" ></path>',i+='\t<path class="'+a+'ns-path-basic" fill="'+e+'" d="M0.64,8.21052632 L6.4,8.21052632 C6.75392,8.21052632 7.04,7.92757895 7.04,7.57894737 C7.04,7.23031579 6.75392,6.94736842 6.4,6.94736842 L0.64,6.94736842 C0.28608,6.94736842 0,7.23031579 0,7.57894737 C0,7.92757895 0.28608,8.21052632 0.64,8.21052632" id="Fill-3" ></path>',i+='\t<path class="'+a+'ns-path-basic" fill="'+e+'" d="M31.36,17.0526316 C29.2352,17.0526316 28.11712,18.1578947 27.5808,18.6884211 L27.39392,18.8741053 C26.85824,19.4096842 26.66816,19.6421053 26.24,19.6421053 C25.81184,19.6421053 25.62176,19.4090526 25.0848,18.8722105 L24.89792,18.6865263 C24.36096,18.1566316 23.2448,17.0526316 21.12,17.0526316 C18.9952,17.0526316 17.87712,18.1578947 17.3408,18.6884211 L17.15392,18.8741053 C16.61824,19.4096842 16.42816,19.6421053 16,19.6421053 C15.57184,19.6421053 15.38176,19.4090526 14.8448,18.8722105 L14.65792,18.6865263 C14.12096,18.1566316 13.0048,17.0526316 10.88,17.0526316 C8.7552,17.0526316 7.63712,18.1578947 7.1008,18.6884211 L6.91392,18.8741053 C6.37824,19.4096842 6.18816,19.6421053 5.76,19.6421053 C5.33184,19.6421053 5.14176,19.4090526 4.6048,18.8722105 L4.41792,18.6865263 C3.88096,18.1566316 2.7648,17.0526316 0.64,17.0526316 C0.28608,17.0526316 0,17.3355789 0,17.6842105 C0,18.0328421 0.28608,18.2526316 0.64,18.2526316 C2.11136,18.2526316 2.86592,18.9397895 3.51296,19.5802105 L3.69344,19.7602105 C4.2752,20.3406316 4.77696,20.8421053 5.76,20.8421053 C6.74304,20.8421053 7.24416,20.3412632 7.82464,19.7614737 L8.00576,19.5814737 C8.65344,18.9410526 9.40864,18.2526316 10.88,18.2526316 C12.35136,18.2526316 13.10592,18.9397895 13.75296,19.5802105 L13.93344,19.7602105 C14.5152,20.3406316 15.01696,20.8421053 16,20.8421053 C16.98304,20.8421053 17.48416,20.3412632 18.06464,19.7614737 L18.24576,19.5814737 C18.89344,18.9410526 19.64864,18.2526316 21.12,18.2526316 C22.59136,18.2526316 23.34592,18.9397895 23.99296,19.5802105 L24.17344,19.7602105 C24.7552,20.3406316 25.25696,20.8421053 26.24,20.8421053 C27.22304,20.8421053 27.72416,20.3412632 28.30464,19.7614737 L28.48576,19.5814737 C29.13344,18.9410526 29.88864,18.2526316 31.36,18.2526316 C31.71392,18.2526316 32,18.0328421 32,17.6842105 C32,17.3355789 31.71392,17.0526316 31.36,17.0526316" id="Fill-5" ></path>',i+='\t<mask id="mask-2" fill="white">',i+='\t\t<use xlink:href="#path-1"></use>',i+="\t</mask>",i+='\t<g id="Clip-8"></g>',i+='\t<path fill="'+e+'" d="M10.24,10.7368421 L21.76,10.7368421 L21.76,8.21052632 L10.24,8.21052632 L10.24,10.7368421 Z M31.36,6.94736842 L23.04,6.94736842 L23.04,5.05263158 C23.04,2.96273684 24.76224,1.2 26.88,1.2 C28.99776,1.2 30.72,2.96273684 30.72,5.05263158 C30.72,5.40126316 31.00608,5.68421053 31.36,5.68421053 C31.71392,5.68421053 32,5.40126316 32,5.05263158 C32,2.26673684 29.70304,0 26.88,0 C24.05696,0 21.76,2.26673684 21.76,5.05263158 L21.76,6.94736842 L10.24,6.94736842 L10.24,5.05263158 C10.24,2.96273684 11.96224,1.2 14.08,1.2 C16.19776,1.2 17.92,2.96273684 17.92,5.05263158 C17.92,5.40126316 18.20608,5.68421053 18.56,5.68421053 C18.91392,5.68421053 19.2,5.40126316 19.2,5.05263158 C19.2,2.26673684 16.90304,0 14.08,0 C11.25696,0 8.96,2.26673684 8.96,5.05263158 L8.96,14.5263158 C8.96,14.8749474 9.24608,15.1578947 9.6,15.1578947 C9.95392,15.1578947 10.24,14.8749474 10.24,14.5263158 L10.24,12 L21.76,12 L21.76,14.5263158 C21.76,14.8749474 22.04608,15.1578947 22.4,15.1578947 C22.75392,15.1578947 23.04,14.8749474 23.04,14.5263158 L23.04,8.21052632 L31.36,8.21052632 C31.71392,8.21052632 32,7.92757895 32,7.57894737 C32,7.23031579 31.71392,6.94736842 31.36,6.94736842 Z" id="Fill-7" mask="url(#mask-2)"></path>',i+="</g>";break;case"restaurant":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M5.74314453,12.32064 C5.5715625,12.42752 5.46902344,12.60672 5.46902344,12.8 C5.46902344,18.54336 6.17859375,23.29984 6.60242188,26.14208 C6.77126953,27.27488 6.90388672,28.1696 6.90388672,28.57088 C6.90388672,30.09984 5.84021484,30.784 4.78542969,30.784 C3.73064453,30.784 2.66628906,30.09984 2.66628906,28.57088 C2.66628906,28.1696 2.79890625,27.27488 2.96775391,26.14208 C3.39226563,23.29984 4.10183594,18.54336 4.10183594,12.8 C4.10183594,12.60672 3.99861328,12.42752 3.82703125,12.32064 C2.07908203,11.22944 1.29910156,10.208 1.29910156,7.04 L1.29910156,1.92 C1.29910156,1.53216 1.63611328,1.216 2.05105469,1.216 C2.4653125,1.216 2.80232422,1.53216 2.80232422,1.92 L2.80232422,7.04 C2.80232422,7.35744 3.07917969,7.616 3.41824219,7.616 C3.75730469,7.616 4.03347656,7.35744 4.03347656,7.04 L4.03347656,1.92 C4.03347656,1.53216 4.37048828,1.216 4.78542969,1.216 C5.1996875,1.216 5.53669922,1.53216 5.53669922,1.92 L5.53669922,7.04 C5.53669922,7.35744 5.81355469,7.616 6.15261719,7.616 C6.49167969,7.616 6.76785156,7.35744 6.76785156,7.04 L6.76785156,1.92 C6.76785156,1.53216 7.10486328,1.216 7.51980469,1.216 C7.9340625,1.216 8.27107422,1.53216 8.27107422,1.92 L8.27107422,7.04 C8.27107422,10.208 7.49177734,11.22944 5.74314453,12.32064 M9.57058594,7.04 L9.57058594,1.92 C9.57058594,0.86144 8.65046875,0 7.51980469,0 C6.99275391,0 6.51628906,0.192 6.15261719,0.4992 C5.78826172,0.192 5.31248047,0 4.78542969,0 C4.25837891,0 3.78191406,0.192 3.41824219,0.4992 C3.05388672,0.192 2.57810547,0 2.05105469,0 C0.919707031,0 0.0002734375,0.86144 0.0002734375,1.92 L0.0002734375,7.04 C0.0002734375,10.18816 0.688652344,11.7248 2.80164063,13.13536 C2.77429688,18.63808 2.09275391,23.21664 1.68191406,25.9744 C1.491875,27.24544 1.36746094,28.08512 1.36746094,28.57088 C1.36746094,30.8224 3.08669922,32 4.78542969,32 C6.48347656,32 8.20339844,30.8224 8.20339844,28.57088 C8.20339844,28.08512 8.07830078,27.24544 7.88894531,25.9744 C7.47742188,23.21664 6.79587891,18.63808 6.76853516,13.13536 C8.88152344,11.7248 9.57058594,10.18816 9.57058594,7.04" id="Fill-1"></path>',i+='<g id="Group-5" transform="translate(14.166667, 0.000000)">',i+='\t<path fill="'+e+'" d="M4.29036458,30.784064 C2.82610677,30.784064 2.17122396,29.682624 2.17122396,28.590784 C2.17122396,28.206784 2.30247396,27.773504 2.4836263,27.173184 C2.90403646,25.785024 3.60677083,23.463104 3.60677083,18.560064 C3.60677083,17.579584 3.06263021,16.217024 1.53001302,15.604544 L1.48763021,15.587904 L1.4883138,15.545664 C1.49651693,11.020864 1.63938802,4.780224 2.7789388,2.837184 C3.49739583,1.612224 4.56790365,1.216064 4.97395833,1.216064 C5.64046224,1.216064 5.72591146,1.592384 5.72591146,1.920064 L5.72591146,18.560064 C5.72591146,23.402304 6.05677083,25.692864 6.25432943,27.061184 C6.3445638,27.686464 6.40950521,28.135744 6.40950521,28.560704 C6.40950521,29.667264 5.7546224,30.784064 4.29036458,30.784064 M7.54153646,26.898624 C7.33577474,25.471424 7.02473958,23.315264 7.02473958,18.560064 L7.02473958,1.920064 C7.02473958,0.771264 6.20032552,6.4e-05 4.97395833,6.4e-05 C4.0046224,6.4e-05 2.54788411,0.704704 1.64007161,2.252224 C0.622884115,3.987264 0.188802083,8.099264 0.188802083,16.000064 C0.188802083,16.288704 0.39593099,16.542144 0.693294271,16.617664 C1.88479818,16.920384 2.30794271,17.852864 2.30794271,18.560064 C2.30794271,23.294784 1.66126302,25.429824 1.23401693,26.842304 C1.03167318,27.510464 0.872395833,28.037824 0.872395833,28.590784 C0.872395833,30.566464 2.30999349,32.000064 4.29036458,32.000064 C6.27073568,32.000064 7.70833333,30.553664 7.70833333,28.560704 C7.70833333,28.053184 7.63792318,27.568704 7.54153646,26.898624" id="Fill-3"></path>',i+="</g>";break;case"relax":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M16,1.21506825 C14.20032,1.21506825 12.736,2.67795825 12.736,4.47588075 C12.736,6.27380325 14.20032,7.73605387 16,7.73605387 C17.80032,7.73605387 19.264,6.27380325 19.264,4.47588075 C19.264,2.67795825 17.80032,1.21506825 16,1.21506825 M16,8.95150575 C13.53024,8.95150575 11.52,6.94322887 11.52,4.47588075 C11.52,2.00789325 13.53024,0.00025575 16,0.00025575 C18.46976,0.00025575 20.48,2.00789325 20.48,4.47588075 C20.48,6.94322887 18.46976,8.95150575 16,8.95150575" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M30.722496,23.3028531 C30.612416,23.5515699 30.351296,23.7184468 30.073536,23.7184468 C29.976896,23.7184468 29.882816,23.6986262 29.793856,23.6589849 L24.034496,21.1027637 C23.862336,21.0253993 23.730496,20.8872943 23.663296,20.7114662 L21.685696,15.5747274 C21.601216,15.3535037 21.388096,15.2051687 21.155776,15.2051687 C20.838336,15.2326618 20.627136,15.4263924 20.581056,15.6789456 L19.272896,22.9153918 C19.225536,23.1807324 19.365056,23.4396793 19.612096,23.5458156 L27.766336,27.0540662 C28.479936,27.3890987 28.863936,28.1889568 28.863936,28.7720668 C28.863936,29.8647587 27.973696,30.7534899 26.879936,30.7534899 L19.373376,30.7534899 L19.430976,30.6569443 C19.637056,30.3155181 19.751616,29.9408443 19.773376,29.5444318 C19.808576,28.8526281 19.566016,28.1953506 19.090496,27.6940806 C18.621376,27.2011224 17.961536,26.9172399 17.279936,26.9172399 L10.239936,26.9172399 C9.922496,26.9172399 9.663936,27.1761868 9.663936,27.4933168 C9.663936,27.8104468 9.922496,28.0687543 10.239936,28.0687543 L17.279936,28.0687543 C17.651776,28.0687543 17.997376,28.2170893 18.254656,28.4862662 C18.511296,28.7567218 18.641856,29.1109356 18.622016,29.4836912 C18.584896,30.1844462 17.934656,30.7534899 17.171136,30.7534899 L5.119936,30.7534899 C4.026176,30.7534899 3.135936,29.8647587 3.135936,28.7720668 C3.135936,28.1895962 3.512896,27.3922956 4.212416,27.0630174 L12.387776,23.5458156 C12.634816,23.4396793 12.774336,23.1807324 12.726976,22.9153918 L11.418816,15.6789456 C11.373376,15.4263924 11.162176,15.2326618 10.905536,15.2090049 C10.881856,15.2058081 10.860096,15.2045293 10.838336,15.2045293 C10.609216,15.2045293 10.398656,15.3528643 10.314176,15.5747274 L8.336576,20.7114662 C8.269376,20.8872943 8.137536,21.0253993 7.965376,21.1027637 L2.205376,23.6602637 C2.117696,23.6986262 2.023616,23.7184468 1.926976,23.7184468 C1.648576,23.7184468 1.387456,23.5515699 1.276096,23.3022137 C1.237056,23.2133406 1.216576,23.1187131 1.215936,23.0196099 C1.215296,22.7402031 1.379136,22.4876499 1.634496,22.3744806 L6.909376,20.0318106 C7.048256,19.9704306 7.158976,19.8540643 7.212736,19.7134018 L9.918016,12.7128849 C10.211776,11.9545862 10.955456,11.4450043 11.769536,11.4450043 L20.230336,11.4450043 C21.044416,11.4450043 21.788096,11.9545862 22.081856,12.7135243 L24.787776,19.7134018 C24.841536,19.8540643 24.951616,19.9704306 25.090496,20.0318106 L30.366016,22.3744806 C30.620736,22.4876499 30.785216,22.7402031 30.783936,23.0183312 C30.783296,23.1187131 30.762176,23.2139799 30.722496,23.3028531 M30.860096,21.2645256 L25.826496,19.0286312 L23.215936,12.2761918 C22.743616,11.0524281 21.544256,10.2301918 20.230336,10.2301918 L11.769536,10.2301918 C10.455616,10.2301918 9.256256,11.0524281 8.784576,12.2755524 L6.174016,19.0286312 L1.139776,21.2645256 C0.445376,21.5733437 -0.001984,22.2632293 -6.4e-05,23.0234462 C0.001216,23.2913443 0.056896,23.5522093 0.165696,23.7958112 C0.473536,24.4882543 1.162176,24.9358168 1.920576,24.9358168 C2.190656,24.9358168 2.453056,24.8795518 2.700096,24.7695793 L8.459456,22.2127187 C8.927936,22.0042824 9.287616,21.6264118 9.471936,21.1481593 L10.629056,18.1430968 L11.439936,22.6308699 L3.715136,25.9549806 C2.657856,26.4511356 1.919936,27.6090437 1.919936,28.7720668 C1.919936,30.5348237 3.355456,31.9689418 5.119936,31.9689418 L26.879936,31.9689418 C28.644416,31.9689418 30.079936,30.5348237 30.079936,28.7720668 C30.079936,27.6090437 29.342016,26.4511356 28.266176,25.9473081 L20.559936,22.6308699 L21.371456,18.1430968 L22.527936,21.1481593 C22.712256,21.6264118 23.071936,22.0042824 23.540416,22.2127187 L29.299136,24.7689399 C29.546816,24.8795518 29.809216,24.9358168 30.079296,24.9358168 C30.837696,24.9358168 31.526336,24.4882543 31.833536,23.7964506 C31.942976,23.5522093 31.998656,23.2913443 31.999936,23.0228068 C32.001856,22.2632293 31.554496,21.5733437 30.860096,21.2645256" id="Fill-3"></path>';break;case"bus":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M24.857067,21.8121384 C24.1374549,21.8121384 23.552071,21.2267545 23.552071,20.5071424 C23.552071,19.7875303 24.1374549,19.2021464 24.857067,19.2021464 C25.5760576,19.2021464 26.162063,19.7875303 26.162063,20.5071424 C26.162063,21.2267545 25.5760576,21.8121384 24.857067,21.8121384 M24.857067,18.0214357 C23.4861997,18.0214357 22.3713603,19.1362752 22.3713603,20.5071424 C22.3713603,21.8773882 23.4861997,22.9928491 24.857067,22.9928491 C26.2279342,22.9928491 27.3427737,21.8773882 27.3427737,20.5071424 C27.3427737,19.1362752 26.2279342,18.0214357 24.857067,18.0214357" id="Fill-1"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M4.97141339,21.8121384 C4.25180131,21.8121384 3.66641738,21.2267545 3.66641738,20.5071424 C3.66641738,19.7875303 4.25180131,19.2021464 4.97141339,19.2021464 C5.69040406,19.2021464 6.27640941,19.7875303 6.27640941,20.5071424 C6.27640941,21.2267545 5.69040406,21.8121384 4.97141339,21.8121384 M4.97141339,18.0214357 C3.60054615,18.0214357 2.4857067,19.1362752 2.4857067,20.5071424 C2.4857067,21.8773882 3.60054615,22.9928491 4.97141339,22.9928491 C6.34228064,22.9928491 7.45712009,21.8773882 7.45712009,20.5071424 C7.45712009,19.1362752 6.34228064,18.0214357 4.97141339,18.0214357" id="Fill-3"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M11.1856801,3.72856005 L18.6428002,3.72856005 C18.9864492,3.72856005 19.2642269,3.4501609 19.2642269,3.10713337 C19.2642269,2.76410585 18.9864492,2.4857067 18.6428002,2.4857067 L11.1856801,2.4857067 C10.8420312,2.4857067 10.5642535,2.76410585 10.5642535,3.10713337 C10.5642535,3.4501609 10.8420312,3.72856005 11.1856801,3.72856005" id="Fill-5"></path>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M27.9642003,26.0999203 L1.86428002,26.0999203 C1.5212525,26.0999203 1.24285335,25.8208997 1.24285335,25.4784936 L1.24036764,16.7785202 L28.585627,16.7785202 L28.585627,25.4784936 C28.585627,25.8208997 28.3072279,26.0999203 27.9642003,26.0999203 Z M26.721347,29.8284804 L24.857067,29.8284804 C24.5140394,29.8284804 24.2356403,29.5494598 24.2356403,29.2070537 L24.2356403,27.3427737 L27.3427737,27.3427737 L27.3427737,29.2070537 C27.3427737,29.5494598 27.0643745,29.8284804 26.721347,29.8284804 Z M5.59284007,29.2070537 C5.59284007,29.5494598 5.31444092,29.8284804 4.97141339,29.8284804 L3.10713337,29.8284804 C2.76410585,29.8284804 2.4857067,29.5494598 2.4857067,29.2070537 L2.4857067,27.3427737 L5.59284007,27.3427737 L5.59284007,29.2070537 Z M2.07867223,6.21426674 L27.7504296,6.21426674 L28.585627,15.5356669 L1.24533906,15.5356669 L2.07867223,6.21426674 Z M14.9142402,1.18071068 C26.073199,1.18071068 27.4639519,3.10713337 27.5434945,3.90193809 L27.6398156,4.97141339 L2.18928617,4.97141339 L2.28436445,3.90877378 C2.3645285,3.10713337 3.75528139,1.18071068 14.9142402,1.18071068 Z M29.8284804,25.4784936 L29.8259947,15.4803599 L28.780755,3.78510987 C28.6185626,2.16007912 27.0040961,0 14.9142402,0 C2.82438423,0 1.20991773,2.16007912 1.04710395,3.79194557 L0,15.5356669 L0,25.4784936 C0,26.2875912 0.52137698,26.9705391 1.24285335,27.2284312 L1.24285335,29.2070537 C1.24285335,30.2348934 2.07929365,31.0713337 3.10713337,31.0713337 L4.97141339,31.0713337 C5.99925311,31.0713337 6.83569342,30.2348934 6.83569342,29.2070537 L6.83569342,27.3427737 L22.9927869,27.3427737 L22.9927869,29.2070537 C22.9927869,30.2348934 23.8292273,31.0713337 24.857067,31.0713337 L26.721347,31.0713337 C27.7491867,31.0713337 28.585627,30.2348934 28.585627,29.2070537 L28.585627,27.2284312 C29.3071034,26.9705391 29.8284804,26.2875912 29.8284804,25.4784936 Z" id="Fill-7"></path>';break;case"cocktail":i+='<mask id="mask-2" fill="white">',i+='\t<polygon id="path-1" points="0 31.7094284 23.2967229 31.7094284 23.2967229 0 0 0"></polygon>',i+="</mask>",i+='<g id="Clip-2"></g>',i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M10.809097,11.0012303 L9.76398013,13.3244312 C9.61708135,13.6505854 9.76268587,14.033687 10.08884,14.1799387 C10.1749084,14.2187665 10.2648597,14.2368862 10.3535166,14.2368862 C10.6007208,14.2368862 10.8362765,14.0951645 10.9443474,13.8550788 L12.2282557,11.0012303 L17.7379307,11.0012303 L11.6484262,18.3959984 L5.55827452,11.0012303 L10.809097,11.0012303 Z M14.2369509,3.17094284 C15.3428981,3.17094284 16.2430576,4.07110233 16.2430576,5.17704953 C16.2430576,6.28299674 15.3428981,7.18315623 14.2369509,7.18315623 C13.1303566,7.18315623 12.2308442,6.28299674 12.2308442,5.17704953 C12.2308442,4.07110233 13.1303566,3.17094284 14.2369509,3.17094284 Z M23.0431122,6.59297258 C23.2120134,6.36453527 23.2967876,6.09532869 23.2967876,5.82418072 C23.2967876,5.62551145 23.2514884,5.42684217 23.1576544,5.24111552 C22.9363355,4.80236057 22.4943449,4.52991834 22.0025252,4.52991834 L19.4140005,4.52991834 C19.0561369,4.52991834 18.7668693,4.81918598 18.7668693,5.17704953 C18.7668693,5.53491308 19.0561369,5.82418072 19.4140005,5.82418072 L22.0238806,5.79635408 L18.8037557,9.70696787 L12.8106738,9.70696787 L13.442921,8.30204606 C13.6978906,8.36805344 13.961273,8.41270549 14.2369509,8.41270549 C16.0210916,8.41270549 17.4726069,6.96119023 17.4726069,5.17704953 C17.4726069,4.06592528 16.9089556,3.08487439 16.0534482,2.50180919 L16.7685281,0.91245498 C16.9154269,0.586947991 16.7698224,0.203199194 16.4436683,0.0569475449 C16.3575998,0.0181196734 16.2670015,0 16.1783445,0 C15.9317875,0.000647131192 15.6955846,0.142368862 15.5881609,0.381807403 L14.8575497,2.0041653 C14.6562919,1.9646903 14.44921,1.94139357 14.2369509,1.94139357 C12.4528102,1.94139357 11.001295,3.39290884 11.001295,5.17704953 C11.001295,6.22151928 11.5073516,7.14303409 12.2787319,7.73515913 L11.3915151,9.70696787 L4.49244944,9.70696787 L1.2943271,5.82418072 L9.05990139,5.82418072 C9.41776494,5.82418072 9.70703259,5.53491308 9.70703259,5.17704953 C9.70703259,4.81918598 9.41776494,4.52991834 9.05990139,4.52991834 L1.2943271,4.52991834 C0.802507391,4.52991834 0.360516787,4.80236057 0.139197919,5.24111552 C0.0440696341,5.4294307 -0.00317094284,5.63133563 6.47131192e-05,5.83453482 C0.00394750027,6.10632992 0.0951929983,6.37812502 0.274448338,6.61950496 L11.001295,19.6456087 L11.001295,30.415166 L5.17711425,30.415166 C4.8192507,30.415166 4.52998305,30.7044336 4.52998305,31.0622972 C4.52998305,31.4201607 4.8192507,31.7094284 5.17711425,31.7094284 L18.1197381,31.7094284 C18.4776016,31.7094284 18.7668693,31.4201607 18.7668693,31.0622972 C18.7668693,30.7044336 18.4776016,30.415166 18.1197381,30.415166 L12.2955574,30.415166 L12.2955574,19.6456087 L23.0431122,6.59297258 Z" id="Fill-1" fill="#000000" mask="url(#mask-2)"></path>';break;case"shopping":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M25.5802734,30.0568213 C25.5802734,30.4091896 25.2937744,30.6963281 24.9407666,30.6963281 L1.91852051,30.6963281 C1.56551273,30.6963281 1.27901367,30.4091896 1.27901367,30.0568213 L1.27901367,8.31358887 C1.27901367,7.9612206 1.56551273,7.67408203 1.91852051,7.67408203 L7.0345752,7.67408203 L7.0345752,9.1302391 C6.65406863,9.35214797 6.39506836,9.76015333 6.39506836,10.2321094 C6.39506836,10.9381249 6.96806648,11.511123 7.67408203,11.511123 C8.38009758,11.511123 8.9530957,10.9381249 8.9530957,10.2321094 C8.9530957,9.76015333 8.69409543,9.35214797 8.31358887,9.1302391 L8.31358887,7.67408203 L18.5456982,7.67408203 L18.5456982,9.1302391 C18.1651917,9.35214797 17.9061914,9.76015333 17.9061914,10.2321094 C17.9061914,10.9381249 18.4791895,11.511123 19.1852051,11.511123 C19.8912206,11.511123 20.4642188,10.9381249 20.4642188,10.2321094 C20.4642188,9.76015333 20.2052185,9.35214797 19.8247119,9.1302391 L19.8247119,7.67408203 L24.9407666,7.67408203 C25.2937744,7.67408203 25.5802734,7.9612206 25.5802734,8.31358887 L25.5802734,30.0568213 Z M18.5456982,6.39506836 L8.31358887,6.39506836 C8.31358887,3.57420371 10.4719244,1.21506299 13.4296436,1.21506299 C16.3873627,1.21506299 18.5456982,3.57420371 18.5456982,6.39506836 Z M19.8247119,6.39506836 C19.8247119,2.86882767 16.9558842,0 13.4296436,0 C9.90340286,0 7.0345752,2.86882767 7.0345752,6.39506836 L1.91852051,6.39506836 C0.860776201,6.39506836 0,7.25584456 0,8.31358887 L0,30.0568213 C0,31.1145656 0.860776201,31.9753418 1.91852051,31.9753418 L24.9407666,31.9753418 C25.9985109,31.9753418 26.8592871,31.1145656 26.8592871,30.0568213 L26.8592871,8.31358887 C26.8592871,7.25584456 25.9985109,6.39506836 24.9407666,6.39506836 L19.8247119,6.39506836 Z" id="Page-1"></path>';break;case"coffee":i+='<path class="'+a+'ns-path-basic" fill="'+e+'" d="M12.6963121,31.7410977 C4.13772812,31.7410977 0.567525151,30.486702 0.4189783,30.4333775 C0.0895090004,30.314667 -0.0812563975,29.9509177 0.0380889363,29.6208136 C0.156164639,29.2907094 0.521183612,29.1218485 0.850652911,29.2399242 C0.884298139,29.2513509 4.40371586,30.534948 12.6963121,30.534948 C21.0346151,30.534948 24.5076913,29.2519857 24.5419713,29.2399242 C24.8733451,29.1205789 25.23519,29.2913443 25.3545353,29.6208136 C25.4738806,29.9509177 25.3031152,30.314667 24.9736459,30.4333775 C24.8250991,30.486702 21.2548961,31.7410977 12.6963121,31.7410977" id="Fill-1" fill="#000000"></path>',i+='<g id="Group-5" transform="translate(1.269631, 11.426998)">',i+='\t<mask id="mask-2" fill="white">',i+='\t\t<polygon id="path-1" points="28.5667023 -6.34815606e-05 28.5667023 17.7747735 0.000317407803 17.7747735 0.000317407803 -6.34815606e-05"></polygon>',i+="\t</mask>",i+='\t<g id="Clip-4"></g>',i+='\t<path class="'+a+'ns-path-basic" fill="'+e+'" d="M19.7195946,14.0090473 L19.59771,14.0141258 L19.663096,13.9112857 C21.3110773,11.3237773 22.3197993,8.13700295 22.6594256,4.44110649 L22.665139,4.38270346 L22.7229072,4.38333827 C25.8436607,4.41507906 27.3602352,5.78437632 27.3602352,8.56994719 C27.3602352,11.7135541 24.4324656,13.7976537 19.7195946,14.0090473 M18.6194591,13.4002591 C17.4063265,15.2710607 16.1938287,16.2309019 15.7291437,16.5571971 L15.7126385,16.5686238 L7.16040262,16.5686238 C6.13581024,15.8671526 1.20646706,11.9014595 1.20646706,1.60157629 C1.20646706,1.38319972 1.37723246,1.20608617 1.58799124,1.20608617 L21.2660054,1.20608617 C21.4761293,1.20608617 21.6468947,1.38319972 21.6468947,1.60157629 C21.6468947,7.49266511 20.0001831,11.269818 18.6194591,13.4002591 M22.8105117,3.1803627 C22.8359044,2.66870132 22.8536792,2.14624808 22.8536792,1.60157629 C22.8536792,0.717912968 22.1407813,-6.34815606e-05 21.2660054,-6.34815606e-05 L1.58799124,-6.34815606e-05 C0.712580517,-6.34815606e-05 0.000317407803,0.717912968 0.000317407803,1.60157629 C0.000317407803,13.5938779 6.3745009,17.5240213 6.64493235,17.6858993 C6.74396359,17.7443023 6.85569113,17.7747735 6.96995794,17.7747735 L15.8834039,17.7747735 C15.9976707,17.7747735 16.1093982,17.7443023 16.2084294,17.6858993 C16.3207918,17.6186088 17.4812347,16.901902 18.8010164,15.2355111 L18.9387714,15.2355111 C24.6978185,15.2355111 28.5670197,12.5565892 28.5670197,8.56994719 C28.5670197,5.15083034 26.5222786,3.24574871 22.8105117,3.1803627" id="Fill-3" fill="#000000" mask="url(#mask-2)"></path>',i+="</g>",i+='<g id="Group-8" transform="translate(7.617787, 0.000317)">',i+='\t<mask id="mask-4" fill="white">',i+='\t\t<polygon id="path-3" points="-0.000221422829 0 2.5394169 0 2.5394169 10.1573671 -0.000221422829 10.1573671 -0.000221422829 0"></polygon>',i+="\t</mask>",i+='\t<g id="Clip-7"></g>',i+='\t<path class="'+a+'ns-path-basic" fill="'+e+'" d="M0.634815606,10.1573671 C0.384698257,10.1573671 0.147912036,10.0088202 0.0476111704,9.76314661 C-0.0857001068,9.43939065 0.069194901,9.06865833 0.393585675,8.93534706 C0.420882746,8.92265074 1.26963121,8.52589099 1.26963121,7.21309232 C1.26963121,6.53574407 1.00808718,6.00249896 0.705280138,5.38418856 C0.374541207,4.70937957 1.80790712e-17,3.94506158 1.80790712e-17,2.94395737 C1.80790712e-17,0.755747978 1.59529162,0.0758604649 1.66321689,0.0479285782 C1.98570321,-0.0860175146 2.35897479,0.0688774932 2.49165125,0.393903083 C2.6236929,0.71511978 2.47260678,1.08267802 2.15392935,1.21852855 C2.10250929,1.24265155 1.26963121,1.64385501 1.26963121,2.94395737 C1.26963121,3.65050714 1.53625377,4.19517893 1.84540897,4.82555083 C2.17043456,5.48893313 2.53926242,6.24182444 2.53926242,7.21309232 C2.53926242,9.40130171 0.943970805,10.0811892 0.876045536,10.1091211 C0.797328401,10.1421315 0.715437187,10.1573671 0.634815606,10.1573671" id="Fill-6" fill="#000000" mask="url(#mask-4)"></path>',i+="</g>",i+='<g id="Group-11" transform="translate(11.426681, 0.000317)">',i+='\t<mask id="mask-6" fill="white">',i+='\t\t<polygon id="path-5" points="-0.000221422829 0 2.5394169 0 2.5394169 10.1573671 -0.000221422829 10.1573671 -0.000221422829 0"></polygon>',i+="\t</mask>",i+='\t<g id="Clip-10"></g>',i+='\t<path class="'+a+'ns-path-basic" fill="'+e+'" d="M0.634815606,10.1573671 C0.384698257,10.1573671 0.147912036,10.0088202 0.0476111704,9.76314661 C-0.0857001068,9.43939065 0.069194901,9.06865833 0.393585675,8.93534706 C0.420882746,8.92265074 1.26963121,8.52589099 1.26963121,7.21309232 C1.26963121,6.53574407 1.00808718,6.00249896 0.705280138,5.38418856 C0.374541207,4.70937957 -8.1117296e-16,3.94506158 -8.1117296e-16,2.94395737 C-8.1117296e-16,0.755747978 1.59529162,0.0758604649 1.66321689,0.0479285782 C1.98697285,-0.0860175146 2.35897479,0.0688774932 2.49165125,0.393903083 C2.6236929,0.71511978 2.47260678,1.08267802 2.15392935,1.21852855 C2.10250929,1.24265155 1.26963121,1.64385501 1.26963121,2.94395737 C1.26963121,3.65050714 1.53625377,4.19517893 1.84540897,4.82555083 C2.17043456,5.48893313 2.53926242,6.24182444 2.53926242,7.21309232 C2.53926242,9.40130171 0.943970805,10.0811892 0.876045536,10.1091211 C0.797328401,10.1421315 0.715437187,10.1573671 0.634815606,10.1573671" id="Fill-9" fill="#000000" mask="url(#mask-6)"></path>',i+="</g>",i+='<g id="Group-14" transform="translate(15.235575, 0.000317)">',i+='\t<mask id="mask-8" fill="white">',i+='\t\t<polygon id="path-7" points="-0.000221422829 0 2.5394169 0 2.5394169 10.1573671 -0.000221422829 10.1573671 -0.000221422829 0"></polygon>',i+="\t</mask>",i+='\t<g id="Clip-13"></g>',i+='\t<path class="'+a+'ns-path-basic" fill="'+e+'" d="M0.634815606,10.1573671 C0.384698257,10.1573671 0.147912036,10.0088202 0.0476111704,9.76314661 C-0.0857001068,9.43939065 0.069194901,9.06865833 0.393585675,8.93534706 C0.420882746,8.92265074 1.26963121,8.52589099 1.26963121,7.21309232 C1.26963121,6.53574407 1.00808718,6.00249896 0.705280138,5.38418856 C0.374541207,4.70937957 -8.09817708e-16,3.94506158 -8.09817708e-16,2.94395737 C-8.09817708e-16,0.755747978 1.59529162,0.0758604649 1.66321689,0.0479285782 C1.98697285,-0.0860175146 2.35897479,0.0688774932 2.49165125,0.393903083 C2.6236929,0.71511978 2.47260678,1.08267802 2.15392935,1.21852855 C2.10250929,1.24265155 1.26963121,1.64385501 1.26963121,2.94395737 C1.26963121,3.65050714 1.53625377,4.19517893 1.84540897,4.82555083 C2.17043456,5.48893313 2.53926242,6.24182444 2.53926242,7.21309232 C2.53926242,9.40130171 0.943970805,10.0811892 0.876045536,10.1091211 C0.797328401,10.1421315 0.715437187,10.1573671 0.634815606,10.1573671" id="Fill-12" fill="#000000" mask="url(#mask-8)"></path>',i+="</g>"}return i},h.thn?h.thn.NotificationFx=a:h.NotificationFx=a}(window),function(t){"use strict";var u="input is invalid type",e="object"==typeof window,a=e?window:{};a.JS_SHA256_NO_WINDOW&&(e=!1),!e&&"object"==typeof self&&(a=self);var p=!a.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),i=[-2147483648,8388608,32768,128],d=[24,16,8,0],w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=["hex","array","digest","arrayBuffer"],r=[];!p||!a.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var o=function(e,a){return function(t){return new _(a,!0).update(t)[e]()}},s=function(t){var e=o("hex",t);e.create=function(){return new _(t)},e.update=function(t){return e.create().update(t)};for(var a=0;a<n.length;++a){var i=n[a];e[i]=o(i,t)}return e},c=function(a,i){return function(t,e){return new g(t,i,!0).update(e)[a]()}},h=function(e){var a=c("hex",e);a.create=function(t){return new g(t,e)},a.update=function(t,e){return a.create(t).update(e)};for(var t=0;t<n.length;++t){var i=n[t];a[i]=c(i,e)}return a};function _(t,e){e?(r[0]=r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0,this.blocks=r):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function g(t,e,a){var i,n=typeof t;if("string"===n){var r,o=[],s=t.length,d=0;for(i=0;i<s;++i)(r=t.charCodeAt(i))<128?o[d++]=r:(r<2048?o[d++]=192|r>>6:(r<55296||57344<=r?o[d++]=224|r>>12:(r=65536+((1023&r)<<10|1023&t.charCodeAt(++i)),o[d++]=240|r>>18,o[d++]=128|r>>12&63),o[d++]=128|r>>6&63),o[d++]=128|63&r);t=o}else{if("object"!==n)throw new Error(u);if(null===t)throw new Error(u);if(p&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||p&&ArrayBuffer.isView(t)))throw new Error(u)}64<t.length&&(t=new _(e,!0).update(t).array());var l=[],c=[];for(i=0;i<64;++i){var h=t[i]||0;l[i]=92^h,c[i]=54^h}_.call(this,e,a),this.update(c),this.oKeyPad=l,this.inner=!0,this.sharedMemory=a}_.prototype.update=function(t){if(!this.finalized){var e,a=typeof t;if("string"!==a){if("object"!==a)throw new Error(u);if(null===t)throw new Error(u);if(p&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||p&&ArrayBuffer.isView(t)))throw new Error(u);e=!0}for(var i,n,r=0,o=t.length,s=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(n=this.start;r<o&&n<64;++r)s[n>>2]|=t[r]<<d[3&n++];else for(n=this.start;r<o&&n<64;++r)(i=t.charCodeAt(r))<128?s[n>>2]|=i<<d[3&n++]:(i<2048?s[n>>2]|=(192|i>>6)<<d[3&n++]:(i<55296||57344<=i?s[n>>2]|=(224|i>>12)<<d[3&n++]:(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),s[n>>2]|=(240|i>>18)<<d[3&n++],s[n>>2]|=(128|i>>12&63)<<d[3&n++]),s[n>>2]|=(128|i>>6&63)<<d[3&n++]),s[n>>2]|=(128|63&i)<<d[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,64<=n?(this.block=s[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=i[3&e],this.block=t[16],56<=e&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},_.prototype.hash=function(){var t,e,a,i,n,r,o,s,d,l=this.h0,c=this.h1,h=this.h2,u=this.h3,p=this.h4,_=this.h5,g=this.h6,f=this.h7,m=this.blocks;for(t=16;t<64;++t)e=((n=m[t-15])>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,a=((n=m[t-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,m[t]=m[t-16]+e+m[t-7]+a<<0;for(d=c&h,t=0;t<64;t+=4)this.first?(this.is224?(r=300032,f=(n=m[0]-1413257819)-150054599<<0,u=n+24177077<<0):(r=704751109,f=(n=m[0]-210244248)-1521486534<<0,u=n+143694565<<0),this.first=!1):(e=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),i=(r=l&c)^l&h^d,f=u+(n=f+(a=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&_^~p&g)+w[t]+m[t])<<0,u=n+(e+i)<<0),e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),i=(o=u&l)^u&c^r,g=h+(n=g+(a=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&_)+w[t+1]+m[t+1])<<0,e=((h=n+(e+i)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),i=(s=h&u)^h&l^o,_=c+(n=_+(a=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&f^~g&p)+w[t+2]+m[t+2])<<0,e=((c=n+(e+i)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),i=(d=c&h)^c&u^s,p=l+(n=p+(a=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&g^~_&f)+w[t+3]+m[t+3])<<0,l=n+(e+i)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+c<<0,this.h2=this.h2+h<<0,this.h3=this.h3+u<<0,this.h4=this.h4+p<<0,this.h5=this.h5+_<<0,this.h6=this.h6+g<<0,this.h7=this.h7+f<<0},_.prototype.toString=_.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,a=this.h2,i=this.h3,n=this.h4,r=this.h5,o=this.h6,s=this.h7,d=l[t>>28&15]+l[t>>24&15]+l[t>>20&15]+l[t>>16&15]+l[t>>12&15]+l[t>>8&15]+l[t>>4&15]+l[15&t]+l[e>>28&15]+l[e>>24&15]+l[e>>20&15]+l[e>>16&15]+l[e>>12&15]+l[e>>8&15]+l[e>>4&15]+l[15&e]+l[a>>28&15]+l[a>>24&15]+l[a>>20&15]+l[a>>16&15]+l[a>>12&15]+l[a>>8&15]+l[a>>4&15]+l[15&a]+l[i>>28&15]+l[i>>24&15]+l[i>>20&15]+l[i>>16&15]+l[i>>12&15]+l[i>>8&15]+l[i>>4&15]+l[15&i]+l[n>>28&15]+l[n>>24&15]+l[n>>20&15]+l[n>>16&15]+l[n>>12&15]+l[n>>8&15]+l[n>>4&15]+l[15&n]+l[r>>28&15]+l[r>>24&15]+l[r>>20&15]+l[r>>16&15]+l[r>>12&15]+l[r>>8&15]+l[r>>4&15]+l[15&r]+l[o>>28&15]+l[o>>24&15]+l[o>>20&15]+l[o>>16&15]+l[o>>12&15]+l[o>>8&15]+l[o>>4&15]+l[15&o];return this.is224||(d+=l[s>>28&15]+l[s>>24&15]+l[s>>20&15]+l[s>>16&15]+l[s>>12&15]+l[s>>8&15]+l[s>>4&15]+l[15&s]),d},_.prototype.array=_.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,a=this.h2,i=this.h3,n=this.h4,r=this.h5,o=this.h6,s=this.h7,d=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,a>>24&255,a>>16&255,a>>8&255,255&a,i>>24&255,i>>16&255,i>>8&255,255&i,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||d.push(s>>24&255,s>>16&255,s>>8&255,255&s),d},_.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},(g.prototype=new _).finalize=function(){if(_.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();_.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),_.prototype.finalize.call(this)}};var f=s();(f.sha256=f).sha224=s(!0),f.sha256.hmac=h(),f.sha224.hmac=h(!0),t.sha256=f.sha256,t.sha224=f.sha224}(window.thn),thn.add_log=function(t){var e;thn.data.log&&thn.data.log.push(t),thn.data.office&&(e=["[thn]"],thn.is_iframed()&&e.push("[iframe]"),console.log(e.join(""),t))},thn.info=function(){var t="color: #df421e",e=window.location.href;if(120<e.length){var a=e.length-120,i=Math.round(a/2),n=a-i,r=Math.round(e.length/2);e=e.substr(0,r-n)+"..."+e.substr(r+i)}console.log("%c*************** Script debug ***************",t),console.log("%c**  Version     : "+thn.data.version,t),console.log("%c**  Mode        : "+thn.data.mode,t),"hotel"===thn.data.mode?(console.log("%c**  Property id : "+thn.data.property_id,t),console.log("%c**  Hotel id    : "+thn.data.hotel_id,t),console.log("%c**  Hotel name  : "+thn.data.hotel_name,t)):console.log("%c**  Account key : "+thn.data.account_key,t),console.log("%c**  User id     : "+thn.data.account_user_id,t),console.log("%c**  Language    : "+thn.data.language,t),thn.data.page_name&&thn.data.page_id&&thn.data.page_type&&console.log("%c**  Page        : "+thn.data.page_name+" ("+thn.data.page_id+", "+thn.data.page_type+")",t),console.log("%c**  In iframe   : "+(thn.is_iframed()?"Yes":"No"),t),console.log("%c**  Location    : "+e,t),"Rooms and Rates"===thn.data.page_name?console.log("%c**  PW debug    : "+thn.widgets.price.data.debug_url,t):"Packages"===thn.data.page_name&&console.log("%c**  PWP debug   : "+thn.widgets.package.data.debug_url,t),console.log("%c********************************************",t),thn.data.child&&thn.data.child.postMessage({action:"thn_info"},"*")},thn.allowed_location||(thn.allowed_location=function(){var t=!0;return thn.engine&&thn.engine.allowed_location&&(t=thn.engine.allowed_location({})),t||(thn.add_log("*************** WARNING: Not Allowed Location! ***************"),thn.add_log("Location: "+window.location.toString())),t}),thn.parse_language||function(){var r=/^(ab|aa|af|ak|sq|am|ar|an|hy|as|av|ae|ay|az|bm|ba|eu|be|bn|bh|bi|bs|br|bg|my|ca|ch|ce|ny|zh|cv|kw|co|cr|hr|cs|da|dv|nl|dz|en|eo|et|ee|fo|fj|fi|fr|ff|gl|ka|de|el|gn|gu|ht|ha|he|hz|hi|ho|hu|ia|id|ie|ga|ig|ik|io|is|it|iu|ja|jv|kl|kn|kr|ks|kk|km|ki|rw|ky|kv|kg|ko|ku|kj|la|lb|lg|li|ln|lo|lt|lu|lv|gv|mk|mg|ms|ml|mt|mi|mr|mh|mn|na|nv|nd|ne|ng|nb|nn|no|ii|nr|oc|oj|cu|om|or|os|pa|pi|fa|pl|ps|pt|qu|rm|rn|ro|ru|sa|sc|sd|se|sm|sg|sr|gd|sn|si|sk|sl|so|st|es|su|sw|ss|sv|ta|te|tg|th|ti|bo|tk|tl|tn|to|tr|ts|tt|tw|ty|ug|uk|ur|uz|ve|vi|vo|wa|cy|wo|fy|xh|yi|yo|za|zu)$/i,o=new RegExp("^/(\\w{2})(-\\w{2,4})?(/|$)","i"),s=function(t){(t=t||{}).attributes||(t.attributes=["lang"]);var e=document.getElementsByTagName("html")[0],a=t.attributes.map(function(t){return e.getAttribute(t)}).filter(function(t){return t});return 0===a.length?"":a[0].substr(0,2).toLowerCase()};thn.parse_language=function(){return new Promise(function(e,t){function a(t){return thn.data.language=t,e(t),thn.add_log("*************** Language Parsed ***************"),thn.add_log("Language: "+thn.data.language),t}function i(){var t=s();t&&r.test(t)?a(t):a("en")}if(thn.data.language)e(thn.data.language);else{var n={langs:r,url_re:o,get_html_lang:s};thn.engine&&thn.engine.parse_language?thn.engine.parse_language(n).then(function(t){a(t)},function(t){"no_language"===t&&thn.dom_ready().then(i)}):thn.dom_ready().then(i)}})}}(),thn.on_state_change||(thn.on_state_change=function(t){var e={detail:t.detail||{state:null,title:document.title,url:window.location.toString()}};thn.add_log("*************** State Changed ***************"),thn.add_log("State: "+JSON.stringify(e.detail.state)),thn.add_log("Title: "+e.detail.title),thn.add_log("URL: "+e.detail.url),thn.engine&&thn.engine.on_state_change?(thn.add_log("Handled: true"),thn.engine.on_state_change(e)):thn.add_log("Handled: false")}),thn.on_hash_change||(thn.on_hash_change=function(){thn.add_log("*************** Hash Changed ***************"),thn.add_log("Hash: "+window.location.hash),thn.engine&&thn.engine.on_hash_change?(thn.add_log("Handled: true"),thn.engine.on_hash_change({})):thn.add_log("Handled: false")}),thn.generic_page_observe_dom||(thn.generic_page_observe_dom=function(){thn.add_log("*************** Perform generic page observe DOM ***************"),thn.engine&&thn.engine.generic_page_observe_dom?(thn.add_log("Handled: true"),thn.engine.generic_page_observe_dom({})):thn.add_log("Handled: false")}),thn.is_user_logged||(thn.is_user_logged=function(){var t=!1;return thn.add_log("*************** Checking if user is logged ***************"),thn.engine&&thn.engine.is_user_logged?(thn.add_log("Handled: true"),t=thn.engine.is_user_logged({})):thn.add_log("Handled: false"),t}),thn.add_window_message_listener=function(t){thn.data.window_message_processors.push(t)},thn.remove_window_message_listener=function(t){var e=thn.data.window_message_processors.lastIndexOf(t);-1<e&&thn.data.window_message_processors.splice(e,1)},thn.window_message_processor||function(){function on_thn_ping(t){t.data&&"thn_ping"===t.data.action&&(thn.add_log("Ping from the child"),thn.data.child=t.source,thn.add_log("Pong to the child"),thn.data.child.postMessage({action:"thn_pong"},t.origin),thn.stop_awake_child_script())}function on_thn_pong(t){t.data&&"thn_pong"===t.data.action&&(thn.add_log("Pong from the parent"),thn.data.referrer=thn.widgets.price.data.referrer=t.origin,Object.keys(thn.widgets).forEach(function(t){var e=thn.widgets[t];e.data.hasOwnProperty("bubbles")&&(e.data.bubbles=!0)}),thn.widgets.price.is_set()&&(thn.add_log("Reshow Price Widget on the parent frame"),thn.widgets.price.remove(!1).show()),thn.widgets.exit.is_set()&&(thn.add_log("Reshow Exit Widget on the parent frame"),thn.widgets.exit.destroy(!1).load()))}function on_thn_awake(t){thn.is_iframed()&&t.data&&"thn_awake"===t.data.action&&(thn.add_log("Child script awakening ..."),thn.start({awakening:!0}))}function on_thn_awake_schedule(t){t.data&&"thn_awake_schedule"===t.data.action&&(thn.add_log("An unloading child script wants to schedule a new awakening ..."),setTimeout(thn.awake_child_script,800))}thn.window_message_processor=function(e){thn.data.window_message_events.push(e),thn.data.window_message_processors.forEach(function(t){setTimeout(function(){t.call(null,e)},0)})};var whitelist=["thn.widgets.price.data.status","thn.widgets.price.data.showed","thn.widgets.price.data.ab_test"];function on_thn_update_vars(event){var code;event.data&&"thn_update_vars"===event.data.action&&event.data.vars&&(thn.add_log("Updating vars from the companion script"),Object.keys(event.data.vars).forEach(function(key){thn.in_array(key,whitelist)&&(code=key+" = "+JSON.stringify(event.data.vars[key]),eval(code))}))}function on_thn_info(t){t.data&&"thn_info"===t.data.action&&thn.info()}thn.add_window_message_listener(on_thn_ping),thn.add_window_message_listener(on_thn_pong),thn.add_window_message_listener(on_thn_awake),thn.add_window_message_listener(on_thn_awake_schedule),thn.add_window_message_listener(on_thn_update_vars),thn.add_window_message_listener(on_thn_info)}(),thn.propagate_vars||function(){var whitelist=["thn.widgets.price.data.status","thn.widgets.price.data.showed","thn.widgets.price.data.ab_test"],base_msg="Propagating vars to the ";thn.propagate_vars=function thn_propagate_vars(vars){var data={},code,companion,msg;vars&&Array.isArray(vars)||(vars=["thn.widgets.price.data.status","thn.widgets.price.data.showed","thn.widgets.price.data.ab_test"]),thn.is_iframed()?(companion=window.parent,msg=base_msg+"parent script: "):(companion=thn.data.child,msg=base_msg+"child script: "),companion&&(vars.forEach(function(prop){thn.in_array(prop,whitelist)&&(code='data["'+prop+'"] = '+prop,eval(code))}),thn.add_log(msg+(window.JSON&&JSON.stringify(data)||data)),companion.postMessage({action:"thn_update_vars",vars:data},"*"))}}(),thn.booking_iframe_message_processor||(thn.booking_iframe_message_processor=function(t){var e,a,i,n;if(void 0!==t&&thn.data.booking_iframe_listening&&("string"==typeof t.data&&thn.is_json(t.data)&&(t.json=JSON.parse(t.data)),t&&t.data&&t.data.action&&thn.in_array(t.data.action,["show_price_widget","show_package_widget"])?(a=t.data.action.split("_")[1],thn.data.time=t.data.time,e={origin:"message",ab_test:t.data.ab_test,price:t.data.price,currency:t.data.currency,language:t.data.language||t.data.lang,date_begin:t.data.date_begin,date_end:t.data.date_end,guests:t.data.guests,adults:t.data.adults,children:t.data.children,rooms:t.data.rooms,property_id:t.data.property_id,hotel_id:t.data.hotel_id,page_id:t.data.page_id,page_name:t.data.page_name,position:t.data.position,mobile_position:t.data.mobile_position,format:t.data.format||t.data.wdgt_format,location:t.data.location,logged:t.data.logged,promocode:t.data.promocode,color:t.data.wdgt_color,min:t.data.wdgt_min,show_closed:t.data.show_closed,close_time:t.data.close_time,price_night:t.data.price_night,no_cheapest:t.data.no_cheapest,send_search:t.data.send_search,contact:t.data.contact,ss_custom_js_url:t.data.ss_custom_js_url,flight_origin:t.data.flight_origin,flight_destination:t.data.flight_destination},thn.add_log("Data: "+e.price+" "+e.currency+" - "+e.date_begin+" - "+e.date_end+" - "+e.guests+" Guests - "+e.rooms+" Rooms - "+(e.language||thn.data.language)+" --- Time: "+thn.data.time),thn.widgets[a].remove(!1),e.price&&e.date_begin&&e.date_end&&e.guests&&e.rooms&&e.currency&&(e.language||void 0!==thn.data.language)&&thn.widgets[a].update(e,{init:!0})):t&&t.data&&t.data.action&&thn.in_array(t.data.action,["after_show_price_widget","after_show_package_widget"])?(a=t.data.action.split("_")[2],thn.widgets[a].after_show(t.data.data)):t&&t.data&&t.data.action&&(n=t.data.action.match(/(remove|destroy|minimize|fix_ui|load|destroy)_(price|package|reviews|exit|welcome)_widget/))?(a=n[2],i=n[1],thn.widgets[a][i]()):t&&t.data&&t.data.action&&"show_reviews_widget"===t.data.action?(Object.assign(thn.widgets.reviews.data,t.data),thn.widgets.reviews.show()):t&&t.data&&t.data.action&&"delegate_exit_widget"===t.data.action?(thn.widgets.exit.destroy(),thn.widgets.exit.data.delegated=Object.assign({},t.data)):t&&t.data&&t.data.action&&"delegate_welcome_widget"===t.data.action?(thn.widgets.welcome.destroy(),thn.widgets.welcome.data.delegated=Object.assign({},t.data)):t&&t.data&&t.data.action&&"show_notes_widget"===t.data.action?thn.widgets.notes.show(Object.assign({},t.data,{state:JSON.parse(t.data.state)})):t&&t.data&&t.data.action&&"reset_notes_widget"===t.data.action&&thn.widgets.notes.reset(),thn.engine&&thn.engine.on_booking_iframe_message)){var r={event:t,data:e};thn.add_log("Handled: true"),thn.engine.on_booking_iframe_message(r)}},thn.add_window_message_listener(thn.booking_iframe_message_processor)),thn.booking_iframe_listen||(thn.booking_iframe_listen=function(){thn.data.booking_iframe_listening||(thn.add_log('Listening on "Booking Iframe" page'),thn.data.booking_iframe_listening=!0,thn.data.window_message_events.forEach(thn.booking_iframe_message_processor))}),thn.stop_awake_child_script||(thn.stop_awake_child_script=function(){thn.data.awakening&&(thn.add_log("******** Parent script do_thn_awake has been stopped *******"),clearInterval(thn.data.awakening),clearTimeout(thn.data.awakening_timeout),delete thn.data.awakening,delete thn.data.awakening_timeout)}),thn.awake_child_script||(thn.awake_child_script=function(){var e=new RegExp("https?://([^.]+\\.)*(facebook|twitter|google|addthis)\\.com","i");thn.data.awakening&&thn.stop_awake_child_script(),thn.data.awakening=setInterval(function(){Array.from(document.getElementsByTagName("iframe")).forEach(function(t){t.src.match(e)||t.contentWindow.postMessage({action:"thn_awake"},"*")})},400),thn.add_log("******** Parent script do_thn_awake has been started *******"),thn.data.awakening_timeout=setTimeout(thn.stop_awake_child_script,3e4)}),thn.get_payload||(thn.get_payload=function(t,e){var a={};switch(e=e||{},(t=t||{}).data=t.data||{},a.fingerprint=e.fingerprint||thn.data.fingerprint,a.visit_date=e.time||thn.data.time,a.token=e.token||thn.data.token,"hotel"===thn.data.mode||t.data.hotel_id&&t.data.property_id||e.hotel_id&&e.property_id?(a.hotel_id=e.hotel_id||t.data.hotel_id||thn.data.hotel_id,a.property_id=e.property_id||t.data.property_id||thn.data.property_id):"corporative"===thn.data.mode&&(a.corp_id=e.account_user_id||t.data.account_user_id||thn.data.account_user_id),a.account_key=e.account_key||t.data.account_key||thn.data.account_key,a.page_id=e.page_id||t.data.page_id||thn.data.page_id,a.page_name=e.page_name||t.data.page_name||thn.data.page_name,a.language=e.language||t.data.language||thn.data.language,t.type){case"mixpanel":a.showed=e.showed||t.data.showed||!1,a.ab_test=e.ab_test||t.data.ab_test||!1,a.status=e.status||t.data.status||"",delete a.fingerprint,delete a.visit_date,delete a.token,delete a.property_id;break;case"add_visit":a.showed=e.showed||t.data.showed?1:0,a.ab_test=e.ab_test||t.data.ab_test?1:0,a.status=e.status||t.data.status||"",a.page=e.page||"",a.thn_ref=thn.data.thn_ref,a.country=thn.data.country||"",a.ip=thn.data.ip||"",a.url=window.location.href,a.referrer=document.referrer,a.mobile=thn.data.mobile,a.tablet=thn.data.tablet}return a}),thn.mixpanel_track=function(t,e){var a,i;e=e||{},!thn.data.office&&thn.data.mixpanel&&window.mixpanel&&t&&"Index"!==t.substr(0,5)&&(i=Object.assign({},e,{page:t}),a=thn.get_payload({type:"mixpanel"},i),thn.add_log("Mixpanel Tracked"),window.mixpanel.track(t,a))},thn.get_last_search_state=function(){var t={showed:!1,status:void 0,ab_test:!1};return thn.data.user.last_search?{showed:!thn.empty(thn.data.user.last_search.showed),status:thn.data.user.last_search.status,ab_test:!thn.empty(thn.data.user.last_search.ab_test)}:t},thn.add_visit=function(t,e){var a,i,n=thn.get_last_search_state();void 0===(e=e||{}).showed&&(e.showed=thn.widgets.price.data.showed),void 0===e.status&&(e.status=thn.widgets.price.data.status),void 0===e.ab_test&&(e.ab_test=thn.widgets.price.data.ab_test),thn.data.user.last_search&&void 0===e.status&&thn.in_array(t,["register"])&&(thn.add_log("Picking up status form the last stored search"),e.showed=n.showed,e.ab_test=n.ab_test,void 0!==n.status&&(e.status=n.status)),thn.mixpanel_track(t,e),a=Object.assign({},e,{page:t}),i=thn.get_payload({type:"add_visit"},a),thn.ajax.post(thn.data.host+"/add_visit",i,function(t){thn.add_log(t)},!0),thn.add_log("*************** MixPanel && Visit ***************"),thn.add_log(t),thn.add_log(i),thn.add_log("Showed: "+e.showed+" - Status: "+e.status+" - ABTest:"+e.ab_test),"register"===t&&thn.data.rtrg_code&&thn.retargeting_criteo(),thn.retargeting_google(),thn.data.calculate_time&&thn.add_log("Execution time: "+(Math.floor((new Date).getTime()/1e3-(new Date).getTimezoneOffset())-thn.data.time)+" seconds")},thn.generate_search_url=function(t,e){var a=!thn.in_array(thn.data.page_name,["Rooms and Rates","Packages"])&&thn.data.user.last_search&&thn.data.user.last_search.url;e=e||thn.widgets.price.data.ss_custom_url||a||window.location.href;var i=Object.assign({},t);if(thn.is_numeric(i.date_begin)){var n=1e3*parseInt(i.date_begin,10);i.date_begin=thn.date_to_string(n,!0,"-")}else i.date_begin instanceof Date&&(i.date_begin=thn.date_to_string(i.date_begin,!1,"-"));if(thn.is_numeric(i.date_end)){n=1e3*parseInt(i.date_end,10);i.date_end=thn.date_to_string(n,!0,"-")}else i.date_end instanceof Date&&(i.date_end=thn.date_to_string(i.date_end,!1,"-"));var r={data:t,base_url:e,new_url:"",new_data:i};return thn.engine&&thn.engine.generate_search_url?r=thn.engine.generate_search_url(r):r.new_url=r.base_url,Object.keys(r.new_data).forEach(function(t){var e=r.new_data[t];null==e&&(e=""),r.new_url=r.new_url.replace("["+t+"]",e)}),r.new_url.match(new RegExp(/\[(date_begin|date_end|nights|language)\]/))&&(r.new_url=""),r.new_url},thn.generate_promocode_handler||(thn.generate_promocode_handler=function(t,e,a,i){var n,r,o,s,d,l,c={};return t=t||"",thn.empty(e)||thn.empty(a)?c.url="":(c.code=thn.trim(a),i.skip_POST||(r=(n=(n=document.querySelector&&document.querySelectorAll(e.map(function(t){return'input[name="'+t+'"][type=text], input[id="'+t+'"][type=text]'}).join(",")))&&n.length&&n[0])&&n.closest("form"),s=null),r&&"function"==typeof r.submit&&!i.skip_form_submit?s=r.submit.bind(r):n&&i.skip_form_submit&&(o=thn.nearest(n,"input[type=submit], input[type=button], button"))&&"function"==typeof o.click&&(s=o.click.bind(o)),d=new thn.Url(t),l=e.filter(function(t){return d.query[t]}),i.skip_GET||thn.empty(l)?n&&s?c.callback=function(){n.value=c.code,s();var t=setTimeout(function(){thn.page_check({force:!0})},5e3);thn.page_unload(function(){clearTimeout(t)})}:t&&!i.skip_GET?(d.query[e[0]]=c.code,c.url=d.decode(d.toString())):c.url="":(l.forEach(function(t){d.query[t]=c.code}),c.url=d.decode(d.toString()))),c}),thn.save_hotel_page_code=function(a){setTimeout(function(){var t;t="Booking Confirmed"===thn.data.page_name||a&&"booking-confirmed"===a?thn.widgets.booking.data:thn.widgets.price.data;var e={hotel_id:thn.data.hotel_id,property_id:thn.data.property_id,fingerprint:thn.data.fingerprint,page_id:t.page_id||thn.data.page_id,page:a&&"booking-confirmed"===a?"Booking Confirmed":thn.data.page_name,url:window.location.href,visit_date:thn.data.time,token:thn.data.token,code:document.documentElement.innerHTML,ip:void 0!==thn.data.ip?thn.data.ip:"",country:void 0!==thn.data.country?thn.data.country:""};"Booking Confirmed"===e.page&&(e.price=t.price||0,e.currency=t.currency||"EUR",e.date_begin=t.date_begin||"0",e.date_end=t.date_end||"0",e.rooms=t.rooms||thn.widgets.price.data.rooms||"",e.adults=t.adults||t.guests||thn.widgets.price.data.adults||thn.widgets.price.data.guests||"",e.children=t.children||thn.widgets.price.data.children||(e.adults?0:""),e.thn_ref=thn.data.thn_ref,e.booking_id=t.booking_id||""),thn.ajax.post(thn.data.host+"/add_widget_hotel_page_code",e,function(t){thn.add_log("************** CODE SENT ****************"),thn.add_log(t)},!0)},1e3)},thn.page_check_conditions=function thn_page_check_conditions(page){var regxp1=new RegExp(page.location,"i"),regxp2=new RegExp(page.parameters,"i");return!(!(null==page.location||""==page.location||null!=page.location&&(0<window.location.pathname.indexOf(page.location)||window.location.pathname===page.location||1<page.location.length&&null!=window.location.pathname.match(regxp1)))||null!=page.parameters&&""!=page.parameters&&(null==page.parameters||window.location.search.replace("?","")!==page.parameters&&null==window.location.search.match(regxp2))||!(null==page.conditions||""==page.conditions||null!=page.conditions&&eval(page.conditions)))},thn.page_check=function(t){var e,a={page_unload:0<thn.data.page_check_count,force:!1};thn.data.page_check_count+=1,t=Object.assign(a,t||{}),thn.data.pages.some(function(t){if(thn.page_check_conditions(t))return e=t,!0}),thn.data.thn_ref=thn.parse_url_parameter("thn_ref")||thn.parse_url_parameter("thn_ref",window.location.hash),!t.force&&e&&e.page_id===thn.data.page_id&&e.description===thn.data.page_name&&e.type===thn.data.page_type||(t.page_unload&&thn.page_unload(),thn.data.page_id=e&&e.page_id,thn.data.page_name=e&&e.description,thn.data.page_type=e&&e.type,e&&(thn.add_log("*************** Page detected ***************"),thn.add_log(e),thn.add_log("Page ID: "+e.page_id),thn.add_log("Page: "+e.description),thn.data.calculate_time&&thn.add_log("Execution time: "+(Math.floor((new Date).getTime()/1e3-(new Date).getTimezoneOffset())-thn.data.time)+" seconds"),thn.data.corporative_mobile_friendly&&"corporative"===thn.data.mode||thn.data.hotel_mobile_friendly&&thn.in_array(thn.data.page_type,["hotel_page","chain_page"])||thn.data.booking_system_mobile_friendly&&"booking_system_page"===thn.data.page_type?(thn.data.mobile=thn.mobile_and_tablet_check(),thn.data.tablet=thn.data.mobile&&!thn.mobile_check()):thn.data.mobile=!1),thn.page_process(e))},thn.page_process=function(t){if(t){switch(1==t.review_widget&&thn.widgets.reviews.show(),t.price_widget&&0<Object.keys(t.price_widget).length&&(thn.add_log("Price Widget Outside Rooms and Rates"),thn.widgets.price.update({price:parseFloat(t.price_widget.price),currency:t.price_widget.currency,rooms:parseInt(t.price_widget.rooms),adults:parseInt(t.price_widget.adults),children:parseInt(t.price_widget.children),date_begin:thn.date_to_string(new Date((new Date).setDate((new Date).getDate()+parseInt(t.price_widget.days_from)))),date_end:thn.date_to_string(new Date((new Date).setDate((new Date).getDate()+parseInt(t.price_widget.days_from)+parseInt(t.price_widget.nights)))),color:t.price_widget.wdgt_color,position:t.price_widget.wdgt_pstn,mobile_position:t.price_widget.mob_pstn,min:t.price_widget.wdgt_min,format:parseInt(t.price_widget.wdgt_format),show_closed:t.price_widget.show_closed,close_time:t.price_widget.close_time,price_night:t.price_widget.price_night,no_cheapest:t.price_widget.no_cheapest,send_search:t.price_widget.send_search,contact:t.price_widget.contact,cache:14400,online:1==t.price_widget.online,mobile_online:1==t.price_widget.mob_online,prc_pages_cache:t.price_widget.prc_pages_cache,mode:"manual",initialized:!0})),t.description){case"Calendar":thn.add_visit("calendar"),thn.in_array(thn.data.booking_system,[7,11,26,31,59,73,78,108,163])&&thn.generic_page_observe_dom();break;case"Rooms and Rates":thn.widgets.price.init();break;case"Packages":thn.widgets.package.init();break;case"User Register Page":thn.add_visit("register"),thn.in_array(thn.data.booking_system,[2,47])&&thn.is_iframed()&&setTimeout(thn.widgets.price.remove,1e3),thn.in_array(thn.data.booking_system,[99,108])&&thn.generic_page_observe_dom();break;case"Booking Confirmed":thn.widgets.booking.init();break;case"Booking Iframe":thn.booking_iframe_listen(),thn.awake_child_script();break;default:t.description&&thn.add_visit(t.description)}"Index"===t.description.substr(0,5)&&thn.data.rtrg_code&&thn.retargeting_criteo()}thn.widgets.chat.init().show(),!(null==thn.widgets.last_search.data.retrgt_from||thn.widgets.last_search.data.retrgt_from<=thn.data.days_since_last_visit)||!(null==thn.widgets.last_search.data.retrgt_to||thn.widgets.last_search.data.retrgt_to>=thn.data.days_since_last_visit)||t&&thn.in_array(t.description,["Rooms and Rates","Packages","User Register Page","Booking Confirmed"])||thn.data.mobile||thn.widgets.last_search.show(),3<=thn.data.hours_since_last_visit||null==thn.data.hours_since_last_visit||thn.in_array(thn.get_domain(document.referrer),thn.widgets.welcome.data.sources)?(thn.data.user.origin=1,setTimeout(function(){var e,t;try{e={hotel_id:thn.data.hotel_id,property_id:thn.data.property_id,fingerprint:thn.data.fingerprint,visit_date:thn.data.time,token:thn.data.token,ntw_booked:thn.data.visits.hotels_booked,ntw_visits:thn.data.visits.hotels_visited,ntw_chains:thn.data.visits.chains_visited,retargeting:0<thn.data.days_since_last_visit&&thn.data.days_since_last_visit<30?1:0,origin:thn.get_domain(document.referrer),device:thn.mobile_and_tablet_check()?thn.mobile_check()?2:3:1,ip:thn.data.ip,country:thn.data.country,browser:thn.data.jscd.browser,browser_major:thn.data.jscd.browserMajorVersion,browser_version:thn.data.jscd.browserVersion,os:thn.data.jscd.os,os_version:thn.data.jscd.osVersion,user_agent:window.navigator.userAgent}}catch(t){e={hotel_id:thn.data.hotel_id,property_id:thn.data.property_id,fingerprint:thn.data.fingerprint,visit_date:thn.data.time,token:thn.data.token}}thn.add_log("************** WIDGET ORIGIN SENT ****************"),t=thn.data.host+"/add_widget_visit_origin?"+thn.build_query(e),thn.add_log(t),thn.add_log(e),document.createElement("img").setAttribute("src",t)},1e3)):thn.data.user.origin=0,thn.widgets.campaigns.check_campaigns_array(thn.widgets.campaigns.data.campaigns),thn.data.days_since_last_visit=0,thn.data.hours_since_last_visit=0,thn.widgets.welcome.check_welcomes_array(thn.widgets.welcome.data.popups),thn.widgets.exit.check_exits_array(thn.widgets.exit.data.popups),thn.widgets.notes.check_notes_array(thn.widgets.notes.data.notes),thn.data.calculate_time&&thn.add_log("Execution time: "+(Math.floor((new Date).getTime()/1e3-(new Date).getTimezoneOffset())-thn.data.time)+" seconds")},thn.page_unload||(thn.page_unload=function(){var t;if(1===arguments.length&&"function"==typeof arguments[0])thn.data.page_unload_callbacks.push(arguments[0]);else for(thn.add_log("*** UNLOADING THE PAGE ("+thn.data.page_unload_callbacks.length+" callbacks) ***"),t=thn.data.page_unload_callbacks.shift();t;)t(),t=thn.data.page_unload_callbacks.shift()}),thn.retargeting_criteo||(thn.retargeting_criteo=function(){thn.add_log("*************** RETARGETING ACTIVATED ***************"),window.criteo_q=window.criteo_q||[],"Index"===thn.data.page_name.substr(0,5)?window.criteo_q.push({event:"setAccount",account:28799},{event:"setSiteType",type:"d"},{event:"viewHome",user_segment:"1"}):thn.in_array(thn.data.page_name,["Rooms and Rates","Packages"])?window.criteo_q.push({event:"setAccount",account:28799},{event:"setSiteType",type:"d"},{event:"viewItem",item:thn.data.property_id+"-"+("es"!==thn.data.language?"en":"es"),user_segment:"1"},{event:"viewSearch",checkin_date:thn.widgets.price.data.date_begin.replace(/\//g,"-"),checkout_date:thn.widgets.price.data.date_end.replace(/\//g,"-")}):"User Register Page"===thn.data.page_name?window.criteo_q.push({event:"setAccount",account:28799},{event:"setSiteType",type:"d"},{event:"viewBasket",item:[{id:thn.data.property_id+"-"+("es"!==thn.data.language?"en":"es"),price:1,quantity:1}]}):"Booking Confirmed"===thn.data.page_name&&window.criteo_q.push({event:"setAccount",account:28799},{event:"setSiteType",type:"d"},{event:"trackTransaction",id:thn.data.property_id+"-"+("es"!==thn.data.language?"en":"es")+"-"+(""!=thn.widgets.booking.data.booking_id?thn.widgets.booking.data.booking_id:"NA"),user_segment:"13",currency:thn.widgets.booking.data.currency,item:[{id:thn.data.property_id+"-"+("es"!==thn.data.language?"en":"es"),price:thn.widgets.booking.data.price,quantity:1}]})}),thn.retargeting_google||(thn.retargeting_google=function(){var t;thn.data.rtrg_google&&(thn.data.office&&console.log("*************** RETARGETING GOOGLE ***************"),thn.get_script("//www.googleadservices.com/pagead/conversion_async.js",function(){t={google_conversion_id:932798970,google_custom_params:{hotel_id:thn.data.hotel_id,hotel_name:thn.data.hotel_name,hotel_location:thn.data.hotel_location,page_id:void 0!==thn.data.page_id?thn.data.page_id:null,page_name:void 0!==thn.data.page_name?thn.data.page_name:null},google_remarketing_only:!0},"Booking Confirmed"===(void 0!==thn.data.page_name?thn.data.page_name:null)&&(t.google_conversion_language=thn.data.language,t.google_conversion_format=3,t.google_conversion_color="ffffff",t.google_conversion_label="I78zCM2juGEQ-sPlvAM",t.google_conversion_value=thn.widgets.booking.data.price||thn.widgets.price.data.price,t.google_conversion_currency=thn.widgets.booking.data.currency||thn.widgets.price.data.currency),window.google_trackConversion(t),thn.data.office&&(console.log("Track Conversion:"),console.log(t))}))}),thn.add_widget_url_history||(thn.add_widget_url_history=function(){var t={property_id:thn.data.property_id,visit_date:thn.data.time||0,url:window.location.href},e=thn.data.host+"/add_widget_url_history?"+thn.build_query(t);thn.add_log("URL Widget Add Widget URL History: "+thn.data.host+"/add_widget_url_history?"+thn.build_query(t)),document.createElement("img").setAttribute("src",e)}),thn.add_widget_url_error||(thn.add_widget_url_error=function(t){var e={property_id:thn.data.property_id,visit_date:thn.data.time||0,url:window.location.href,error:t},a=thn.data.host+"/add_widget_url_error?"+thn.build_query(e);thn.add_log("URL Widget Add Widget URL Error: "+thn.data.host+"/add_widget_url_error?"+thn.build_query(e)),document.createElement("img").setAttribute("src",a)}),thn.call_client_analytics||(thn.call_client_analytics=function(e){window.ga&&"function"==typeof ga&&ga(function(){ga.getAll().forEach(function(t){ga(t.get("name")+".send",{hitType:"event",eventCategory:"THN",eventAction:"Widget",eventLabel:e,nonInteraction:!0})}),thn.add_log("Called Client Analytics - "+e)})}),thn.create_fingerprint=function(){return new Promise(function(e,t){thn.dom_ready().then(function(){(new thn.Fingerprint2).get(function(t){thn.data.fingerprint=t,e(t)})})})},thn.load_basic_data=function(){return new Promise(function(a,i){function e(t){if(t){var e=thn.data.host+"/widget/js/"+(thn.data.office?"test":"proc")+"/"+t+".json";thn.require(["json!"+e],function(t){thn.setup(t),a(t)})}else i("no_property_id_or_account_key")}var t=thn.data.script_src.substr(thn.data.script_src.indexOf("?")),n=thn.parse_url_parameters(t),r=parseInt(n.property_id,10)||0,o=(parseInt(n.hotel_id,10),n.account_key||"");if(!r&&(n.hotel_id||n.bahiaprincipe_id||n.octorate_id)){var s=thn.data.host+"/get_hotel_property_rel";thn.ajax.get(s,n,function(t){e((thn.is_json(t)&&window.JSON&&JSON.parse(t)).property_id)})}else{e(r||o)}})},thn.detect_script_src=function(){function a(){if("complete"===document.readyState||"interactive"===document.readyState){var t=Array.from(document.getElementsByTagName("script")).filter(function(t){return t.src.replace(/https?\:\/\//g,"").match(thn.data.host.replace(/https?\:\/\//g,""))});return t.length?t[t.length-1].src:void 0}}var i=window.__thn_script_src||document.currentScript&&document.currentScript.src||a();return new Promise(function(t,e){i?(thn.data.script_src=i,t(i)):thn.dom_ready().then(function(){(i=a())?(thn.data.script_src=i,t(i)):e("no_script_src")})})},thn.get_fingerprint_data=function(){return new Promise(function(a,i){var t={fingerprint:thn.data.fingerprint,language:thn.data.language};"hotel"===thn.data.mode?(t.hotel_id=thn.data.hotel_id,t.property_id=thn.data.property_id):"corporative"===thn.data.mode&&(t.account_key=thn.data.account_key,t.user_id=thn.data.account_user_id),void 0!==thn.widgets.price.data.price&&0!=thn.widgets.price.data.price&&void 0!==thn.widgets.price.data.date_begin&&void 0!==thn.widgets.price.data.date_end&&(t.price=thn.widgets.price.data.price,t.date_begin=thn.widgets.price.data.date_begin,t.date_end=thn.widgets.price.data.date_end),thn.trigger("thn_load",{}),thn.add_log("*************** QUERY FINGERPRINT DATA ***************"),thn.add_log("URL Get Widget Fingerprint Data: "+thn.data.host+"/get_widget_fingerprint_data?"+thn.build_query(t)),thn.ajax.get(thn.data.host+"/get_widget_fingerprint_data",t,function(t){var e=!1;thn.is_json(t)&&void 0!==(t=JSON.parse(t))&&void 0!==t.result&&1==t.result&&(e=!0,thn.widgets.oracle_incentives.data.incentives=t.oracle_incentives,thn.widgets.campaigns.data.campaigns=t.campaigns||[],thn.widgets.notes.data.notes=Array.isArray(t.notes)?t.notes.map(function(e){var t=Array.isArray(thn.widgets.notes.data.notes)&&thn.widgets.notes.data.notes.filter(function(t){return t.note_id===e.note_id});return e.state=Object.assign({},t&&t.length?t[0].state:thn.widgets.notes.data.default_note_state),e}):[],thn.widgets.exit.data.popups=t.exit_popups,thn.widgets.welcome.data.popups=t.wlc_popups,thn.data.time=t.time,thn.data.token=t.token,thn.data.visits=t.visits||{},thn.data.user.user_id=t.user_id,thn.data.ip=t.ip,thn.data.session=t.session,thn.data.country=t.country,thn.data.location=t.location,thn.data.origin=t.origin,thn.widgets.last_search.data.message=t.last_search_message,thn.data.user.last_search=t.last_search,t.property&&(thn.data.timezone=t.property.timezone,thn.data.date_format=t.property.date_format,thn.data.tz_description=t.property.tz_description),void 0!==t.wlc_popups&&0<t.wlc_popups.length&&void 0!==t.wlc_popups[0].bg_color&&"1"==t.wlc_popups[0].layout?thn.widgets.welcome.data.bg_color=t.wlc_popups[0].bg_color:thn.widgets.welcome.data.bg_color="000000",-1!=thn.data.right_align_languages.indexOf(thn.data.language)&&(1==thn.widgets.notes.data.mirror_rtl_lang&&thn.widgets.notes.data.notes.forEach(function(t){t.note_position=thn.mirror_position(t.note_position)}),1==thn.widgets.welcome.data.mirror_rtl_lang&&thn.widgets.welcome.data.popups.forEach(function(t){t.position=thn.mirror_position(t.position)}),1==thn.widgets.reviews.data.mirror_rtl_lang&&thn.widgets.reviews.data.position&&(thn.widgets.reviews.data.position=thn.mirror_position(thn.widgets.reviews.data.position)),1==thn.widgets.price.data.mirror_rtl_lang&&thn.widgets.price.data.position&&(thn.widgets.price.data.position=thn.mirror_position(thn.widgets.price.data.position)),1==thn.widgets.price.data.mirror_rtl_lang&&thn.data.pages.forEach(function(t){t.price_widget.wdgt_pstn&&(t.price_widget.wdgt_pstn=thn.mirror_position(t.price_widget.wdgt_pstn))}),1==thn.widgets.package.data.mirror_rtl_lang&&thn.widgets.package.data.position&&(thn.widgets.package.data.position=thn.mirror_position(thn.widgets.package.data.position))),thn.add_log(t),thn.data.output=t),thn.data.days_since_last_visit=void 0!==thn.data.visits&&null!=thn.data.visits&&void 0!==thn.data.visits.last_visit_date&&null!=thn.data.visits.last_visit_date?thn.days_between(new Date(1e3*thn.data.visits.last_visit_date),new Date):null,thn.data.hours_since_last_visit=void 0!==thn.data.visits&&null!=thn.data.visits&&void 0!==thn.data.visits.last_visit_date&&null!=thn.data.visits.last_visit_date?Math.floor(((new Date).getTime()-1e3*thn.data.visits.last_visit_date)/36e5):null,thn.add_log("Days and Hours since Last Visit: "+thn.data.days_since_last_visit+" - "+thn.data.hours_since_last_visit),e?a(!0):i("no_get_fingerprint_data")},!0)})},thn.start||(thn.start=function(t){var e=!0===(t=t||{}).awakening,a=!thn.in_array(thn.data.property_id,[1012756,1014210]),i=(new Date).getTime();if("document.ready"===thn.data.widget_load?thn.add_log("*************** STARTING BY DOCUMENT READY ***************"):"window.load"===thn.data.widget_load&&(thn.add_log("*************** STARTING BY WINDOW LOADED ***************"),window.removeEventListener("load",thn.start,!1)),!thn.data.start_time||5e3<i-thn.data.start_time)thn.data.start_time=i;else if(!e)return void thn.add_log("*************** Warning: Avoided a duplicated call to thn.start() ***************");if(thn.trigger("thn_start",{}),thn.load_url_params(),"ret"===thn.data.thn_ref&&thn.call_client_analytics("THN-retargeting"),thn.data.initialized||e||(window.addEventListener("message",thn.window_message_processor,!1),window.addEventListener("unload",thn.page_unload,!1),window.addEventListener("hashchange",function(t){thn.on_hash_change(t)}),thn.add_log("******** Listening to Window's 'hashchange' event *******"),void 0===thn._onpopstate&&(thn._onpopstate=window.onpopstate,window.onpopstate=function(t){"function"==typeof thn._onpopstate&&thn._onpopstate.apply(this,arguments),thn.on_state_change({detail:t})}),void 0===thn._pushState&&(thn._pushState=window.history.pushState,window.history.pushState=function(t,e,a){"function"==typeof thn._pushState&&thn._pushState.apply(this,arguments),thn.on_state_change({detail:{state:t,title:e,url:a}})}),void 0===thn._replaceState&&(thn._replaceState=window.history.replaceState,window.history.replaceState=function(t,e,a){"function"==typeof thn._replaceState&&thn._replaceState.apply(this,arguments),thn.on_state_change({detail:{state:t,title:e,url:a}})}),thn.add_log("******** Listening to Window's 'popstate' event *******"),((thn.in_array(thn.data.booking_system,[73])||thn.in_array(thn.data.property_id,[1011716,1010925,1013578]))&&!thn.is_iframed()||"corporative"===thn.data.mode)&&(thn.booking_iframe_listen(),thn.awake_child_script())),thn.is_iframed()&&a&&!e)return thn.add_log("*************** Delay thn.start() until awakening arrives ***************"),void thn.page_unload(function(){window.parent.postMessage({action:"thn_awake_schedule"},"*")});thn.is_iframed()&&(thn.add_log("Ping to the parent"),window.parent.postMessage({action:"thn_ping"},"*")),thn.add_log("Widget V "+thn.data.version),thn.add_log("*************** Basic Data ***************"),0!=thn.data.hotel_id&&0!=thn.data.property_id?(thn.add_log("Hotel JS"),thn.add_log("Hotel ID: "+thn.data.hotel_id+" - Property ID: "+thn.data.property_id+" - Fingerprint: "+thn.data.fingerprint)):(thn.add_log("Corporative JS"),thn.add_log("Account_key: "+thn.data.account_key+" - Fingerprint: "+thn.data.fingerprint)),thn.data.calculate_time&&thn.add_log("Execution time: "+(Math.floor((new Date).getTime()/1e3-(new Date).getTimezoneOffset())-thn.data.time)+" seconds"),thn.add_log("*************** Session ***************"),thn.add_log(thn.data.session),thn.data.initialized=!0;try{!0===t.awakening?setTimeout(function(){thn.page_check(),thn.trigger("thn_ready",{})},50):(thn.page_check(),thn.trigger("thn_ready",{}))}catch(t){}}),thn.load_url_params||(thn.load_url_params=function(){var t={},e={},a={},i=thn.data.script_src&&thn.data.script_src.replace(/.*\?(.*)/g,"$1").split("&");if(i&&i.length)for(var n=0;n<i.length;n+=1)i[n]=i[n].split("="),2===i[n].length&&("date_begin"===i[n][0]?e.date_begin=i[n][1].replace(/-/g,"/"):"date_end"===i[n][0]?e.date_end=i[n][1].replace(/-/g,"/"):"price"===i[n][0]?e.price=parseInt(i[n][1]):"currency"===i[n][0]?e.currency=i[n][1]:"language"===i[n][0]?thn.data.language=i[n][1]:"guests"===i[n][0]?e.guests=i[n][1]:"adults"===i[n][0]?e.adults=i[n][1]:"children"===i[n][0]?e.children=i[n][1]:"rooms"===i[n][0]?e.rooms=i[n][1]:"widgets.price.mode"===i[n][0]&&(e.mode=i[n][1]),"bc_booking_id"===i[n][0]?a.booking_id=i[n][1]:"bc_extras"===i[n][0]?a.extras=i[n][1].split("|"):"bc_phone"===i[n][0]?a.phone=i[n][1]:"bc_email"===i[n][0]?a.email=i[n][1]:"bc_price"===i[n][0]?a.price=i[n][1]:"bc_currency"===i[n][0]?a.currency=i[n][1]:"bc_date_begin"===i[n][0]?a.date_begin=i[n][1]:"bc_date_end"===i[n][0]?a.date_end=i[n][1]:"bc_adults"===i[n][0]?a.adults=i[n][1]:"bc_children"===i[n][0]&&(a.children=i[n][1]),"bc_total_rooms"===i[n][0]?t.total_rooms=i[n][1]:"bc_room_type"===i[n][0]?t.room_type=i[n][1]:"bc_room_price"===i[n][0]?t.room_price=i[n][1]:"bc_room_currency"===i[n][0]?t.room_currency=i[n][1]:"bc_room_adults"===i[n][0]?t.room_adults=i[n][1]:"bc_room_children"===i[n][0]&&(t.room_children=i[n][1]));if(void 0!==t.total_rooms){a.rooms=[];for(var r=0;r<parseInt(t.total_rooms);r+=1)a.rooms.push({type:void 0!==t.room_type&&t.room_type.split("|").length>=r?t.room_type.split("|")[r]:void 0,price:void 0!==t.room_price&&t.room_price.split("|").length>=r?t.room_price.split("|")[r]:void 0,currency:void 0!==t.room_currency&&t.room_currency.split("|").length>=r?t.room_currency.split("|")[r]:void 0,adults:void 0!==t.room_adults&&t.room_adults.split("|").length>=r?t.room_adults.split("|")[r]:void 0,children:void 0!==t.room_children&&t.room_children.split("|").length>=r?t.room_children.split("|")[r]:void 0})}e=thn.widgets.price.validate(e),Object.assign(thn.widgets.price.data,e),thn.widgets.price.data.set=thn.widgets.price.is_enough(thn.widgets.price.data),thn.widgets.booking.data.mode=thn.widgets.price.data.mode,a=thn.widgets.booking.validate(a),Object.assign(thn.widgets.booking.data,a),thn.widgets.booking.data.set=thn.widgets.booking.is_enough(thn.widgets.booking.data)}),thn.prestart=function(){function t(t){if(t.config=t.config||{},thn.engine=t,thn.allowed_location()){thn.engine&&thn.engine.boot&&thn.engine.boot({});var e=Promise.all([thn.parse_language(),thn.create_fingerprint()]).then(thn.get_fingerprint_data),a=thn.dom_ready().then(function(){[thn.data.host+"/img/widget/icons-sprite.png"].forEach(function(t){(new Image).src=t});var a=document.getElementsByTagName("head")[0];if(["//www.thehotelsnetwork.com/css/libs/notes/notes.css"].forEach(function(t){if(!(document.querySelector&&document.querySelector('link[href="'+t+'"]'))){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,e.media="print",e.onload=function(){e.media="all"},a.appendChild(e)}}),thn.data.rtrg_code){var t=document.createElement("script");t.type="text/javascript",t.async="true",t.src="https://static.criteo.net/js/ld/ld.js",a.appendChild(t)}1e6===thn.data.property_id&&(window.__lo_site_id=96012,function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://d10lpsik1i8c69.cloudfront.net/w.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}())}),i=function(){return Promise.all([thn.dom_ready(),e,a]).then(thn.start)};try{"window.load"===thn.data.widget_load&&document.addEventListener?window.addEventListener("load",i,!1):i()}catch(t){thn.add_widget_url_error(t)}}}thn.add_widget_url_history(),thn.trigger("thn_setup",{});var e=thn.generate_script_hash(thn.data.version,"hotel"===thn.data.mode?thn.data.booking_system:thn.data.account_user_id);e+=(thn.data.minified?".min":"")+".js?"+thn.data.mtime;var a=thn.data.host+"/widget/core/"+thn.data.version+"/build/engines/"+e;thn.require([a],t,function(){thn.add_log("ERROR: Loading of the engine has failed!"),thn.add_log(arguments),t({})})},thn.bootstrap=function(){var t=thn.detect_script_src();return Promise.all([t.then(thn.load_basic_data)]).then(thn.prestart)},thn.bootstrap();